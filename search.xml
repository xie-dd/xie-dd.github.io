<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Visual Studio(VS)+oneAPI安装教程</title>
      <link href="/posts/250501/"/>
      <url>/posts/250501/</url>
      
        <content type="html"><![CDATA[<h2 id="Step1-安装-Visual-Studio"><a href="#Step1-安装-Visual-Studio" class="headerlink" title="Step1 安装 Visual Studio"></a>Step1 安装 Visual Studio</h2><p>可以自及找资源，安装 Visual Studio 专业版，也可以直接安装社区版，下面是 vs2019 社区版的链接</p><p>官网： <a href="https://visualstudio.microsoft.com/zh-hans/vs/older-downloads/">https://visualstudio.microsoft.com/zh-hans/vs/older-downloads/</a></p><p>蓝奏云：<a href="https://xdd1997.lanzoub.com/iKUR81a1anab">https://xdd1997.lanzoub.com/iKUR81a1anab</a></p><h2 id="Step2-下载-oneAPI"><a href="#Step2-下载-oneAPI" class="headerlink" title="Step2 下载 oneAPI"></a>Step2 下载 oneAPI</h2><ul><li>打开网站：<a href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/toolkits.html">https://www.intel.com/content/www/us/en/developer/tools/oneapi/toolkits.html</a>，</li><li>选择 <code>Intel oneAPI Base Toolkit</code>, 离线安装包不用登陆，游客身份下载，大概 3.5G</li><li>再重新打开网址，下载<code>Intel® oneAPI HPC Toolkit</code>，大概 1.5G</li></ul><h2 id="Step3-安装-oneAPI"><a href="#Step3-安装-oneAPI" class="headerlink" title="Step3 安装 oneAPI"></a>Step3 安装 oneAPI</h2><ul><li>注意安装顺序，依次安装<code>oneAPI Base</code>与<code>oneAPI HPC</code></li><li><code>oneAPI Base</code>安装时间较长，耐心等待</li></ul>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vs </tag>
            
            <tag> oneAPI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在VS生成C++的DLL并调用</title>
      <link href="/posts/250430/"/>
      <url>/posts/250430/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><ul><li>c++生成 DLL 文件 visual studio 2019-CSDN 博客：<a href="https://blog.csdn.net/qq_37924224/article/details/115524682">https://blog.csdn.net/qq_37924224&#x2F;article&#x2F;details&#x2F;115524682</a></li></ul><h2 id="生成"><a href="#生成" class="headerlink" title="生成"></a>生成</h2><ol><li>打开 VS，新建项目<code>calc</code>，选择 C++动态链接库</li><li>此时资源方案解决管理器中会有<code>framework.h</code>, <code>pch.h</code>, <code>dllmain.cpp</code>以及<code>pch.cpp</code>四个文件。这四个文件自始至终都不用改动。</li><li>在源文件中新增文件<code>calc.cpp</code>，写入下面内容</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;pch.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;calc.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Add</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Mis</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>在头文件中新增文件<code>calc.h</code>，写入下面内容</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __cplusplus</span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">&quot;C&quot;</span> &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> XDDERDLL_EXPORTS</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> XDDERDLL_API __declspec(dllexport)</span></span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> XDDERDLL_API __declspec(dllimport)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 声明函数</span></span><br><span class="line">    <span class="function">XDDERDLL_API <span class="type">double</span> <span class="title">Add</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span></span>;</span><br><span class="line">    <span class="function">XDDERDLL_API <span class="type">double</span> <span class="title">Mis</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __cplusplus</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><ol start="5"><li>生成—生成解决方案，得到<code>calc.lib</code>, <code>calc.dll</code>文件，第 4 步还有<code>calc.h</code>文件</li></ol><h2 id="在-VS-里面调用-DLL"><a href="#在-VS-里面调用-DLL" class="headerlink" title="在 VS 里面调用 DLL"></a>在 VS 里面调用 DLL</h2><h3 id="显示调用"><a href="#显示调用" class="headerlink" title="显示调用"></a>显示调用</h3><blockquote><p>不需要加载头文件和 lib 库, <a href="https://zhuanlan.zhihu.com/p/374762398">https://zhuanlan.zhihu.com/p/374762398</a></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">double</span><span class="params">(*anyName)</span><span class="params">(<span class="type">double</span>, <span class="type">double</span>)</span></span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    HMODULE mydll = <span class="built_in">LoadLibrary</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;D:\\Desktop\\Dll1\\x64\\Release\\calc.dll&quot;</span>));</span><br><span class="line">    anyName funName = (anyName)<span class="built_in">GetProcAddress</span>(mydll, <span class="string">&quot;Add&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">double</span> x = <span class="number">1</span>, y = <span class="number">10.5</span>;</span><br><span class="line">    <span class="type">double</span> z = <span class="built_in">funName</span>(x, y);</span><br><span class="line">    cout &lt;&lt; z &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">FreeLibrary</span>(mydll);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="隐式调用"><a href="#隐式调用" class="headerlink" title="隐式调用"></a>隐式调用</h3><ol><li>新建 C++空项目，将<code>calc.lib</code>，<code>calc.dll</code>，<code>calc.h</code>三个文件拷贝到解决方案文件夹内。注意.dll 与.lib 是配套的，文件名不可更改，.h 文件名可以更改</li><li>配置项目属性</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">调试-环境：PATH=%PATH%;$(SolutionDir);</span><br><span class="line">C/C++-常规-附加包含目录：$(SolutionDir);</span><br><span class="line">链接器-常规-附加库目录：$(SolutionDir);</span><br><span class="line">链接器-常规-输入：calc.lib;</span><br></pre></td></tr></table></figure><ol start="3"><li>调用函数</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;calc.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">double</span> a = <span class="number">1.0</span>;</span><br><span class="line">    <span class="type">double</span> b = <span class="number">2.5</span>;</span><br><span class="line">    <span class="type">double</span> c = <span class="built_in">Add</span>(a, b);</span><br><span class="line">    <span class="type">double</span> d = <span class="built_in">Mis</span>(a, b);</span><br><span class="line">    std::cout &lt;&lt; c &lt;&lt; <span class="string">&quot;\n&quot;</span> &lt;&lt; d &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>输出展示</li></ol><p><img src="/assets/image-20250428185709-6irwun2.png"></p><h2 id="在-Matlab-中调用"><a href="#在-Matlab-中调用" class="headerlink" title="在 Matlab 中调用"></a>在 Matlab 中调用</h2><ol><li>新建<code>Main_1.m</code>文件，内容如下</li><li>将<code>calc.dll</code>，<code>calc.h</code>两个文件拷贝到<code>Main_1.m</code>文件所在目录</li><li>运行<code>Main_1.m</code>文件</li></ol><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">clc;clear</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> libisloaded(<span class="string">&#x27;calc&#x27;</span>)    <span class="comment">%% 确定是否已加载库</span></span><br><span class="line">    unloadlibrary(<span class="string">&#x27;calc&#x27;</span>) <span class="comment">%% 卸载库</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">loadlibrary(<span class="string">&#x27;calc.dll&#x27;</span>, <span class="string">&#x27;calc.h&#x27;</span>); <span class="comment">%% 加载库</span></span><br><span class="line">libfunctions(<span class="string">&#x27;calc&#x27;</span>)    <span class="comment">%% 列出库中函数的信息</span></span><br><span class="line"></span><br><span class="line">A = calllib(<span class="string">&#x27;calc&#x27;</span>, <span class="string">&#x27;Add&#x27;</span>, <span class="number">5.0</span>,<span class="number">3.1</span>);</span><br><span class="line"><span class="built_in">disp</span>(A)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="其它问题"><a href="#其它问题" class="headerlink" title="其它问题"></a>其它问题</h2><h3 id="查看-lib-dll-内的函数"><a href="#查看-lib-dll-内的函数" class="headerlink" title="查看 lib&#x2F;dll 内的函数"></a>查看 lib&#x2F;dll 内的函数</h3><blockquote><p>检查 lib 或者 dll 中是否确实含有函数</p></blockquote><p>开始菜单 — Developer Command Prompt for VS 2019</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd *******</span><br><span class="line">dumpbin /linkermember calc.lib &gt; A1.txt</span><br><span class="line">dumpbin /exports calc.dll &gt; A2.txt</span><br></pre></td></tr></table></figure><p>会输出</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>    <span class="number">0</span> <span class="number">00001000</span> Add = Add</span><br><span class="line"><span class="number">2</span>    <span class="number">1</span> <span class="number">00001010</span> Mis = Mis</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vs </tag>
            
            <tag> dll </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ParaView使用与VTK文件格式</title>
      <link href="/posts/250409/"/>
      <url>/posts/250409/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><p>paraview 案例(中英字幕): <a href="https://www.bilibili.com/video/BV1Jt4y1Q7wW">https://www.bilibili.com/video/BV1Jt4y1Q7wW</a></p><h2 id="绘制云图"><a href="#绘制云图" class="headerlink" title="绘制云图"></a>绘制云图</h2><h4 id="bat-调用-vtk"><a href="#bat-调用-vtk" class="headerlink" title="bat 调用 vtk"></a>bat 调用 vtk</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">paraview.exe --data=&quot;C:\Users\xdd\Downloads\001.vtk&quot;</span><br><span class="line">paraview.exe --script=&quot;C:\Users\xdd\Downloads\A006.py&quot;</span><br></pre></td></tr></table></figure><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><h4 id="资料-1"><a href="#资料-1" class="headerlink" title="资料"></a>资料</h4><p>所有 module: <a href="https://www.paraview.org/paraview-docs/v5.13.0/python/genindex.html">https://www.paraview.org/paraview-docs/v5.13.0/python/genindex.html</a></p><p>多多使用 ChatGPT</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://www.paraview.org/paraview-docs/v5<span class="number">.13</span><span class="number">.0</span>/python/paraview.simple.html<span class="comment">#paraview.simple.ColorBy</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="一个模板"><a href="#一个模板" class="headerlink" title="一个模板"></a>一个模板</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> paraview.simple <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取 VTK 文件</span></span><br><span class="line">vtk_file = <span class="string">r&quot;C:\Users\xdd\Downloads\001.vtk&quot;</span></span><br><span class="line">vtk_data = OpenDataFile(vtk_file)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取渲染视图</span></span><br><span class="line">renderView = GetActiveViewOrCreate(<span class="string">&#x27;RenderView&#x27;</span>)</span><br><span class="line">vtk_display = Show(vtk_data, renderView)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置自定义ANSYS色带</span></span><br><span class="line">aLUT = GetColorTransferFunction(<span class="string">&#x27;vec&#x27;</span>)</span><br><span class="line">aLUT.RGBPoints = [</span><br><span class="line">    <span class="number">0.0000000000</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>,</span><br><span class="line">    <span class="number">0.1111111111</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>,</span><br><span class="line">    <span class="number">0.1111111112</span>, <span class="number">0</span>, <span class="number">0.7</span>, <span class="number">1</span>,</span><br><span class="line">    <span class="number">0.2222222222</span>, <span class="number">0</span>, <span class="number">0.7</span>, <span class="number">1</span>,</span><br><span class="line">    <span class="number">0.2222222223</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>,</span><br><span class="line">    <span class="number">0.3333333333</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>,</span><br><span class="line">    <span class="number">0.3333333334</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0.7</span>,</span><br><span class="line">    <span class="number">0.4444444444</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0.7</span>,</span><br><span class="line">    <span class="number">0.4444444445</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>,</span><br><span class="line">    <span class="number">0.5555555555</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>,</span><br><span class="line">    <span class="number">0.5555555556</span>, <span class="number">0.7</span>, <span class="number">1</span>, <span class="number">0</span>,</span><br><span class="line">    <span class="number">0.6666666666</span>, <span class="number">0.7</span>, <span class="number">1</span>, <span class="number">0</span>,</span><br><span class="line">    <span class="number">0.6666666667</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>,</span><br><span class="line">    <span class="number">0.7777777777</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>,</span><br><span class="line">    <span class="number">0.7777777778</span>, <span class="number">1</span>, <span class="number">0.7</span>, <span class="number">0</span>,</span><br><span class="line">    <span class="number">0.8888888888</span>, <span class="number">1</span>, <span class="number">0.7</span>, <span class="number">0</span>,</span><br><span class="line">    <span class="number">0.8888888889</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">    <span class="number">1.0000000000</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 选择标量或矢量的分量</span></span><br><span class="line"><span class="comment"># ColorBy(vtk_display, (&#x27;POINTS&#x27;, &#x27;USUM&#x27;))    # 标量</span></span><br><span class="line"><span class="comment"># ColorBy(vtk_display, (&#x27;CELLS&#x27; , &#x27;MISS&#x27;))    # 标量</span></span><br><span class="line">ColorBy(vtk_display, (<span class="string">&#x27;POINTS&#x27;</span>, <span class="string">&#x27;vec&#x27;</span>, <span class="string">&#x27;X&#x27;</span>))  <span class="comment"># 矢量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vtk_display.Representation = <span class="string">&#x27;Surface With Edges&#x27;</span>    <span class="comment"># 显示方式 Surface With Edges</span></span><br><span class="line">vtk_display.SetScalarBarVisibility(renderView, <span class="literal">True</span>) <span class="comment"># 显示 colorbar</span></span><br><span class="line">vtk_display.EdgeColor = [<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>]              <span class="comment"># 黑色边</span></span><br><span class="line">vtk_display.LineWidth = <span class="number">6.0</span>                          <span class="comment"># 边线宽度</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 渲染视图</span></span><br><span class="line">renderView.ResetCamera()</span><br><span class="line">Render()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存图像</span></span><br><span class="line">SaveScreenshot(<span class="string">&quot;filename.png&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="VTK-相关"><a href="#VTK-相关" class="headerlink" title="VTK 相关"></a>VTK 相关</h2><p>vtk 官网：<a href="https://vtk.org/">https://vtk.org/</a></p><p>vtk 文件格式：<a href="https://www.princeton.edu/~efeibush/viscourse/vtk.pdf">https://www.princeton.edu/~efeibush&#x2F;viscourse&#x2F;vtk.pdf</a></p><h4 id="一个案例"><a href="#一个案例" class="headerlink" title="一个案例"></a>一个案例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"># vtk DataFile Version 3.1</span><br><span class="line">EXAMPLE TWO ELEM</span><br><span class="line">ASCII</span><br><span class="line">DATASET UNSTRUCTURED_GRID</span><br><span class="line">POINTS    9   float</span><br><span class="line">0 0 0</span><br><span class="line">1 0 0</span><br><span class="line">1 1 0</span><br><span class="line">0 1 0</span><br><span class="line">0 0 1</span><br><span class="line">1 0 1</span><br><span class="line">1 1 1</span><br><span class="line">0 1 1</span><br><span class="line">2 0 0</span><br><span class="line">CELLS    2   15</span><br><span class="line">      8      0      1      2      3      4      5      6      7</span><br><span class="line">      5      1      2      6      5      8</span><br><span class="line">CELL_TYPES    2</span><br><span class="line">12</span><br><span class="line">14</span><br><span class="line">POINT_DATA    9</span><br><span class="line">SCALARS v float</span><br><span class="line">LOOKUP_TABLE default</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td></tr></table></figure><h4 id="一个模板-1"><a href="#一个模板-1" class="headerlink" title="一个模板"></a>一个模板</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># vtk DataFile Version 3.0</span><br><span class="line">output2vtkByXdd</span><br><span class="line">ASCII</span><br><span class="line">DATASET UNSTRUCTURED_GRID</span><br><span class="line">POINTS 7359 double</span><br><span class="line">    4.500000000000000e+02    1.800000000000000e-14    0.000000000000000e+00</span><br><span class="line">    4.000000000000000e+02    0.000000000000000e+00    0.000000000000000e+00</span><br><span class="line">    ...</span><br><span class="line">CELLS 11523  103707</span><br><span class="line">         8       130       131        30        36       136       141        57        58</span><br><span class="line">         8       136       141        57        58       137       143        59        60</span><br><span class="line">      ...</span><br><span class="line">CELL_TYPES 11523</span><br><span class="line">        12</span><br><span class="line">        12</span><br><span class="line">      ...</span><br><span class="line">POINT_DATA 7359</span><br><span class="line">SCALARS ux float</span><br><span class="line">    1.803581750466487e-01</span><br><span class="line">    1.953078934248767e-01</span><br><span class="line">    ...</span><br><span class="line">POINT_DATA 7359</span><br><span class="line">Vectors aVectorResu double</span><br><span class="line">    1.803581750466487e-01   -1.359527956905437e-05    1.108509172624865e-01</span><br><span class="line">    1.953078934248767e-01    1.730515495530002e-05    1.083849176372485e-01</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure><h4 id="CELL-TYPES"><a href="#CELL-TYPES" class="headerlink" title="CELL_TYPES"></a>CELL_TYPES</h4><p>vtk 文件格式：<a href="https://www.princeton.edu/~efeibush/viscourse/vtk.pdf">https://www.princeton.edu/~efeibush&#x2F;viscourse&#x2F;vtk.pdf</a></p><p>蓝奏云备份：<a href="https://xdd1997.lanzoue.com/imojH2sxs5jg">https://xdd1997.lanzoue.com/imojH2sxs5jg</a></p><p>各类单元的<code>CELL_TYPES</code>标识可在上述 vtk 文件中找到，下面是一些常用单元的<code>CELL_TYPES</code>标识</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">点 1</span><br><span class="line">线 3</span><br><span class="line"></span><br><span class="line">一阶三角形 5</span><br><span class="line">一阶四边形 9</span><br><span class="line">一阶四面体 10</span><br><span class="line">一阶六面体 12</span><br><span class="line"></span><br><span class="line">二阶三角形 22</span><br><span class="line">二阶四边形 23</span><br><span class="line">二阶四面体 24</span><br><span class="line">二阶六面体 25</span><br></pre></td></tr></table></figure><h4 id="LOOKUP-TABLE"><a href="#LOOKUP-TABLE" class="headerlink" title="LOOKUP_TABLE"></a>LOOKUP_TABLE</h4><p>LOOKUP_TABLE 是 RGB 颜色对照表，是可选参数，可以不写</p><h4 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h4><ul><li>如果 vtk 文件正常，是不用选择 reader 的</li><li>对于矢量 vectors 好像不能指定<code>LOOKUP_TABLE</code>，现在的测试结果是直接不指定这一项就行</li><li>单元的结点编号要从 0 开始</li></ul>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> paraview </tag>
            
            <tag> vtk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS2019配置OCCT7.7.0环境-AIS显示形状</title>
      <link href="/posts/140101/"/>
      <url>/posts/140101/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><p>官网下载：<a href="https://dev.opencascade.org/release">https://dev.opencascade.org/release</a></p><p>开发文档: <a href="https://dev.opencascade.org/doc/overview/html/">https://dev.opencascade.org/doc/overview/html/</a></p><p>API 文档：</p><ul><li>联网(无搜索框)：<a href="https://dev.opencascade.org/doc/refman/html/index.html">https://dev.opencascade.org/doc/refman/html/index.html</a></li><li>本地(有搜索框)：opencascade-7.7.0&#x2F;doc&#x2F;refman&#x2F;html&#x2F;index.html，或搜索 module_draw.html</li></ul><h2 id="VS2019-配置-OCCT7-7-0-环境"><a href="#VS2019-配置-OCCT7-7-0-环境" class="headerlink" title="VS2019 配置 OCCT7.7.0 环境"></a>VS2019 配置 OCCT7.7.0 环境</h2><h3 id="编译-OCCT-静态库与动态库文件"><a href="#编译-OCCT-静态库与动态库文件" class="headerlink" title="编译 OCCT 静态库与动态库文件"></a>编译 OCCT 静态库与动态库文件</h3><p>教程：<a href="https://blog.csdn.net/xindashuai/article/details/131940740">手把手教你 VS2019 编译、配置 Opencascade</a></p><ol><li>进入<a href="https://dev.opencascade.org/release">https://dev.opencascade.org/release</a>，再点击 Previous releases，点击<a href="https://dev.opencascade.org/release/previous#node-84228">Open CASCADE Technology 7.7.0 - 07.11.2022</a>，注册，可下载到一个 exe 安装包</li><li>双击安装包，可一路默认安装</li><li>修改 C:\OpenCASCADE-7.7.0-vc14-64\opencascade-7.7.0\custom.bat 中 vcvarsall.bat 的路径</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 教程说把这一行修改成vcvarsall.bat的绝对路径，我实测就这样不改也行</span></span><br><span class="line">set <span class="string">&quot;VCVARS=%VS100COMNTOOLS%..\..\VC\vcvarsall.bat&quot;</span></span><br></pre></td></tr></table></figure><ol start="4"><li>打开 C:\OpenCASCADE-7.7.0-vc14-64\opencascade-7.7.0\msvc.bat，把第五行修改为如下形式</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">call <span class="string">&quot;%~dp0env.bat&quot;</span> vc142 Win64 %<span class="number">3</span></span><br></pre></td></tr></table></figure><ol><li>双击 msvc.bat 可自动打开 VS 软件</li><li>在解决方案上右键—属性—配置—最上面改成：Release, x64</li><li>在解决方案上右键–重新生成解决方案，最后输出如下</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">========== 全部重新生成: 成功 <span class="number">67</span> 个，失败 <span class="number">0</span> 个，跳过 <span class="number">0</span> 个 ==========</span><br></pre></td></tr></table></figure><ol><li>此时 C:\OpenCASCADE-7.7.0-vc14-64\opencascade-7.7.0\win64\vc14 会有 bin,lib,obj 三个文件夹，这就是 occt 编译结果</li></ol><h3 id="使用-OCCT-库文件"><a href="#使用-OCCT-库文件" class="headerlink" title="使用 OCCT 库文件"></a>使用 OCCT 库文件</h3><p>参考方法</p><p>视频英文原版：<a href="https://www.youtube.com/playlist?list=PL_WFkJrQIY2iVVchOPhl77xl432jeNYfQ">https://www.youtube.com/playlist?list=PL_WFkJrQIY2iVVchOPhl77xl432jeNYfQ</a></p><p>视频中文译版：<a href="https://www.bilibili.com/video/BV1yM411x7Xx">https://www.bilibili.com/video/BV1yM411x7Xx</a></p><p>文字中文译版：<a href="https://blog.csdn.net/sunlin0oo/article/details/126255593">OCCT 教程二：在 visual studio 上创建一个 occt 工程_occt 教学-CSDN 博客</a></p><ol><li>打开 VS2019，新建 C++空项目</li><li>在项目文件夹下新建一个 OCCT770 的文件夹，将前面得到的 bin，lib，以及一个 inc 文件夹拷贝到 OCCT770 文件夹下。其中 inc 文件夹在 C:\OpenCASCADE-7.7.0-vc14-64\opencascade-7.7.0 里面</li><li>在项目右键—属性—开始配置环境<ul><li>将最上面的配置与平台改成：Release, x64</li><li>C&#x2F;C++—常规—附加包含目录—添加一条指向 OCCT770\inc</li><li>链接器—常规—附加库目录—指向 OCCT770\lib</li><li>调试—环境—添加 PATH&#x3D;%PATH%;$(SolutionDir)\OCCT770\bin;，这里其实是用&#x3D;添加了两个路径，其中路径可写绝对路径</li><li>连接器—输入—附加依赖项目，可以仅添加你需要的 lib 文件名称，也添加 OCCT770\lib 下所有 lib 文件名称。获得所有 lib 文件名方法见附 1</li></ul></li><li>源文件—添加 main.cpp 测试文件，测试文件见附 2</li><li>使用 Release,x64 配置—生成—重新生成解决方案—调试—开始执行不调试</li></ol><p>附 1：获得 OCCT770\lib 下所有 lib 文件名的方法：(1)在 OCCT770\lib 文件夹新建一个 AAA.bat 文件；(2)使用记事本打开 AAA.bat 文件，添加 DIR <em>.lib</em> &#x2F;B &gt;LIST.TXT，保存；(3)双击运行 AAA.bat 文件，即可得到所有 lib 文件的文件名</p><p>附 2：main.cpp</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;TopoDS_Shape.hxx&gt;</span></span><br><span class="line"><span class="comment">#include &lt;BRepPrimAPI_MakeBox.hxx&gt;</span></span><br><span class="line"><span class="comment">#include &lt;STEPControl_Writer.hxx&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="title function_ invoke__">main</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 创建盒子</span></span><br><span class="line">    BRepPrimAPI_MakeBox <span class="title function_ invoke__">boxMaker</span>(<span class="number">10.0</span>, <span class="number">20.0</span>, <span class="number">30.0</span>);</span><br><span class="line">    TopoDS_Shape boxShape = boxMaker.<span class="title function_ invoke__">Shape</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 保存为STEP文件</span></span><br><span class="line">    STEPControl_Writer writer;</span><br><span class="line">    writer.<span class="title function_ invoke__">Transfer</span>(boxShape, STEPControl_AsIs);</span><br><span class="line">    writer.<span class="title function_ invoke__">Write</span>(<span class="string">&quot;box_model.step&quot;</span>);</span><br><span class="line"></span><br><span class="line">    std::<span class="variable constant_">cout</span> &lt;&lt; <span class="string">&quot;盒子模型已保存为box_02.step&quot;</span> &lt;&lt; std::<span class="variable constant_">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="配置-AIS-可视化"><a href="#配置-AIS-可视化" class="headerlink" title="配置 AIS 可视化"></a>配置 AIS 可视化</h2><p>视频资料：<a href="https://www.youtube.com/watch?v=PXkv7fmURnI">https://www.youtube.com/watch?v=PXkv7fmURnI</a></p><p>视频配套文件：<a href="https://gitlab.com/ssv/lessons">https://gitlab.com/ssv/lessons</a></p><p>VTK: <a href="https://youtu.be/kZpr4ocnavA?feature=shared%E3%80%90%E6%B2%A1%E8%AF%95%E3%80%91">https://youtu.be/kZpr4ocnavA?feature=shared【没试】</a></p><p>首先按照上面一节介绍的配置好 OCCT 基础的环境，即可以正常建立模型，输入输出等，这里不再叙述。下面是配置 AIS 作为可视化的流程。</p><ol><li>VS—头文件—右键—添加—类，类名填写 Viewer</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2025/png/1488614/1736230253225-d98b6c79-4a66-4634-9b0d-e8d00fba7b0a.png"></p><ol start="2"><li>VS—头文件—右键—添加—类，类名填写 ViewerInteractor</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2025/png/1488614/1736230253220-86bf2afa-ba5e-4b4b-9d01-8e53acd61ca7.png"></p><ol><li>打开网站 <a href="https://gitlab.com/ssv/lessons/-/tree/master/Lesson04_HelloOpenCascade">https://gitlab.com/ssv/lessons/-/tree/master/Lesson04_HelloOpenCascade</a>，找到以下四个文件，分别复制其内容到我们新建的四个文件中。<a href="https://xdd1997.lanzoue.com/iOHGi2iqwgfa">蓝奏云备份</a></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Viewer.h</span><br><span class="line">Viewer.cpp</span><br><span class="line">ViewerInteractor.h</span><br><span class="line">ViewerInteractor.cpp</span><br></pre></td></tr></table></figure><ol><li>VS—源文件—右键—添加—新建项，创建 main.cpp</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;Viewer.h&quot;</span><br><span class="line">#include &lt;BRepPrimAPI_MakeBox.hxx&gt;</span><br><span class="line"></span><br><span class="line">int main(int argc, char** argv)</span><br><span class="line">&#123;</span><br><span class="line">    // Cteate ashape</span><br><span class="line">    BRepPrimAPI_MakeBox abox(10, 10, 20);</span><br><span class="line">    abox.Build();</span><br><span class="line">    const TopoDS_Shape&amp; ashape = abox.Shape();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // AIS Visualize</span><br><span class="line">    Viewer vout(50, 50, 500, 500);</span><br><span class="line">    vout &lt;&lt; ashape;</span><br><span class="line">    vout.StartMessageLoop();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="关于-W-键与-S-键不能使用"><a href="#关于-W-键与-S-键不能使用" class="headerlink" title="关于 W 键与 S 键不能使用"></a>关于 W 键与 S 键不能使用</h3><ol><li>打开文件 Viewer.cpp 文件，找到 StartMessageLoop()函数，注释掉下面语句</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m_context-&gt;SetDisplayMode(shape, AIS_Shaded, true);</span><br></pre></td></tr></table></figure><ol><li>重新编译绘制形状后，可按 s 键显示阴影，按 w 键显示框线</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2025/png/1488614/1736230253283-c79439e2-27d8-4055-80e7-733a62de8fd9.png"></p>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vs </tag>
            
            <tag> occt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用vtk作为OCCT的图形显示</title>
      <link href="/posts/140102/"/>
      <url>/posts/140102/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><ol><li>OpenCASCADE(OCC)_使用 VTK 显示(视频)：<a href="https://www.bilibili.com/video/BV1BL411Y7Ee">https://www.bilibili.com/video/BV1BL411Y7Ee</a></li><li>编译 vtk 与配置(视频)：<a href="https://www.youtube.com/watch?v=kZpr4ocnavA">https://www.youtube.com/watch?v=kZpr4ocnavA</a></li><li>编译 vtk(文本): <a href="https://mp.weixin.qq.com/s/RaQLRVKoAQKY2gf4lHmejw">https://mp.weixin.qq.com/s/RaQLRVKoAQKY2gf4lHmejw</a></li></ol><h2 id="编译-VTK"><a href="#编译-VTK" class="headerlink" title="编译 VTK"></a>编译 VTK</h2><ol><li>进入<a href="https://gitlab.kitware.com/vtk/vtk%EF%BC%8C%E4%B8%8B%E8%BD%BD9.2.0%E7%89%88%E6%9C%AC%E6%BA%90%E4%BB%A3%E7%A0%81%EF%BC%8C%E8%A7%A3%E5%8E%8B%EF%BC%8C%E5%BE%97%E5%88%B0%60vtk-v9.2.0%60%E2%80%8B%E6%96%87%E4%BB%B6%E5%A4%B9">https://gitlab.kitware.com/vtk/vtk，下载 9.2.0 版本源代码，解压，得到<code>vtk-v9.2.0</code>文件夹</a></li><li>进入<a href="https://cmake.org/download/%EF%BC%8C%E6%89%BE%E5%88%B0Windows">https://cmake.org/download/，找到 Windows</a> x64 Installer 进行下载，然后安装</li><li>打开 cmake, 源代码目录选择 vtk-v9.2.0 文件夹，再新建一个 vtk-v9.2.0-bulid 目录存放编译内容，点击 Configure，弹出一个框，选择 VS2019 和 x64，点击 Finish，开始编译</li><li>弹出一个框，新建 vtk-v9.2.0-install 目录配置给 cmake_install_prefix，然后依次点击 Configure—Generate—Open Project，进入 VS2019</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202412311937561.png"></p><ol start="4"><li>在解决方案中找到 INSTALL—右键—生成，时间较长需等待</li><li>编译完成后在 vtk-v9.2.0-install 文件夹下有 bin&#x2F;include&#x2F;lib 三个文件夹</li></ol><p>‍</p><p>‍</p><h2 id="编译-OCCT"><a href="#编译-OCCT" class="headerlink" title="编译 OCCT"></a>编译 OCCT</h2><ol><li>下载 occt 7.7.0 源码 <strong>opencascade-7.7.0.tgz</strong> ：<a href="https://dev.opencascade.org/release%EF%BC%8C%E8%A7%A3%E5%8E%8B%E5%BE%97%E5%88%B0%60opencascade-7.7.0%60%E2%80%8B%E6%96%87%E4%BB%B6%E5%A4%B9">https://dev.opencascade.org/release，解压得到<code>opencascade-7.7.0</code>文件夹</a></li><li>进入<a href="https://dev.opencascade.org/resources/download/3rd-party-components%EF%BC%8C">https://dev.opencascade.org/resources/download/3rd-party-components，</a><ul><li>下载 Freeimage, vc14, x64</li><li>下载 Freetype, vc14, x64</li><li>下载 tcltk,vc12, x64</li></ul></li><li>新建一个 OCCT-7.7.0 的文件夹，把 occt 的源码文件夹<code>opencascade-7.7.0</code>拷贝进去</li><li>在 OCCT-7.7.0 文件夹下面新建<code>opencascade-7.7.0-build</code>, <code>opencascade-7.7.0-install</code>和<code>products</code>三个文件夹，将解压后的 Freeimage，Freetype，tcltk 文件夹拷贝到<code>products</code>文件夹内</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">D:\OCCT-<span class="number">7.7</span>.<span class="number">0</span></span><br><span class="line">|____opencascade-<span class="number">7.7</span>.<span class="number">0</span></span><br><span class="line">|____opencascade-<span class="number">7.7</span>.<span class="number">0</span>-build</span><br><span class="line">|____opencascade-<span class="number">7.7</span>.<span class="number">0</span>-install</span><br><span class="line">|____products</span><br><span class="line">     |____freeimage-<span class="number">3.17</span>.<span class="number">0</span>-vc14-<span class="number">64</span></span><br><span class="line">     |____freetype-<span class="number">2.5</span>.<span class="number">5</span>-vc14-<span class="number">64</span></span><br><span class="line">     |____tcltk-<span class="number">86</span>-<span class="number">64</span></span><br></pre></td></tr></table></figure><ol start="5"><li>打开 cmake 软件，配置好 OCCT 源码目录与 build 目录，点击 Generate</li><li>出现一堆红色的内容，开始配置环境，按照之前放置的路径进行配置即可</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202412312121932.png"></p><ol start="7"><li>点击 Configure 会弹出错误，再配置 VTK 的目录，再点击 Configure</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202412312125474.png"></p><ol start="8"><li>弹出下面错误，解决方法是取消勾选 <code>BUILD_MODULE_Draw</code>，再点击 Configure</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">VTK <span class="title function_ invoke__">version</span> (<span class="number">9.2</span>.<span class="number">0</span>)</span><br><span class="line">CMake <span class="built_in">Error</span> at CMakeLists.txt:<span class="number">858</span> (message):</span><br><span class="line">  Could not find headers of used third-party products:</span><br><span class="line">  <span class="number">3</span>RDPARTY_TCL_INCLUDE_DIR <span class="number">3</span>RDPARTY_TK_INCLUDE_DIR</span><br></pre></td></tr></table></figure><ol start="9"><li>点击 Generate—Open Project，进入 VS2019</li><li>在解决方案右键—生成解决方案—耐心等待【注意要 debug 还是 release】</li><li>在解决方案中找到 INSTALL—右键—生成</li><li>编译完成后，在 opencascade-7.7.0-install 文件夹就会有 occt 的 inc, bind, libd 文件夹。d 是因为 debug 模式</li></ol><p>‍</p><p>‍</p><h2 id="在-OCCT-项目中使用-VTK"><a href="#在-OCCT-项目中使用-VTK" class="headerlink" title="在 OCCT 项目中使用 VTK"></a>在 OCCT 项目中使用 VTK</h2><ol><li>打开 VS2019，新建一个 c++项目</li><li>右键—属性，开始配置 occ 与 vtk<ul><li>改成 Dedug x64 平台</li><li>调试—环境—增加 occ 的 bin 目录,vtk 的 bin 目录和 freetype 的 bin 目录: PATH&#x3D;%PATH%;D:\OCCT-7.7.0\opencascade-7.7.0-install\win64\vc14\bind;D:\vtk-v9.2.0-install\bin;D:\OCCT-7.7.0\products\freetype-2.5.5-vc14-64\bin;</li><li><code>C/C++</code>—常规—附加包含目录—增加 occ, vtk 头文件目录:D:\OCCT-7.7.0\opencascade-7.7.0-install\inc;D:\vtk-v9.2.0-install\include\vtk-9.2;</li><li>链接器—常规—增加 occ, vtk 的 lib 所在目录:D:\OCCT-7.7.0\opencascade-7.7.0-install\win64\vc14\libd;D:\vtk-v9.2.0-install\lib;</li><li>链接器—输入—附加依赖项目，增加 occ, vtk 的 lib 文件名称</li></ul></li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">DRAWEXE.lib</span><br><span class="line">ExpToCasExe.lib</span><br><span class="line">TKBin.lib</span><br><span class="line">TKBinL.lib</span><br><span class="line">TKBinTObj.lib</span><br><span class="line">TKBinXCAF.lib</span><br><span class="line">TKBO.lib</span><br><span class="line">TKBool.lib</span><br><span class="line">TKBRep.lib</span><br><span class="line">TKCAF.lib</span><br><span class="line">TKCDF.lib</span><br><span class="line">TKD3DHost.lib</span><br><span class="line">TKD3DHostTest.lib</span><br><span class="line">TKDCAF.lib</span><br><span class="line">TKDFBrowser.lib</span><br><span class="line">TKDraw.lib</span><br><span class="line">TKernel.lib</span><br><span class="line">TKExpress.lib</span><br><span class="line">TKFeat.lib</span><br><span class="line">TKFillet.lib</span><br><span class="line">TKG2d.lib</span><br><span class="line">TKG3d.lib</span><br><span class="line">TKGeomAlgo.lib</span><br><span class="line">TKGeomBase.lib</span><br><span class="line">TKHLR.lib</span><br><span class="line">TKIGES.lib</span><br><span class="line">TKIVtk.lib</span><br><span class="line">TKIVtkDraw.lib</span><br><span class="line">TKLCAF.lib</span><br><span class="line">TKMath.lib</span><br><span class="line">TKMesh.lib</span><br><span class="line">TKMeshVS.lib</span><br><span class="line">TKMessageModel.lib</span><br><span class="line">TKMessageView.lib</span><br><span class="line">TKOffset.lib</span><br><span class="line">TKOpenGl.lib</span><br><span class="line">TKOpenGles.lib</span><br><span class="line">TKOpenGlesTest.lib</span><br><span class="line">TKOpenGlTest.lib</span><br><span class="line">TKPrim.lib</span><br><span class="line">TKQADraw.lib</span><br><span class="line">TKRWMesh.lib</span><br><span class="line">TKService.lib</span><br><span class="line">TKShapeView.lib</span><br><span class="line">TKShHealing.lib</span><br><span class="line">TKStd.lib</span><br><span class="line">TKStdL.lib</span><br><span class="line">TKSTEP.lib</span><br><span class="line">TKSTEP209.lib</span><br><span class="line">TKSTEPAttr.lib</span><br><span class="line">TKSTEPBase.lib</span><br><span class="line">TKSTL.lib</span><br><span class="line">TKTInspector.lib</span><br><span class="line">TKTInspectorAPI.lib</span><br><span class="line">TKTObj.lib</span><br><span class="line">TKTObjDRAW.lib</span><br><span class="line">TKToolsDraw.lib</span><br><span class="line">TKTopAlgo.lib</span><br><span class="line">TKTopTest.lib</span><br><span class="line">TKTreeModel.lib</span><br><span class="line">TKV3d.lib</span><br><span class="line">TKVCAF.lib</span><br><span class="line">TKView.lib</span><br><span class="line">TKViewerTest.lib</span><br><span class="line">TKVInspector.lib</span><br><span class="line">TKVRML.lib</span><br><span class="line">TKXCAF.lib</span><br><span class="line">TKXDE.lib</span><br><span class="line">TKXDECascade.lib</span><br><span class="line">TKXDEDRAW.lib</span><br><span class="line">TKXDEIGES.lib</span><br><span class="line">TKXDESTEP.lib</span><br><span class="line">TKXMesh.lib</span><br><span class="line">TKXml.lib</span><br><span class="line">TKXmlL.lib</span><br><span class="line">TKXmlTObj.lib</span><br><span class="line">TKXmlXCAF.lib</span><br><span class="line">TKXSBase.lib</span><br><span class="line">TKXSDRAW.lib</span><br><span class="line"></span><br><span class="line">vtkInteractionStyle-<span class="number">9.2</span>d.lib</span><br><span class="line">vtkRenderingOpenGL2-<span class="number">9.2</span>d.lib</span><br><span class="line">vtkCommonCore-<span class="number">9.2</span>d.lib</span><br><span class="line">vtkRenderingCore-<span class="number">9.2</span>d.lib</span><br><span class="line">vtkCommonExecutionModel-<span class="number">9.2</span>d.lib</span><br><span class="line">vtksys-<span class="number">9.2</span>d.lib</span><br><span class="line">TKMath.lib</span><br><span class="line">TKV3d.lib</span><br><span class="line">TKIVtk.lib</span><br><span class="line">TKernel.lib</span><br><span class="line">TKTopAlgo.lib</span><br><span class="line">TKPrim.lib</span><br></pre></td></tr></table></figure><p>‍</p><ol start="3"><li>测试代码<code>main.cpp</code></li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;BRepPrimAPI_MakeBox.hxx&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#include &lt;IVtkTools_ShapeDataSource.hxx&gt;</span></span><br><span class="line"><span class="comment">#include &lt;vtkAutoInit.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;vtkRenderer.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;VtkRenderWindow.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;vtkRenderWindowInteractor.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;vtkInteractorStyleTrackballCamera.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;vtkPolyDataMapper.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">VTK_MODULE_INIT</span>(vtkRenderingOpenGL2)</span><br><span class="line"><span class="title function_ invoke__">VTK_MODULE_INIT</span>(vtkInteractionStyle)</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="title function_ invoke__">main</span>() &#123;</span><br><span class="line">    BRepPrimAPI_MakeBox <span class="title function_ invoke__">box</span>(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">TopoDS_Shape</span>&amp; ashape = box.<span class="title function_ invoke__">Shape</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//==============================================================================================</span></span><br><span class="line">    <span class="comment">// Source-&gt;mapper-&gt;actor-&gt;render</span></span><br><span class="line">    vtkNew&lt;IVtkTools_ShapeDataSource&gt; occSource;    <span class="comment">//创建一个可以被VTK使用的OCC数据源</span></span><br><span class="line">    occSource-&gt;<span class="title function_ invoke__">SetShape</span>(<span class="keyword">new</span> <span class="title class_">IVtkOCC_Shape</span>(ashape)); <span class="comment">//将ashape添加到数据源中</span></span><br><span class="line"></span><br><span class="line">    vtkNew&lt;vtkPolyDataMapper&gt; mapper;               <span class="comment">//创建一个VTK数据类型</span></span><br><span class="line">    mapper-&gt;<span class="title function_ invoke__">SetInputConnection</span>(occSource-&gt;<span class="title function_ invoke__">GetOutputPort</span>()); <span class="comment">//创建管道，将occ数据导入到VTK</span></span><br><span class="line"></span><br><span class="line">    vtkNew&lt;vtkActor&gt; actor;   <span class="comment">//创建 actor</span></span><br><span class="line">    actor-&gt;<span class="title function_ invoke__">SetMapper</span>(mapper); <span class="comment">//将vtk数据交给actor</span></span><br><span class="line"></span><br><span class="line">    vtkNew&lt;vtkRenderWindow&gt; renderWindow; <span class="comment">//创建窗口</span></span><br><span class="line">    vtkNew&lt;vtkRenderer&gt; render;           <span class="comment">//创建渲染器</span></span><br><span class="line">    renderWindow-&gt;<span class="title function_ invoke__">AddRenderer</span>(render);    <span class="comment">//在窗口中加入渲染器</span></span><br><span class="line">    render-&gt;<span class="title function_ invoke__">AddActor</span>(actor);              <span class="comment">//在渲染器中加入actor</span></span><br><span class="line">    render-&gt;<span class="title function_ invoke__">SetBackground</span>(<span class="number">0.302</span>, <span class="number">0.302</span>, <span class="number">0.302</span>);<span class="comment">//设置窗口背景颜色</span></span><br><span class="line"></span><br><span class="line">    vtkNew&lt;vtkRenderWindowInteractor&gt; iren;           <span class="comment">//创建一个vtk交互器</span></span><br><span class="line">    vtkNew&lt;vtkInteractorStyleTrackballCamera&gt; istyle; <span class="comment">//创建vtk相机交互器样式</span></span><br><span class="line">    iren-&gt;<span class="title function_ invoke__">SetRenderWindow</span>(renderWindow);              <span class="comment">//设置渲染窗口</span></span><br><span class="line">    iren-&gt;<span class="title function_ invoke__">SetInteractorStyle</span>(istyle);                 <span class="comment">//设置交互器样式</span></span><br><span class="line"></span><br><span class="line">    iren-&gt;<span class="title function_ invoke__">Initialize</span>(); <span class="comment">//初始化交互器</span></span><br><span class="line">    iren-&gt;<span class="title function_ invoke__">Start</span>();      <span class="comment">//开始运行交互器</span></span><br><span class="line">    <span class="comment">//==============================================================================================</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202412312210740.png"></p><p>‍</p><p>‍</p><h2 id="vtk-资料"><a href="#vtk-资料" class="headerlink" title="vtk 资料"></a>vtk 资料</h2><p>书籍</p><p>《<a href="https://vtk.org/vtk-users-guide/">VTK User&apos;s Guide</a>》搜 <code>VTK_Users_Guide_v11.pdf</code></p><p>《VTK 用户手册–中文翻译版》搜 <code>VTK用户手册--中文翻译版.pdf</code></p><p>《VTK 图形图像开发进阶》搜 <code>VTK图形图像开发进阶</code></p><p>《数据可视化技术》林勇 暂无 PDF</p><p>‍</p><p>‍</p>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vs </tag>
            
            <tag> vtk </tag>
            
            <tag> occt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Patran/Nastran壳单元静力分析和模态分析</title>
      <link href="/posts/232213/"/>
      <url>/posts/232213/</url>
      
        <content type="html"><![CDATA[<h2 id="建立几何模型"><a href="#建立几何模型" class="headerlink" title="建立几何模型"></a>建立几何模型</h2><ol><li>打开 Patran—File—New—选个路径—设置文件名为 622.db</li><li>Geometry—Surfaces—右侧会出现窗口</li><li>依次设置 Action:<code>Create</code>,Object:<code>Surface</code>,Method:<code>XYZ</code></li><li>点击 Apply</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/20241123204308.png"></p><h2 id="建立材料"><a href="#建立材料" class="headerlink" title="建立材料"></a>建立材料</h2><ol><li>Properties—Isotropic—右侧会出现窗口</li><li>依次设置 Action:<code>Create</code>,Object:<code>Isotropic</code>,Method:<code>Manual Input</code>,Material Name: <code>steel_xdd</code></li><li>点击 Input Properties，设置弹性模量为 210E9，泊松比 0.3，密度 7850，点击 ok</li><li>点击 apply</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/20241123205105.png"></p><h2 id="建立单元属性"><a href="#建立单元属性" class="headerlink" title="建立单元属性"></a>建立单元属性</h2><ol><li>Properties—2D Properties—Shell—右侧会出现窗口</li><li>依次设置 Action:<code>Create</code>,Object:<code>2D</code>,Type:<code>Shell</code></li><li>设置 Property Set Name: <code>pshell_xdd</code></li><li>点击 Input Properties—点击 Mat Prop Name 后面的图标—选择已经定义的材料</li><li>设置 Thickness 值为 0.2，点击 ok</li><li>点击 Select Application Region—Select:Entities—选择左边界面的几何图形或者点击 Pick All—add—ok</li><li>点击 Apply</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/20241123205009.png"></p><h2 id="划分网格"><a href="#划分网格" class="headerlink" title="划分网格"></a>划分网格</h2><ol><li>Meshing—Mesh Seeds—Uniform—右侧会出现窗口</li><li>依次设置 Action:<code>Create</code>,Object:<code>Mesh Seed</code>,Type:<code>Uniform</code></li><li>依次选择几何线，并设置单元个数或者单元大小，点击 Apply</li><li>依次设置 Action:<code>Create</code>,Object:<code>Mesh</code>,Type:<code>Surface</code></li><li>依次设置 Elem Shape:<code>Quad</code>,Mesher:<code>IsoMesh</code>,Toplogy:<code>Quad4</code></li><li>选择界面上的几何面，点击 Select Existing Prop，选择已经定义好的单元属性</li><li>点击 Apply</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/20241123205744.png"></p><h2 id="设置工况-Load-Case"><a href="#设置工况-Load-Case" class="headerlink" title="设置工况 Load Case"></a>设置工况 Load Case</h2><h3 id="设置约束"><a href="#设置约束" class="headerlink" title="设置约束"></a>设置约束</h3><ol><li>Load&#x2F;BCS—Displacement Constraint—右侧会出现窗口</li><li>依次设置 Action:<code>Create</code>,Object:<code>Displacement</code>,Type:<code>Nodal</code></li><li>设置约束名称为 spc_xdd</li><li>点击 Input Data—选择约束的位移值，位移与转角均设置为<code>&lt;0 0 0 &gt;</code></li><li>点击 Select Application Region—Select:FEM—选择约束的节点—add—ok</li><li>点击 Apply, 约束设置完毕</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/20241123210313.png"></p><h3 id="设置载荷"><a href="#设置载荷" class="headerlink" title="设置载荷"></a>设置载荷</h3><ol><li>Load&#x2F;BCS—Force—右侧会出现窗口</li><li>依次设置 Action:<code>Create</code>,Object:<code>Force</code>,Type:<code>Nodal</code></li><li>设置载荷名称为 force_xdd</li><li>点击 Input Data—选择集中力的大小，Force 为<code>&lt;0 0 100&gt;</code></li><li>点击 Select Application Region—Select:FEM—选择集中力作用的节点—add—ok</li><li>点击 Apply, 载荷设置完毕</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/20241123210652.png"></p><h3 id="设置工况"><a href="#设置工况" class="headerlink" title="设置工况"></a>设置工况</h3><p>这一步可以不设置，系统会自动创建一个名为 Default 的工况，下面我们学习一下怎么设置与修改</p><ol><li>Load&#x2F;BCS—Create Load Case—右侧会出现窗口</li><li>可以看到，在 Existing Load Cases 已经有一个名为 Default 的工况</li><li>将 Action 设置为 Modify—点击下面的 Default—弹出一个窗口</li><li>左上角的是可选的载荷和约束，右上角是已经定义好的工况，最下面的当前工况希望含有的载荷与约束</li><li>点击 Remove All Rows 可以清空下面框框里面的载荷与约束，然后按照需求从左上角选择想添加到当前工况的载荷与约束</li><li>选择完毕后，点击 ok 退出设置</li><li>点击设置工况名称，点击 Apply 即可</li></ol><h2 id="设置求解选项"><a href="#设置求解选项" class="headerlink" title="设置求解选项"></a>设置求解选项</h2><h3 id="静力分析设置"><a href="#静力分析设置" class="headerlink" title="静力分析设置"></a>静力分析设置</h3><ol><li>Analysis—Analysis Desk—右侧会出现窗口</li><li>依次设置 Action:<code>Analyze</code>,Object:<code>Entire Model</code>,Method:<code>Analysis Desk</code></li><li>设置 Job Name: 622</li><li>点击 Solution Type: <code>LINEAR STATIC</code>—点击 ok</li><li>点击 Subcase Select 挑选工况，默认是选择名为 Default 的工况</li><li>点击 Subcases —点击 Output Requests—把位移应力应变添加进去—点击 ok—点击 Apply—点击 Cancel 退出此界面</li><li>点击 Apply 开始生成 bdf 文件</li><li>打开 Nastran 求解<code>622.bdf</code>文件</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/20241123211304.png"></p><h3 id="静力分析结果"><a href="#静力分析结果" class="headerlink" title="静力分析结果"></a>静力分析结果</h3><p><img src="https://cdn.nlark.com/yuque/0/2024/png/1488614/1732364561441-b1ad3218-ebb4-4b82-ae79-436fb066e93f.png"></p><h3 id="静力分析-BDF-文件"><a href="#静力分析-BDF-文件" class="headerlink" title="静力分析 BDF 文件"></a>静力分析 BDF 文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">SOL 101</span><br><span class="line">CEND</span><br><span class="line">TITLE = MSC.Nastran job created on 23-Nov-24 at 21:07:43</span><br><span class="line">ECHO = NONE</span><br><span class="line">SUBCASE 1</span><br><span class="line">   SUBTITLE=Default</span><br><span class="line">   SPC = 2</span><br><span class="line">   LOAD = 2</span><br><span class="line">   DISPLACEMENT(SORT1,REAL)=ALL</span><br><span class="line">   STRAIN(SORT1,REAL,VONMISES,STRCUR,BILIN)=ALL</span><br><span class="line">   STRESS(SORT1,REAL,VONMISES,BILIN)=ALL</span><br><span class="line"></span><br><span class="line">BEGIN BULK</span><br><span class="line">PARAM    POST    0</span><br><span class="line">PARAM   PRTMAXIM YES</span><br><span class="line">CQUAD4   1       1       1       2       5       4</span><br><span class="line">CQUAD4   2       1       2       3       6       5</span><br><span class="line">CQUAD4   3       1       1       4       8       7</span><br><span class="line">CQUAD4   4       1       4       5       9       8</span><br><span class="line">CQUAD4   5       1       5       6       10      9</span><br><span class="line">CQUAD4   6       1       7       8       12      11</span><br><span class="line">CQUAD4   7       1       8       9       13      12</span><br><span class="line">CQUAD4   8       1       9       10      14      13</span><br><span class="line">GRID*    1                              .809319019317627.467628985643387</span><br><span class="line">*        0.</span><br><span class="line">GRID*    2                              1.30931901931763.467628985643387</span><br><span class="line">*        0.</span><br><span class="line">GRID*    3                              1.80931901931763.467628985643387</span><br><span class="line">*        0.</span><br><span class="line">GRID*    4                              1.12353098392487.781840980052948</span><br><span class="line">*        0.</span><br><span class="line">GRID*    5                              1.42647039890289.793113708496094</span><br><span class="line">*        0.</span><br><span class="line">GRID*    6                              1.80931901931763.800962328910828</span><br><span class="line">*        0.</span><br><span class="line">GRID*    7                              .809319019317627.967628955841065</span><br><span class="line">*        0.</span><br><span class="line">GRID*    8                              1.134803771972661.08478021621704</span><br><span class="line">*        0.</span><br><span class="line">GRID*    9                              1.462530970573431.12084078788757</span><br><span class="line">*        0.</span><br><span class="line">GRID*    10                             1.809319019317631.1342955827713</span><br><span class="line">*        0.</span><br><span class="line">GRID*    11                             .8093190193176271.46762895584107</span><br><span class="line">*        0.</span><br><span class="line">GRID*    12                             1.142652392387391.46762895584107</span><br><span class="line">*        0.</span><br><span class="line">GRID*    13                             1.475985646247861.46762895584107</span><br><span class="line">*        0.</span><br><span class="line">GRID*    14                             1.809319019317631.46762895584107</span><br><span class="line">*        0.</span><br><span class="line">MAT1     1      2.1+11          .3      7850.</span><br><span class="line">PSHELL   1       1      .2       1               1</span><br><span class="line">SPCADD   2       1</span><br><span class="line">LOAD     2      1.      1.       1</span><br><span class="line">SPC1     1       123456  1       7       11</span><br><span class="line">FORCE    1       10      0      100.     0.      0.     1.</span><br><span class="line">ENDDATA</span><br></pre></td></tr></table></figure><h3 id="模态分析设置"><a href="#模态分析设置" class="headerlink" title="模态分析设置"></a>模态分析设置</h3><ol><li>Analysis—Analysis Desk—右侧会出现窗口</li><li>依次设置 Action:<code>Analyze</code>,Object:<code>Entire Model</code>,Method:<code>Analysis Desk</code></li><li>设置 Job Name: 518</li><li>点击 Solution Type: <code>NORMAL MODES</code>—点击 ok</li><li>点击 Subcase Select 挑选工况，默认是选择名为 Default 的工况</li><li>点击 Subcases Parameters—设置 Number of Desired Roots:<code>20</code>(希望求 20 阶特征值)—点击 ok—点击 Apply—点击 Cancel 退出此界面</li><li>点击 Apply 开始生成 bdf 文件</li><li>打开 Nastran 求解<code>518.bdf</code>文件即可</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/20241123212156.png"></p><h3 id="模态分析结果"><a href="#模态分析结果" class="headerlink" title="模态分析结果"></a>模态分析结果</h3><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/20241123215600.png"></p><h3 id="模态分析-BDF-文件"><a href="#模态分析-BDF-文件" class="headerlink" title="模态分析 BDF 文件"></a>模态分析 BDF 文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">SOL 103</span><br><span class="line">CEND</span><br><span class="line">ECHO = NONE</span><br><span class="line">SUBCASE 1</span><br><span class="line">   SUBTITLE=Default</span><br><span class="line">   METHOD = 1</span><br><span class="line">   SPC = 2</span><br><span class="line">   VECTOR(SORT1,REAL)=ALL</span><br><span class="line">   SPCFORCES(SORT1,REAL)=ALL</span><br><span class="line"></span><br><span class="line">BEGIN BULK</span><br><span class="line">PARAM    POST    0</span><br><span class="line">PARAM   PRTMAXIM YES</span><br><span class="line">CQUAD4   1       1       1       2       5       4</span><br><span class="line">CQUAD4   2       1       2       3       6       5</span><br><span class="line">CQUAD4   3       1       1       4       8       7</span><br><span class="line">CQUAD4   4       1       4       5       9       8</span><br><span class="line">CQUAD4   5       1       5       6       10      9</span><br><span class="line">CQUAD4   6       1       7       8       12      11</span><br><span class="line">CQUAD4   7       1       8       9       13      12</span><br><span class="line">CQUAD4   8       1       9       10      14      13</span><br><span class="line">GRID*    1                              .809319019317627.467628985643387</span><br><span class="line">*        0.</span><br><span class="line">GRID*    2                              1.30931901931763.467628985643387</span><br><span class="line">*        0.</span><br><span class="line">GRID*    3                              1.80931901931763.467628985643387</span><br><span class="line">*        0.</span><br><span class="line">GRID*    4                              1.12353098392487.781840980052948</span><br><span class="line">*        0.</span><br><span class="line">GRID*    5                              1.42647039890289.793113708496094</span><br><span class="line">*        0.</span><br><span class="line">GRID*    6                              1.80931901931763.800962328910828</span><br><span class="line">*        0.</span><br><span class="line">GRID*    7                              .809319019317627.967628955841065</span><br><span class="line">*        0.</span><br><span class="line">GRID*    8                              1.134803771972661.08478021621704</span><br><span class="line">*        0.</span><br><span class="line">GRID*    9                              1.462530970573431.12084078788757</span><br><span class="line">*        0.</span><br><span class="line">GRID*    10                             1.809319019317631.1342955827713</span><br><span class="line">*        0.</span><br><span class="line">GRID*    11                             .8093190193176271.46762895584107</span><br><span class="line">*        0.</span><br><span class="line">GRID*    12                             1.142652392387391.46762895584107</span><br><span class="line">*        0.</span><br><span class="line">GRID*    13                             1.475985646247861.46762895584107</span><br><span class="line">*        0.</span><br><span class="line">GRID*    14                             1.809319019317631.46762895584107</span><br><span class="line">*        0.</span><br><span class="line">EIGRL    1                       20      0                       MASS</span><br><span class="line">PSHELL   1       1      .2       1               1</span><br><span class="line">MAT1     1      2.1+11          .3      7850.</span><br><span class="line">SPCADD   2       1</span><br><span class="line">SPC1     1       123456  1       7       11</span><br><span class="line">ENDDATA</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nastran </tag>
            
            <tag> patran </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python虚拟环境</title>
      <link href="/posts/104034/"/>
      <url>/posts/104034/</url>
      
        <content type="html"><![CDATA[<h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><ol><li>新建一个项目文件夹 AA，打开 cmd，导航到 AA 文件夹。如果是下载的项目，一般要导航到文件<code>requirements.txt</code>所在的项目根目录</li><li>使用 venv 创建虚拟环境</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m venv env</span><br></pre></td></tr></table></figure><ol start="3"><li>激活创建的虚拟环境，激活成功后黑窗是这样显示的 <code>(env) D:\Desktop\AA&gt;</code></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">env\Scripts\activate.bat</span><br></pre></td></tr></table></figure><ol start="4"><li>查看当前环境已经安装的包，或者安装新包</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="built_in">list</span></span><br><span class="line">pip install</span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><ol start="6"><li>使用虚拟环境运行 Python 脚本</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python xdd.py</span><br></pre></td></tr></table></figure><h2 id="其它知识"><a href="#其它知识" class="headerlink" title="其它知识"></a>其它知识</h2><h3 id="列出项目依赖的库"><a href="#列出项目依赖的库" class="headerlink" title="列出项目依赖的库"></a>列出项目依赖的库</h3><h4 id="方案-1-freeze"><a href="#方案-1-freeze" class="headerlink" title="方案 1 freeze"></a>方案 1 freeze</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">进入虚拟环境</span><br><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure><h4 id="方案-2-pipreqs"><a href="#方案-2-pipreqs" class="headerlink" title="方案 2 pipreqs"></a>方案 2 pipreqs</h4><p><strong>这个方法不用进入虚拟环境</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pip install pipreqs</span><br><span class="line">cd 项目根目录</span><br><span class="line">pipreqs . --<span class="built_in">print</span> --force --encoding=utf8</span><br><span class="line">pipreqs . --encoding=utf8</span><br></pre></td></tr></table></figure><ol><li><code>**&lt;font style=&quot;color:rgb(0, 0, 0);&quot;&gt;.&lt;/font&gt;**</code><font style="color:rgb(0, 0, 0);"><br></font><font style="color:rgb(0, 0, 0);">表示扫描</font><strong><font style="color:rgb(0, 0, 0);">当前目录</font></strong><font style="color:rgb(0, 0, 0);">下的所有 Python 文件（</font><code>&lt;font style=&quot;color:rgb(0, 0, 0);&quot;&gt;.py&lt;/font&gt;</code><font style="color:rgb(0, 0, 0);">），分析代码中导入的第三方库。</font></li><li><code>**&lt;font style=&quot;color:rgb(0, 0, 0);&quot;&gt;--print&lt;/font&gt;**</code><font style="color:rgb(0, 0, 0);"><br></font><font style="color:rgb(0, 0, 0);">将生成的依赖列表</font><strong><font style="color:rgb(0, 0, 0);">直接输出到终端</font></strong><font style="color:rgb(0, 0, 0);">，而不是写入 </font><code>&lt;font style=&quot;color:rgb(0, 0, 0);&quot;&gt;requirements.txt&lt;/font&gt;</code><font style="color:rgb(0, 0, 0);"> 文件。适合预览或调试依赖关系。</font></li><li><code>**&lt;font style=&quot;color:rgb(0, 0, 0);&quot;&gt;--force&lt;/font&gt;**</code><font style="color:rgb(0, 0, 0);"><br></font><font style="color:rgb(0, 0, 0);">强制重新生成依赖列表。如果之前运行过 </font><code>&lt;font style=&quot;color:rgb(0, 0, 0);&quot;&gt;pipreqs&lt;/font&gt;</code><font style="color:rgb(0, 0, 0);"> 并生成了 </font><code>&lt;font style=&quot;color:rgb(0, 0, 0);&quot;&gt;requirements.txt&lt;/font&gt;</code><font style="color:rgb(0, 0, 0);">，此参数会</font><strong><font style="color:rgb(0, 0, 0);">忽略已有文件</font></strong><font style="color:rgb(0, 0, 0);">，重新扫描所有代码（即使无实际变化）。</font></li><li><code>**&lt;font style=&quot;color:rgb(0, 0, 0);&quot;&gt;--encoding=utf8&lt;/font&gt;**</code><font style="color:rgb(0, 0, 0);"><br></font><font style="color:rgb(0, 0, 0);">指定以 </font><strong><font style="color:rgb(0, 0, 0);">UTF-8 编码</font></strong><font style="color:rgb(0, 0, 0);">读取项目中的 Python 文件，避免因文件内容包含非 ASCII 字符（如中文注释）导致解析错误</font></li></ol><h3 id="检测使用的解释器环境"><a href="#检测使用的解释器环境" class="headerlink" title="检测使用的解释器环境"></a>检测使用的解释器环境</h3><p>使用 python 运行下面的 py 文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># xdd.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="built_in">print</span>(sys.path)</span><br></pre></td></tr></table></figure><h3 id="退出虚拟环境"><a href="#退出虚拟环境" class="headerlink" title="退出虚拟环境"></a>退出虚拟环境</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deactivate</span><br></pre></td></tr></table></figure><h3 id="删除虚拟环境，也就是删除文件夹"><a href="#删除虚拟环境，也就是删除文件夹" class="headerlink" title="删除虚拟环境，也就是删除文件夹"></a>删除虚拟环境，也就是删除文件夹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir /s myenv</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 虚拟环境 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>证件照开源项目HivisionIDPhotos</title>
      <link href="/posts/160000/"/>
      <url>/posts/160000/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><p>代码仓库：<a href="https://github.com/Zeyi-Lin/HivisionIDPhotos">https://github.com/Zeyi-Lin/HivisionIDPhotos</a></p><p>SwanHub 相关模型：<a href="https://swanhub.co/ZeYiLin/HivisionIDPhotos_models/tree/main">https://swanhub.co/ZeYiLin/HivisionIDPhotos_models&#x2F;tree&#x2F;main</a></p><h2 id="配置教程"><a href="#配置教程" class="headerlink" title="配置教程"></a>配置教程</h2><ol><li>随便找到一个文件夹，执行下面代码，或直接将 Github 仓库代码下载解压</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/Zeyi-Lin/HivisionIDPhotos.git</span><br></pre></td></tr></table></figure><ol start="2"><li>通过 cmd 进入文件夹，下载 Python 依赖文件</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">win+r ---&gt; cmd</span><br><span class="line">cd  HivisionIDPhotos</span><br><span class="line">pip install -r requirements.txt</span><br><span class="line">pip install -r requirements-app.txt</span><br></pre></td></tr></table></figure><ol start="3"><li>前往<a href="https://swanhub.co/ZeYiLin/HivisionIDPhotos_models/tree/main">SwanHub</a>下载 5 个模型，下载后其中四个模型存到项目的<code>hivision/creator/weights</code>目录下</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202411091346756.png"></p><ol start="4"><li>模型<code>retinaface-resnet50.onnx</code>，放在文件夹 hivision\creator\retinaface\weights</li><li>在 cmd 中执行<code>python app.py</code>，得到一个网址，在浏览器打开即可</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2024/png/1488614/1730815444222-cc8e394f-af65-4cf9-98f2-8ce1002b1abe.png"></p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><ol><li>人脸检测模型：retinaface-resnet50</li><li>抠图模型：一般使用 birefnet-v1-lite，如果只换底色<strong>要</strong>使用 hivision_modnet</li><li>更多使用方法参考：<a href="https://github.com/Zeyi-Lin/HivisionIDPhotos">https://github.com/Zeyi-Lin/HivisionIDPhotos</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 证件照 </tag>
            
            <tag> 抠图 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markdown转微信公众号项目-md</title>
      <link href="/posts/160127/"/>
      <url>/posts/160127/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><ol><li>项目仓库：<a href="https://github.com/doocs/md">https://github.com/doocs/md</a></li><li>在线使用：<a href="https://doocs.github.io/md/">https://doocs.github.io/md/</a></li></ol><h2 id="本地搭建流程"><a href="#本地搭建流程" class="headerlink" title="本地搭建流程"></a>本地搭建流程</h2><ol><li>下载 Github 上的该仓库代码，得到一个压缩包<code>md-main.zip</code></li><li>解压压缩包，得到下面这样的文件夹层次</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202411011527844.png"></p><ol start="3"><li>运行<code>win+r</code>,进入<code>md-main</code>文件夹</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">win+r</span><br><span class="line">cd /d D:\md-main</span><br></pre></td></tr></table></figure><ol start="4"><li>在本地部署项目</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i</span><br><span class="line">npm start</span><br><span class="line">在浏览器打开相应的网址即可</span><br></pre></td></tr></table></figure><h2 id="个性化设置"><a href="#个性化设置" class="headerlink" title="个性化设置"></a>个性化设置</h2>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
            <tag> 微信公众号 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo|Butterfly|修改字体</title>
      <link href="/posts/10212010/"/>
      <url>/posts/10212010/</url>
      
        <content type="html"><![CDATA[<h2 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h2><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202410212004008.png"></p><h2 id="修改方法"><a href="#修改方法" class="headerlink" title="修改方法"></a>修改方法</h2><ol><li>下载一个 ttf 字体，放在<code>themes/butterfly/source/font/YaHei_Consolas_Hybrid.ttf</code></li><li>在<code>themes/butterfly/source/css/</code>下创建<code>font.css</code>文件，内容如下：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line">  font-family: &#x27;YaHei_Consolas_Hybrid&#x27;;</span><br><span class="line">  font-display: swap;</span><br><span class="line">  src: url(&#x27;/fonts/YaHei_Consolas_Hybrid.ttf&#x27;) format(&#x27;truetype&#x27;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>修改<code>_config.butterfly.yml</code>文件，代码如下：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/font.css&quot;&gt;</span><br><span class="line">  bottom:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">font:</span><br><span class="line">  global-font-size:</span><br><span class="line">  code-font-size:</span><br><span class="line">  font-family: &#x27;YaHei_Consolas_Hybrid&#x27;</span><br><span class="line">  code-font-family: &#x27;YaHei_Consolas_Hybrid&#x27;</span><br></pre></td></tr></table></figure><ol start="4"><li>大功告成</li></ol><h3 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h3><ol><li>建议只修改代码字体，因为默认的代码字体不是等宽字体</li><li>css 文件中的<code>font-family</code>后面的参数可以随意，正确引用即可</li><li>css 文件中可以定义多种字体</li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 字体 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tecplot数据格式</title>
      <link href="/posts/10181029/"/>
      <url>/posts/10181029/</url>
      
        <content type="html"><![CDATA[<h2 id="Tecplot-帮助手册"><a href="#Tecplot-帮助手册" class="headerlink" title="Tecplot 帮助手册"></a>Tecplot 帮助手册</h2><ol><li>打开 tec360.exe—Help—Data Format Guide</li><li>或者直接搜索并打开文件：360_data_format_guide.pdf</li><li>主要有两种格式顺序格式&#x2F;非顺序格式，有限元数据要使用<code>非顺序格式</code>，除非模型比较规则才可以使用<code>顺序格式</code></li></ol><h2 id="Tecplot-各种单元数据格式"><a href="#Tecplot-各种单元数据格式" class="headerlink" title="Tecplot 各种单元数据格式"></a>Tecplot 各种单元数据格式</h2><h3 id="六面体单元"><a href="#六面体单元" class="headerlink" title="六面体单元"></a>六面体单元</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">variables = <span class="string">&quot;x&quot;</span>, <span class="string">&quot;y&quot;</span>,<span class="string">&quot;z&quot;</span>,<span class="string">&quot;disp&quot;</span></span><br><span class="line">zone T=XDD1, nodes=<span class="number">8</span>, elements=<span class="number">1</span>, et=brick, f=fepoint</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下面对应variables的数值</span></span><br><span class="line">-<span class="number">1</span>, -<span class="number">1</span>,  <span class="number">0</span>,  <span class="number">1.1</span></span><br><span class="line"> <span class="number">1</span>, -<span class="number">1</span>,  <span class="number">0</span>,  <span class="number">1.2</span></span><br><span class="line"> <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">0</span>,  <span class="number">1.3</span></span><br><span class="line">-<span class="number">1</span>,  <span class="number">1</span>,  <span class="number">0</span>,  <span class="number">1.4</span></span><br><span class="line">-<span class="number">1</span>, -<span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1.5</span></span><br><span class="line"> <span class="number">1</span>, -<span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1.6</span></span><br><span class="line"> <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1.7</span></span><br><span class="line">-<span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1.8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下面是单元连接关系</span></span><br><span class="line"><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span></span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202410181011770.png"></p><h3 id="四面体单元"><a href="#四面体单元" class="headerlink" title="四面体单元"></a>四面体单元</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">variables = <span class="string">&quot;x&quot;</span>, <span class="string">&quot;y&quot;</span>,<span class="string">&quot;z&quot;</span>,<span class="string">&quot;disp&quot;</span></span><br><span class="line">zone T=XDD2, nodes=<span class="number">4</span>, elements=<span class="number">1</span>, et=tetrahedron, f=fepoint</span><br><span class="line">-<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">1.1</span></span><br><span class="line"> <span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">1.2</span></span><br><span class="line"> <span class="number">1</span>,  <span class="number">1</span>, <span class="number">0</span>, <span class="number">1.3</span></span><br><span class="line"> <span class="number">1</span>, -<span class="number">1</span>, <span class="number">1</span>, <span class="number">1.8</span></span><br><span class="line"><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span></span><br></pre></td></tr></table></figure><h3 id="四边形单元"><a href="#四边形单元" class="headerlink" title="四边形单元"></a>四边形单元</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">variables = <span class="string">&quot;x&quot;</span>, <span class="string">&quot;y&quot;</span>,<span class="string">&quot;z&quot;</span>,<span class="string">&quot;disp&quot;</span></span><br><span class="line">zone T=XDD3, nodes=<span class="number">4</span>, elements=<span class="number">1</span>, et=quadrilateral, f=fepoint</span><br><span class="line">-<span class="number">1</span>, -<span class="number">1</span>,  <span class="number">0</span>,  <span class="number">1.1</span></span><br><span class="line"> <span class="number">1</span>, -<span class="number">1</span>,  <span class="number">0</span>,  <span class="number">1.2</span></span><br><span class="line"> <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">0</span>,  <span class="number">1.3</span></span><br><span class="line">-<span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1.4</span></span><br><span class="line"><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span></span><br></pre></td></tr></table></figure><h3 id="三角形单元"><a href="#三角形单元" class="headerlink" title="三角形单元"></a>三角形单元</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">variables = <span class="string">&quot;x&quot;</span>, <span class="string">&quot;y&quot;</span>,<span class="string">&quot;z&quot;</span>,<span class="string">&quot;disp&quot;</span></span><br><span class="line">zone T=XDD4, nodes=<span class="number">3</span>, elements=<span class="number">1</span>, et=triangle, f=fepoint</span><br><span class="line">-<span class="number">1</span>, -<span class="number">1</span>,  <span class="number">0</span>, <span class="number">1.1</span></span><br><span class="line"> <span class="number">1</span>, -<span class="number">1</span>,  <span class="number">0</span>, <span class="number">1.2</span></span><br><span class="line"> <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">0</span>, <span class="number">1.3</span></span><br><span class="line"><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span></span><br></pre></td></tr></table></figure><h3 id="同时输出多种类型的单元"><a href="#同时输出多种类型的单元" class="headerlink" title="同时输出多种类型的单元"></a>同时输出多种类型的单元</h3><p>如果是只有三角形与四边形，把三角形最后一个结点重复两次即可</p><p>如果是只有四面体与六面体，把四面体最后一个结点重复四次即可</p><p>同时含有 2D 与 3D 单元，将 2D 单元按照 3D 单元来写，想想怎么重复结点即可</p><p>如果只要网格，也可以重复上面的文件，比如下面这个同时输出六面体与三角形</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">variables = <span class="string">&quot;x&quot;</span>, <span class="string">&quot;y&quot;</span>,<span class="string">&quot;z&quot;</span>,<span class="string">&quot;disp&quot;</span></span><br><span class="line">zone T=XDD1, nodes=<span class="number">8</span>, elements=<span class="number">1</span>, et=brick, f=fepoint</span><br><span class="line"></span><br><span class="line">-<span class="number">1</span>, -<span class="number">1</span>,  <span class="number">0</span>,  <span class="number">1.1</span></span><br><span class="line"> <span class="number">1</span>, -<span class="number">1</span>,  <span class="number">0</span>,  <span class="number">1.2</span></span><br><span class="line"> <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">0</span>,  <span class="number">1.3</span></span><br><span class="line">-<span class="number">1</span>,  <span class="number">1</span>,  <span class="number">0</span>,  <span class="number">1.4</span></span><br><span class="line">-<span class="number">1</span>, -<span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1.5</span></span><br><span class="line"> <span class="number">1</span>, -<span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1.6</span></span><br><span class="line"> <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1.7</span></span><br><span class="line">-<span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">1.8</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">variables = <span class="string">&quot;x&quot;</span>, <span class="string">&quot;y&quot;</span>,<span class="string">&quot;z&quot;</span>,<span class="string">&quot;disp&quot;</span></span><br><span class="line">zone T=XDD4, nodes=<span class="number">3</span>, elements=<span class="number">1</span>, et=triangle, f=fepoint</span><br><span class="line">-<span class="number">1</span>, -<span class="number">1</span>,  <span class="number">0</span>, <span class="number">1.1</span></span><br><span class="line"> <span class="number">1</span>, -<span class="number">1</span>,  <span class="number">0</span>, <span class="number">1.2</span></span><br><span class="line"> <span class="number">1</span>,  <span class="number">1</span>,  <span class="number">0</span>, <span class="number">1.3</span></span><br><span class="line"><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="附录：Matlab-绘制六面体单元"><a href="#附录：Matlab-绘制六面体单元" class="headerlink" title="附录：Matlab 绘制六面体单元"></a>附录：Matlab 绘制六面体单元</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">p = [   -<span class="number">1</span> -<span class="number">1</span> <span class="number">0</span></span><br><span class="line"> <span class="number">1</span> -<span class="number">1</span> <span class="number">0</span></span><br><span class="line"> <span class="number">1</span>  <span class="number">1</span> <span class="number">0</span></span><br><span class="line">-<span class="number">1</span>  <span class="number">1</span> <span class="number">0</span></span><br><span class="line">-<span class="number">1</span> -<span class="number">1</span> <span class="number">1</span></span><br><span class="line"> <span class="number">1</span> -<span class="number">1</span> <span class="number">1</span></span><br><span class="line"> <span class="number">1</span>  <span class="number">1</span> <span class="number">1</span></span><br><span class="line">-<span class="number">1</span>  <span class="number">1</span> <span class="number">1</span>  ];</span><br><span class="line"></span><br><span class="line">t = [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span>];</span><br><span class="line"></span><br><span class="line">col = rand(<span class="number">8</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">close <span class="built_in">all</span>;figure;axis equal;hold on;view(<span class="number">45</span>,<span class="number">10</span>)</span><br><span class="line">patch(<span class="string">&#x27;Vertices&#x27;</span>,p,<span class="string">&#x27;Faces&#x27;</span>,t(:,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]),<span class="string">&#x27;FaceVertexCData&#x27;</span>,col,<span class="string">&#x27;FaceColor&#x27;</span>,<span class="string">&#x27;interp&#x27;</span>);</span><br><span class="line">patch(<span class="string">&#x27;Vertices&#x27;</span>,p,<span class="string">&#x27;Faces&#x27;</span>,t(:,[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]),<span class="string">&#x27;FaceVertexCData&#x27;</span>,col,<span class="string">&#x27;FaceColor&#x27;</span>,<span class="string">&#x27;interp&#x27;</span>);</span><br><span class="line">patch(<span class="string">&#x27;Vertices&#x27;</span>,p,<span class="string">&#x27;Faces&#x27;</span>,t(:,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">5</span>]),<span class="string">&#x27;FaceVertexCData&#x27;</span>,col,<span class="string">&#x27;FaceColor&#x27;</span>,<span class="string">&#x27;interp&#x27;</span>);</span><br><span class="line">patch(<span class="string">&#x27;Vertices&#x27;</span>,p,<span class="string">&#x27;Faces&#x27;</span>,t(:,[<span class="number">2</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">6</span>]),<span class="string">&#x27;FaceVertexCData&#x27;</span>,col,<span class="string">&#x27;FaceColor&#x27;</span>,<span class="string">&#x27;interp&#x27;</span>);</span><br><span class="line">patch(<span class="string">&#x27;Vertices&#x27;</span>,p,<span class="string">&#x27;Faces&#x27;</span>,t(:,[<span class="number">3</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">7</span>]),<span class="string">&#x27;FaceVertexCData&#x27;</span>,col,<span class="string">&#x27;FaceColor&#x27;</span>,<span class="string">&#x27;interp&#x27;</span>);</span><br><span class="line">patch(<span class="string">&#x27;Vertices&#x27;</span>,p,<span class="string">&#x27;Faces&#x27;</span>,t(:,[<span class="number">4</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">8</span>]),<span class="string">&#x27;FaceVertexCData&#x27;</span>,col,<span class="string">&#x27;FaceColor&#x27;</span>,<span class="string">&#x27;interp&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202410181012151.png"></p>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tecplot </tag>
            
            <tag> 云图 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FreeCAD界面及Python操作入门知识</title>
      <link href="/posts/191922/"/>
      <url>/posts/191922/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><p>官网：<a href="https://www.freecad.org/">https://www.freecad.org/</a></p><p>Github 仓库：<a href="https://github.com/FreeCAD/FreeCAD">https://github.com/FreeCAD/FreeCAD</a></p><p>中文文档：<a href="https://wiki.freecad.org/Online_Help_Toc/zh-cn">https://wiki.freecad.org/Online_Help_Toc&#x2F;zh-cn</a></p><p>FreeCAD 社区: <a href="https://forum.freecad.org/index.php?style=5">https://forum.freecad.org/index.php?style=5</a></p><p><font style="color:rgb(0, 0, 0);">Command Reference</font>: <a href="https://wiki.freecad.org/Category:Command_Reference/zh-cn">https://wiki.freecad.org/Category:Command_Reference&#x2F;zh-cn</a></p><p><font style="color:rgba(0, 0, 0, 0.9);">FreeCAD|API 及其用法</font>：<a href="https://mp.weixin.qq.com/s/6yTHeZdN3dIZEHwHGpu8xg">https://mp.weixin.qq.com/s/6yTHeZdN3dIZEHwHGpu8xg</a></p><h2 id="鼠标键盘操作"><a href="#鼠标键盘操作" class="headerlink" title="鼠标键盘操作"></a>鼠标键盘操作</h2><p>缩放：滚轮，向下是缩小</p><p>移动：Ctrl+右键</p><p>旋转：Shift+右键</p><h2 id="GUI-操作"><a href="#GUI-操作" class="headerlink" title="GUI 操作"></a>GUI 操作</h2><h3 id="中文界面"><a href="#中文界面" class="headerlink" title="中文界面"></a>中文界面</h3><p>Edit—Preferences—General—Language—简体中文</p><h3 id="建立几何-Part"><a href="#建立几何-Part" class="headerlink" title="建立几何-Part"></a>建立几何-Part<img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202409131649877.png"></h3><ol><li>工作台切换到 Part</li><li>零件—创建图元—可以创建：平面，立方体，圆柱体，圆锥体，球体，椭圆体，圆环体，棱柱，楔形，螺旋体，螺旋，圆，椭圆，点，线，正多边形</li><li>零件—拉伸</li></ol><h3 id="建立草图-Sketcher"><a href="#建立草图-Sketcher" class="headerlink" title="建立草图-Sketcher"></a>建立草图-Sketcher</h3><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202409131652577.png"></p><ol><li>工作台切换到 Sketcher</li><li>Sketcher—创建草图</li><li>建立各种线，修剪</li><li>建立约束。共点，点在线上，水平，垂直，平行，设置线的水平长度等</li><li>退出草图工作台，可以再切换到 Part 工作台进行拉伸</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202409131638908.png"></p><h2 id="Python-操作-FreeCAD"><a href="#Python-操作-FreeCAD" class="headerlink" title="Python 操作 FreeCAD"></a>Python 操作 FreeCAD</h2><blockquote><p>文档：<a href="https://wiki.freecad.org/Manual:A_gentle_introduction">https://wiki.freecad.org/Manual:A_gentle_introduction</a></p></blockquote><p>打开 Python 面板：View—Panels—Python console</p><p>这样，我们在 FreeCAD 中的每一步操作都会有相应的 Python 代码在控制台输出。</p><h3 id="官方文档创建-box"><a href="#官方文档创建-box" class="headerlink" title="官方文档创建 box"></a>官方文档创建 box</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个新的空文档</span></span><br><span class="line">doc = FreeCAD.newDocument()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输入doc可在控制台的提示中看到其属性与方法</span></span><br><span class="line"><span class="comment"># 通常以大写字母开头的名称是属性，以小写字母开头的名称是函数</span></span><br><span class="line">doc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将新对象添加到我们的文档中</span></span><br><span class="line">box = doc.addObject(<span class="string">&quot;Part::Box&quot;</span>,<span class="string">&quot;myBox&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 Python 时,文档不会自动重新计算。我们必须在需要时手动执行此操作来刷新界面</span></span><br><span class="line"><span class="comment"># doc.recompute() 执行完毕后就可以看到FreeCAD创建了一个立方体</span></span><br><span class="line">doc.recompute()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取所有的对象类型的列表</span></span><br><span class="line">doc.supportedTypes()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 探索一下盒子属性</span></span><br><span class="line">box.Height</span><br><span class="line"><span class="comment"># &gt;&gt; 10.0 mm</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 改变盒子的尺寸</span></span><br><span class="line">box.Length=<span class="number">20</span></span><br><span class="line">box.Width = <span class="number">5</span></span><br><span class="line">box.Height = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看框的线条颜色</span></span><br><span class="line">box.ViewObject.LineColor</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建矢量-矢量加减</span></span><br><span class="line">myvec = FreeCAD.Vector(<span class="number">2</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">othervec = FreeCAD.Vector(<span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>)</span><br><span class="line">sumvec = myvec.add(othervec)</span><br><span class="line"><span class="comment"># &gt;&gt; Vector (2.0, 3.0, 0.0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># FreeCAD每个对象都有一个 Placement 属性，它包含对象的位置（Base）和方向（Rotation）</span></span><br><span class="line">box.Placement</span><br><span class="line"><span class="comment"># &gt;&gt; Placement [Pos=(0,0,0), Yaw-Pitch-Roll=(0,0,0)]</span></span><br><span class="line">box.Placement.Base</span><br><span class="line"><span class="comment"># &gt;&gt; Vector (0.0, 0.0, 0.0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将box从点box.Placement.Base移动到点sumvec</span></span><br><span class="line">box.Placement.Base = sumvec</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202409122020767.png"></p><h3 id="官方文档创建点-线-面-体"><a href="#官方文档创建点-线-面-体" class="headerlink" title="官方文档创建点-线-面-体"></a>官方文档创建点-线-面-体</h3><blockquote><p><a href="https://wiki.freecad.org/Manual:Creating_and_manipulating_geometry">https://wiki.freecad.org/Manual:Creating_and_manipulating_geometry</a></p></blockquote><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202409131356169.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> FreeCAD</span><br><span class="line"><span class="keyword">import</span> Part</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 点</span></span><br><span class="line">V1 = FreeCAD.Vector(<span class="number">0</span>,<span class="number">10</span>,<span class="number">0</span>)</span><br><span class="line">V2 = FreeCAD.Vector(<span class="number">30</span>,<span class="number">10</span>,<span class="number">0</span>)</span><br><span class="line">V3 = FreeCAD.Vector(<span class="number">30</span>,-<span class="number">10</span>,<span class="number">0</span>)</span><br><span class="line">V4 = FreeCAD.Vector(<span class="number">0</span>,-<span class="number">10</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 线</span></span><br><span class="line">L1 = Part.LineSegment(V1,V2)</span><br><span class="line">L2 = Part.LineSegment(V4,V3)</span><br><span class="line">VC1 = FreeCAD.Vector(-<span class="number">10</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">C1 = Part.Arc(V1,VC1,V4)</span><br><span class="line">VC2 = FreeCAD.Vector(<span class="number">40</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">C2 = Part.Arc(V2,VC2,V3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 边界</span></span><br><span class="line">E1 = Part.Edge(L1)</span><br><span class="line">E2 = Part.Edge(L2)</span><br><span class="line">E3 = Part.Edge(C1)</span><br><span class="line">E4 = Part.Edge(C2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加几何到文档,几何名称会自动生成;也可以不添加,等形成了几何体,再添加体</span></span><br><span class="line"><span class="comment"># Part.show(E1)</span></span><br><span class="line"><span class="comment"># Part.show(E2)</span></span><br><span class="line"><span class="comment"># Part.show(E3)</span></span><br><span class="line"><span class="comment"># Part.show(E4)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 曲线</span></span><br><span class="line">W = Part.Wire([E1,E4,E2,E3])</span><br><span class="line"><span class="comment"># 面</span></span><br><span class="line">F = Part.Face(W)</span><br><span class="line"><span class="comment"># 体-拉伸</span></span><br><span class="line">P1 = F.extrude(FreeCAD.Vector(<span class="number">0</span>,<span class="number">0</span>,<span class="number">10</span>))</span><br><span class="line"><span class="built_in">print</span>(P.ShapeType)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加几何体到文档</span></span><br><span class="line">obj = FreeCAD.ActiveDocument.addObject(<span class="string">&quot;Part::Feature&quot;</span>,<span class="string">&quot;Solid_1&quot;</span>)</span><br><span class="line">obj.Shape = P1</span><br><span class="line">FreeCAD.ActiveDocument.recompute()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="其他常用操作"><a href="#其他常用操作" class="headerlink" title="其他常用操作"></a>其他常用操作</h3><h4 id="创建几何"><a href="#创建几何" class="headerlink" title="创建几何"></a>创建几何</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">创建向量</span><br><span class="line">V1 = App.Vector(<span class="number">0</span>, <span class="number">5</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">创建直线</span><br><span class="line">L1 = Part.LineSegment(V1, V2)</span><br><span class="line"></span><br><span class="line">创建圆线</span><br><span class="line">c = Part.makeCircle(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">创建圆弧线</span><br><span class="line">c = Part.Arc(V1, VC1, V4)</span><br><span class="line"></span><br><span class="line">创建多边形</span><br><span class="line">V1 = App.Vector(<span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>)</span><br><span class="line">V2 = App.Vector(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">V3 = App.Vector(<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">wire = Part.makePolygon([V1, V2, V3，V1])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">创建边界</span><br><span class="line">edge1 = Part.makeLine((<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), (<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">edge2 = Part.makeLine((<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>), (<span class="number">2</span>, <span class="number">2</span>, <span class="number">0</span>))</span><br><span class="line">wire = Part.Wire([edge1, edge2])</span><br><span class="line"></span><br><span class="line">创建面</span><br><span class="line">face = Part.Face(wire1)</span><br><span class="line"></span><br><span class="line">创建平面</span><br><span class="line">plane = Part.makePlane(<span class="number">3</span>, <span class="number">3</span>, App.Vector(<span class="number">4</span>, <span class="number">0</span>, <span class="number">0</span>), App.Vector(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">创建椭圆</span><br><span class="line">Part.Ellipse(Center, MajorRadius, MinorRadius)</span><br><span class="line"></span><br><span class="line">创建环面</span><br><span class="line">tor=Part.makeTorus(<span class="number">20</span>, <span class="number">10</span>, App.Vector(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), App.Vector(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>), <span class="number">0</span>, <span class="number">360</span>, <span class="number">180</span>)</span><br><span class="line"></span><br><span class="line">创建长方体</span><br><span class="line">box = Part.makeBox(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">创建球体</span><br><span class="line">sphere1 = Part.makeSphere(<span class="number">5</span>)</span><br><span class="line">sphere2 = Part.makeSphere(<span class="number">5</span>, App.Vector(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), App.Vector(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>), -<span class="number">90</span>, <span class="number">90</span>, <span class="number">180</span>)</span><br><span class="line"></span><br><span class="line">创建圆柱</span><br><span class="line">cylinder1 = Part.makeCylinder(<span class="number">4</span>, <span class="number">10</span>)</span><br><span class="line">cylinder2 = Part.makeCylinder(<span class="number">4</span>, <span class="number">10</span>, App.Vector(<span class="number">20</span>, <span class="number">0</span>, <span class="number">0</span>), App.Vector(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>), <span class="number">180</span>)</span><br><span class="line"></span><br><span class="line">创建圆锥</span><br><span class="line">cone1 = Part.makeCone(<span class="number">5</span>, <span class="number">0</span>, <span class="number">20</span>)</span><br><span class="line">cone2 = Part.makeCone(<span class="number">5</span>, <span class="number">0</span>, <span class="number">20</span>, App.Vector(<span class="number">20</span>, <span class="number">0</span>, <span class="number">0</span>), App.Vector(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>), <span class="number">180</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="布尔操作"><a href="#布尔操作" class="headerlink" title="布尔操作"></a>布尔操作</h4><blockquote><p>合并 fuse，减 cut，相交 common</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> FreeCAD <span class="keyword">as</span> App</span><br><span class="line"><span class="keyword">import</span> Part</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 布尔减</span></span><br><span class="line">cylinder = Part.makeCylinder(<span class="number">3</span>, <span class="number">10</span>, App.Vector(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), App.Vector(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line"><span class="comment"># Part.show(cylinder)</span></span><br><span class="line"></span><br><span class="line">sphere = Part.makeSphere(<span class="number">5</span>, App.Vector(<span class="number">5</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line"><span class="comment"># Part.show(sphere)</span></span><br><span class="line"></span><br><span class="line">diff = cylinder.cut(sphere)</span><br><span class="line">Part.show(diff)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Part.show(diff.Solids[0])</span></span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202409131401397.png"></p><h4 id="平移"><a href="#平移" class="headerlink" title="平移"></a>平移</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> FreeCAD <span class="keyword">as</span> App</span><br><span class="line"></span><br><span class="line">myShape = Part.makeBox(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">Part.show(myShape)</span><br><span class="line">myShape.Placement</span><br><span class="line"><span class="comment"># &gt;&gt; Placement [Pos=(0,0,0), Yaw-Pitch-Roll=(0,0,0)]</span></span><br><span class="line"></span><br><span class="line">myShape.translate(App.Vector(<span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">Part.show(myShape)</span><br><span class="line">myShape.Placement</span><br><span class="line"><span class="comment"># &gt;&gt; Placement [Pos=(10,0,0), Yaw-Pitch-Roll=(0,0,0)]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202409131416318.png"></p><h4 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> FreeCAD <span class="keyword">as</span> App</span><br><span class="line"></span><br><span class="line">myShape = Part.makeBox(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">Part.show(myShape)</span><br><span class="line">myShape.Placement</span><br><span class="line"><span class="comment"># &gt;&gt; Placement [Pos=(0,0,0), Yaw-Pitch-Roll=(0,0,0)]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绕直线(0,0,0)-(0,0,1)旋转180°</span></span><br><span class="line">myShape.rotate(App.Vector(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>),App.Vector(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>), <span class="number">180</span>)</span><br><span class="line">Part.show(myShape)</span><br><span class="line">myShape.Placement</span><br><span class="line"><span class="comment"># &gt;&gt; Placement [Pos=(0,0,0), Yaw-Pitch-Roll=(180,0,0)]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202409131417914.png"></p><h4 id="矩阵变换与缩放"><a href="#矩阵变换与缩放" class="headerlink" title="矩阵变换与缩放"></a>矩阵变换与缩放</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 矩阵变换</span></span><br><span class="line">myMat = App.Matrix()</span><br><span class="line">myMat.move(App.Vector(<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">myMat.rotateZ(math.pi/<span class="number">2</span>)</span><br><span class="line">myShape.transformShape(myMat)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 缩放</span></span><br><span class="line">myMat = App.Matrix()</span><br><span class="line">myMat.scale(<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">myShape=myShape.transformGeometry(myMat)</span><br></pre></td></tr></table></figure><h4 id="导入-stp-文件"><a href="#导入-stp-文件" class="headerlink" title="导入 stp 文件"></a>导入 stp 文件</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Part</span><br><span class="line">shape = Part.Shape()</span><br><span class="line">shape.read(<span class="string">&quot;your_file_path&quot;</span>)</span><br><span class="line">shape</span><br></pre></td></tr></table></figure><h3 id="界面制作"><a href="#界面制作" class="headerlink" title="界面制作"></a>界面制作</h3><p><a href="https://www.yuque.com/xdd1997/ek3kug/xk5xu4?singleDoc#">https://www.yuque.com/xdd1997/ek3kug/xk5xu4?singleDoc#</a> 《FreeCAD 笔记》</p>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> freecad </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HyperMesh-Python-API</title>
      <link href="/posts/104026/"/>
      <url>/posts/104026/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><p>官方文档：<a href="https://help.altair.com/hwdesktop/pythonapi/hypermesh.html">https://help.altair.com/hwdesktop/pythonapi/hypermesh.html</a></p><h2 id="我的理解"><a href="#我的理解" class="headerlink" title="我的理解"></a>我的理解</h2><h3 id="Session-and-Model-class"><a href="#Session-and-Model-class" class="headerlink" title="Session and Model class"></a>Session and Model class</h3><p>此功能允许用户在单个会话中使用多个 HyperMesh 模型，并通过多窗口布局将它们并排组织在单个页面上。设置了 Session 和 Model 两个类来提供管理此场景的机制。</p><p>对于我们常用的情境，只有一个模型，比较简单。</p><p><code>hm.Session()</code></p><p><code>hm.Model()</code></p><h3 id="Entity-Classes"><a href="#Entity-Classes" class="headerlink" title="Entity Classes"></a>Entity Classes</h3><p>每个 HyperMesh 实体类型(e.g. node, line, element, property)都由 hm.entities 模块中的相应类表示。因此，每个 HyperMesh 实体都可以表示为 Python 对象。所有的可用对象可以在下面网址查到：</p><p><a href="https://help.altair.com/hwdesktop/pythonapi/hypermesh/hm_entities.html#">https://help.altair.com/hwdesktop/pythonapi/hypermesh/hm_entities.html</a></p><h3 id="Collections"><a href="#Collections" class="headerlink" title="Collections"></a>Collections</h3><p>在操作时各种命令都会有一个操作对象的范围，比如删除 1~10 号单元，复制所有结点等操作。这些对象的范围指定就需要使用 Collections 类。例如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">% 选择<span class="number">1</span>,<span class="number">2</span>号Component</span><br><span class="line">hm.Collection(model, ent.Component, [<span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">% 选择<span class="built_in">id</span>=<span class="number">1</span>,<span class="number">2</span>的component里面的单元</span><br><span class="line">elems = hm.Collection(model, ent.Element, hm.Collection(m, ent.Component, [<span class="number">1</span>,<span class="number">2</span>]))</span><br><span class="line"></span><br><span class="line">% 特别的,如果需要所有单元,就不需要第<span class="number">3</span>项了</span><br><span class="line">elems = hm.Collection(model,ent.Element)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 空的选集</span></span><br><span class="line">empty_elem_col = hm.Collection(model,ent.Element,populate=<span class="literal">False</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>关于选集，有 4 个特别的函数: CollectionByAdjacent, CollectionByAttached, <strong>CollectionByDisplayed</strong>, CollectionByFace</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Collection of displayed elements</span></span><br><span class="line">elm_disp = hm.CollectionByDisplayed(model, ent.Element)</span><br></pre></td></tr></table></figure><h3 id="查询与修改函数"><a href="#查询与修改函数" class="headerlink" title="查询与修改函数"></a>查询与修改函数</h3><h4 id="Model-Class-Query-Functions"><a href="#Model-Class-Query-Functions" class="headerlink" title="Model Class Query Functions"></a><font style="color:rgb(34, 40, 50);">Model Class Query Functions</font></h4><p>所有可用的查询函数：<a href="https://help.altair.com/hwdesktop/pythonapi/hypermesh/hm_query_funcs.html">https://help.altair.com/hwdesktop/pythonapi/hypermesh/hm_query_funcs.html</a></p><p>查询函数使用说明：<a href="https://help.altair.com/hwdesktop/pythonapi/hypermesh/hm_user_guide/hypermesh_funcs.html#query-functions">https://help.altair.com/hwdesktop/pythonapi/hypermesh/hm_user_guide&#x2F;hypermesh_funcs.html#query-functions</a></p><blockquote><p>所有 HyperMesh 函数都返回一个状态对象。大多数查询函数还返回一个结果对象。通过状态对象，您可以查看函数返回的消息以及告诉函数是否成功的状态。状态值 0 表示成功，非零值表示失败。</p><p>查询函数的名称总是以“hm_”开头。它们的特点是，它们中的大多数除了返回状态对象外，还返回携带查询信息的结果对象。有两种类型的结果对象&#x2F;类——HmQueryResult 和 HmQueryResultList。</p><p>HmQueryResult 是一种 HyperMesh 数据类型，默认情况下具有属性键<code>result.key</code>，该属性键返回携带函数返回的信息的所有属性的列表。</p><p>HmQueryResultList 表示 HmQueryResult 对象的列表。<code>len(result)</code>,<code>result[0].key</code></p></blockquote><h4 id="Model-Class-Modify-Functions"><a href="#Model-Class-Modify-Functions" class="headerlink" title="Model Class Modify Functions"></a><font style="color:rgb(34, 40, 50);">Model Class Modify Functions</font></h4><p><a href="https://help.altair.com/hwdesktop/pythonapi/hypermesh/hm_mod_funcs.html">https://help.altair.com/hwdesktop/pythonapi/hypermesh/hm_mod_funcs.html</a></p><p>比如连直线，多个直线围成面，移动复制单元等</p><h3 id="牛刀小试"><a href="#牛刀小试" class="headerlink" title="牛刀小试"></a>牛刀小试</h3><p>好，大致知识点就上面那些，下面我们要创建一个面并计算面积，步骤应该是：点-线-面-计算面积。</p><p><strong>Step1: 创建 4 个角结点</strong></p><p>要先找点的 Class, 好，找到了，叫<code>Nodes</code>, 下面是 Nodes 类的定义文档。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>(amodel: Model, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">Parameters: 几乎所有的Entity Class都是这种格式</span><br><span class="line">amodel (Model) – HyperMesh model <span class="built_in">object</span>.</span><br><span class="line">args (<span class="built_in">dict</span>) – User can specify internal entity ID to create an entity <span class="built_in">object</span></span><br><span class="line">              <span class="keyword">for</span> an existing entity.</span><br><span class="line">kwargs (<span class="built_in">dict</span>) – <span class="type">Optional</span> name-value pair arguments defining attributes of a new entity.</span><br></pre></td></tr></table></figure><p>根据文档，需要输入 Model 对象，还需要一些参数。args 是 ID，kwargs 是一些键值对。这些键值对需要去 DateName 里面找：<a href="https://help.altair.com/hwdesktop/hwd/topics/reference/hm/data_names-nodes.htm">data_names-nodes.htm</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># creat node</span></span><br><span class="line"><span class="keyword">import</span> hm</span><br><span class="line"><span class="keyword">import</span> hm.entities <span class="keyword">as</span> ent</span><br><span class="line"></span><br><span class="line">model = hm.Model()</span><br><span class="line"></span><br><span class="line">nodeNew = ent.Node(model)</span><br><span class="line">nodeNew.localcoordinates =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">nodeNew.<span class="built_in">id</span></span><br><span class="line">nodeNew.coordinates</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>下面创建四个 node</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hm</span><br><span class="line"><span class="keyword">import</span> hm.entities <span class="keyword">as</span> ent</span><br><span class="line"></span><br><span class="line">model = hm.Model()</span><br><span class="line"></span><br><span class="line">N1 = ent.Node(model)</span><br><span class="line">N1.localcoordinates =[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">N2 = ent.Node(model)</span><br><span class="line">N2.localcoordinates =[<span class="number">2</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">N3 = ent.Node(model)</span><br><span class="line">N3.localcoordinates =[<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line">N4 = ent.Node(model)</span><br><span class="line">N4.localcoordinates =[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>Step2: 连直线</strong></p><p>想着肯定是使用 Line Class, 再去找 Line 的 DataName: <a href="https://help.altair.com/hwdesktop/hwd/topics/reference/hm/data_names-lines.htm">data_names-lines.htm</a>, 应该需要 startcoords 与 endcoords。实验一下：上面的 Line Class 好像不能创建直线。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hm</span><br><span class="line"><span class="keyword">import</span> hm.entities <span class="keyword">as</span> ent</span><br><span class="line">model = hm.Model()</span><br><span class="line">L1 = ent.Line(model)</span><br><span class="line"><span class="comment"># RuntimeError: Invalid uid</span></span><br></pre></td></tr></table></figure><p>使用 Model 的修改函数可以，如下。但是 L1 不能直接拿到 id。可使用<code>hm_entitymaxid</code>查询并记录编号</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hm</span><br><span class="line"><span class="keyword">import</span> hm.entities <span class="keyword">as</span> ent</span><br><span class="line"></span><br><span class="line">model = hm.Model()</span><br><span class="line"></span><br><span class="line"><span class="comment"># *linecreatestraight x1 y1 z1 x2 y2 z2</span></span><br><span class="line">L1 = model.linecreatestraight(x1=<span class="number">0</span>,y1=<span class="number">0</span>,z1=<span class="number">0</span>, x2=<span class="number">2</span>,y2=<span class="number">0</span>,z2=<span class="number">0</span>)</span><br><span class="line">L2 = model.linecreatestraight(x1=<span class="number">2</span>,y1=<span class="number">0</span>,z1=<span class="number">0</span>, x2=<span class="number">2</span>,y2=<span class="number">1</span>,z2=<span class="number">0</span>)</span><br><span class="line">L3 = model.linecreatestraight(x1=<span class="number">2</span>,y1=<span class="number">1</span>,z1=<span class="number">0</span>, x2=<span class="number">0</span>,y2=<span class="number">1</span>,z2=<span class="number">0</span>)</span><br><span class="line">L4 = model.linecreatestraight(x1=<span class="number">0</span>,y1=<span class="number">1</span>,z1=<span class="number">0</span>, x2=<span class="number">0</span>,y2=<span class="number">0</span>,z2=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">status,result = model.hm_entitymaxid(ent.Line)</span><br><span class="line">L4_id = result.maxInternalID</span><br><span class="line"></span><br><span class="line">lines = hm.Collection(model, ent.Line)</span><br><span class="line"><span class="keyword">for</span> it <span class="keyword">in</span> lines:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Line ID:<span class="subst">&#123;it.<span class="built_in">id</span>&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(it.startcoords)</span><br><span class="line">    <span class="built_in">print</span>(it.endcoords)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;xdd&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>现在的问题是这些修改函数怎么能知道，最简单的方法还是在 HyperMesh 操作一遍，然后看 command.tcl 文件</p></blockquote><p><strong>Step3: 创建面</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hm</span><br><span class="line"><span class="keyword">import</span> hm.entities <span class="keyword">as</span> ent</span><br><span class="line"></span><br><span class="line">model = hm.Model()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建直线  *linecreatestraight x1 y1 z1 x2 y2 z2</span></span><br><span class="line">L1 = model.linecreatestraight(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, <span class="number">2</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">L2 = model.linecreatestraight(<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>, <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line">L3 = model.linecreatestraight(<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>, <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line">L4 = model.linecreatestraight(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>, <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建选集</span></span><br><span class="line">lines = hm.Collection(model, ent.Line)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建面  *surfacesplineonlinesloop mark_id fill_gaps use_surfs options</span></span><br><span class="line">model.surfacesplineonlinesloop(lines,<span class="number">1</span>,<span class="number">1</span>,<span class="number">67</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看面积</span></span><br><span class="line">status,result = model.hm_entitymaxid(ent.Surface)</span><br><span class="line">face1_id = result.maxInternalID</span><br><span class="line">face1_class = ent.Surface(model, face1_id)</span><br><span class="line">face1_class.area</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><p>官方案例：<a href="https://help.altair.com/hwdesktop/pythonapi/hypermesh/examples/hm_examples.html#">https://help.altair.com/hwdesktop/pythonapi/hypermesh/examples/hm_examples.html#</a></p><h3 id="获取某-entity-最大编号"><a href="#获取某-entity-最大编号" class="headerlink" title="获取某 entity 最大编号"></a>获取某 entity 最大编号</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hm</span><br><span class="line"><span class="keyword">import</span> hm.entities <span class="keyword">as</span> ent</span><br><span class="line"></span><br><span class="line">model = hm.Model()</span><br><span class="line"></span><br><span class="line">N1 = ent.Node(model)</span><br><span class="line">N1.localcoordinates =[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">N2 = ent.Node(model)</span><br><span class="line">N2.localcoordinates =[<span class="number">2</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取结点最大编号</span></span><br><span class="line">status,result = model.hm_entitymaxid(ent.Node)</span><br><span class="line">result.maxInternalID</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>在此强调：要善于使用 Tab 键</p></blockquote><h3 id="查看-X-号结点的坐标"><a href="#查看-X-号结点的坐标" class="headerlink" title="查看 X 号结点的坐标"></a>查看 X 号结点的坐标</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hm</span><br><span class="line"><span class="keyword">import</span> hm.entities <span class="keyword">as</span> ent</span><br><span class="line"></span><br><span class="line">model = hm.Model()</span><br><span class="line"><span class="built_in">id</span> = <span class="number">2</span></span><br><span class="line">node = ent.Node(model, <span class="built_in">id</span>)</span><br><span class="line">node.coordinates</span><br><span class="line">node.y</span><br></pre></td></tr></table></figure><h3 id="创建并指定材料与属性"><a href="#创建并指定材料与属性" class="headerlink" title="创建并指定材料与属性"></a>创建并指定材料与属性</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hm</span><br><span class="line"><span class="keyword">import</span> hm.entities <span class="keyword">as</span> ent</span><br><span class="line"></span><br><span class="line">model = hm.Model()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建材料</span></span><br><span class="line">mat1 = ent.Material(model)</span><br><span class="line">mat1.name = <span class="string">&quot;Steel&quot;</span></span><br><span class="line">mat1.cardimage = <span class="string">&quot;MAT1&quot;</span></span><br><span class="line">mat1.E = <span class="number">21e04</span></span><br><span class="line">mat1.Nu = <span class="number">0.3</span></span><br><span class="line">mat1.Rho = <span class="number">7850</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建属性,并为属性添加材料</span></span><br><span class="line">prop1 = ent.Property(model)</span><br><span class="line">prop1.name = <span class="string">&quot;Prop&quot;</span></span><br><span class="line">prop1.cardimage = <span class="string">&quot;PSOLID&quot;</span></span><br><span class="line">prop1.materialid = mat1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为某个Component指定属性</span></span><br><span class="line">compID = <span class="number">5</span></span><br><span class="line">comp1 = ent.Component(model, compID)</span><br><span class="line">comp1.<span class="built_in">property</span> = prop1</span><br></pre></td></tr></table></figure><h3 id="创建一个矢量用于移动单元"><a href="#创建一个矢量用于移动单元" class="headerlink" title="创建一个矢量用于移动单元"></a>创建一个矢量用于移动单元</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hm</span><br><span class="line"><span class="keyword">import</span> hm.entities <span class="keyword">as</span> ent</span><br><span class="line"></span><br><span class="line">model = hm.Model()</span><br><span class="line"></span><br><span class="line">elems = hm.Collection(model,ent.Element)</span><br><span class="line">model.translatemark(collection=elems,vector_id=hm.hwTriple(<span class="number">0.0</span>,<span class="number">0.0</span>,<span class="number">1.0</span>),distance=<span class="number">500.0</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> hypermesh </tag>
            
            <tag> tcl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyQt的线程类QThread与计时器类Qtimer</title>
      <link href="/posts/142701/"/>
      <url>/posts/142701/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><p>pyqt5 使用多线程避免程序假死 - 蔚蓝色の天空 - 博客园</p><p><a href="https://www.cnblogs.com/future-dream/p/14749132.html">https://www.cnblogs.com/future-dream/p/14749132.html</a></p><h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p>在下面这样一个界面，我们希望实现点击<code>按钮1</code>之后，在标签上依次打印 1,2,3,4，…</p><p><img src="https://cdn.nlark.com/yuque/0/2024/png/1488614/1725951830020-5312a8b9-5e2a-4ceb-bd14-20568e96e412.png"></p><p>下面的代码无法实现，因为单线程的原因，只会在标签上打印最后一个数字，且等待时间会出现意思崩溃的假象，因此我们需要使用多线程。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.Qt <span class="keyword">import</span> QApplication, QWidget, QPushButton, QLabel</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyWinClass</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.btn_1 = QPushButton(<span class="string">&#x27;按钮1&#x27;</span>, self)</span><br><span class="line">        self.btn_1.move(<span class="number">120</span>, <span class="number">80</span>)</span><br><span class="line">        self.btn_1.clicked.connect(self.btn_1_click)</span><br><span class="line"></span><br><span class="line">        self.label_1 = QLabel(<span class="string">&#x27;标签啊标签&#x27;</span>, self)</span><br><span class="line">        self.label_1.move(<span class="number">120</span>, <span class="number">120</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">btn_1_click</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">for</span> ii <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            self.label_1.setText(<span class="built_in">str</span>(ii))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    w = MyWinClass()</span><br><span class="line">    w.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure><h2 id="QThread"><a href="#QThread" class="headerlink" title="QThread"></a>QThread</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5.Qt <span class="keyword">import</span> QApplication, QWidget, QPushButton, QLabel</span><br><span class="line"><span class="keyword">from</span> PyQt5.Qt <span class="keyword">import</span> QThread, pyqtSignal</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Thread_1</span>(<span class="title class_ inherited__">QThread</span>):</span><br><span class="line">    signal = pyqtSignal(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">for</span> ii <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            self.signal.emit(<span class="built_in">str</span>(ii))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyWinClass</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.btn_1 = QPushButton(<span class="string">&#x27;按钮1&#x27;</span>, self)</span><br><span class="line">        self.btn_1.move(<span class="number">120</span>, <span class="number">80</span>)</span><br><span class="line">        self.btn_1.clicked.connect(self.btn_1_click)</span><br><span class="line"></span><br><span class="line">        self.label_1 = QLabel(<span class="string">&#x27;标签啊标签&#x27;</span>, self)</span><br><span class="line">        self.label_1.move(<span class="number">120</span>, <span class="number">120</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">btn_1_click</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 实例化一个线程-绑定处理线程信号的函数</span></span><br><span class="line">        self.thread = Thread_1()</span><br><span class="line">        self.thread.signal.connect(self.show_msg)</span><br><span class="line">        self.thread.start()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show_msg</span>(<span class="params">self, str00</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot; 处理线程信号的函数 &quot;&quot;&quot;</span></span><br><span class="line">        self.label_1.setText(str00)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    w = MyWinClass()</span><br><span class="line">    w.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure><ol><li>建立一个继承 QThread 的类 Thread_1，重写 run 函数。在 run 函数中编写耗时或者单线程不便处理的函数，让<code>run</code>函数执行完毕后发出一个信号 signal，在<code>MyWinClass</code>里面编写处理这个信号的函数。</li><li>整个流程的逻辑是：(1) 在主程序中实例化一个 Thread_1 类的线程对象<code>self.thread</code>，(2) 绑定<code>self.thread</code>的槽的处理函数， (3) 执行<code>self.thread.start()</code>，就会执行<code>self.thread.run()</code>，然后发出信号，调用处理槽的函数。</li><li>QThread 缺点是不能自己选择终止进程，也可能是我没找到。对于间隔执行的任务，建议使用计时器<font style="color:rgb(34, 34, 38);">Qtimer，可以自己选择终止任务。</font></li></ol><h2 id="Qtimer"><a href="#Qtimer" class="headerlink" title="Qtimer"></a><font style="color:rgb(34, 34, 38);">Qtimer</font></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Step1 导入模块</span></span><br><span class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> QTime</span><br><span class="line"></span><br><span class="line"><span class="comment"># Step2 在初始化的函数里面添加</span></span><br><span class="line">self.time = QTimer(self)                       <span class="comment"># 设置一个计时器</span></span><br><span class="line">self.time.timeout.connect(self.YourFunction)   <span class="comment"># timeout事件的绑定</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Step3 在开始按钮添加</span></span><br><span class="line">self.time.start(<span class="number">1000</span>)  <span class="comment"># 计时开始,单位毫秒</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Step4 在结束按钮添加</span></span><br><span class="line">self.time.stop()  <span class="comment"># 计时结束，只有开始状态才能结束</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> QThread </tag>
            
            <tag> Qtimer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matlab发声函数sound</title>
      <link href="/posts/145910/"/>
      <url>/posts/145910/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><ol><li><a href="https://blog.csdn.net/qq_36002089/article/details/128738885">Matlab 发声函数 sound 问题_matlab sound-CSDN 博客</a></li><li>Matlab 官方文档: <a href="https://www.mathworks.com/help/matlab/ref/sound.html">Convert matrix of signal data to sound - MATLAB sound</a></li></ol><h2 id="sound"><a href="#sound" class="headerlink" title="sound"></a>sound</h2><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a><font style="color:rgb(64, 64, 64);">语法</font></h3><p>sound(y)</p><p>sound(y,Fs)</p><p>sound(y,Fs,nBits)</p><h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a><font style="color:rgb(64, 64, 64);">说明</font></h3><p>sound(y) 以默认采样率 8192 赫兹向扬声器发送音频信号 y</p><p>sound(y,Fs) 以采样率 Fs 向扬声器发送音频信号 y</p><p>sound(y,Fs,nBits) 对音频信号 y 使用 nBits 的采样位数</p><p><font style="color:rgb(64, 64, 64);"></font></p><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a><font style="color:rgb(64, 64, 64);">示例</font></h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 锣声</span></span><br><span class="line">load handel</span><br><span class="line">sound(y,Fs)</span><br><span class="line"></span><br><span class="line"><span class="comment">% 笑声</span></span><br><span class="line">load laughter</span><br><span class="line">sound(y,Fs)</span><br><span class="line"></span><br><span class="line"><span class="comment">%鸟声</span></span><br><span class="line">load chirp</span><br><span class="line">sound(y,Fs)</span><br><span class="line"></span><br><span class="line"><span class="comment">%qiu-pa</span></span><br><span class="line">load splat</span><br><span class="line">sound(y,Fs)</span><br><span class="line"></span><br><span class="line"><span class="comment">%火车</span></span><br><span class="line">load train</span><br><span class="line">sound(y,Fs)</span><br><span class="line"></span><br><span class="line"><span class="comment">% 播放 Hallelujah Chorus</span></span><br><span class="line">load handel.mat;</span><br><span class="line">sound(y, Fs);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 以录制的采样率的两倍播放 Hallelujah Chorus</span></span><br><span class="line">load handel.mat;</span><br><span class="line">sound(y, <span class="number">2</span>*Fs);</span><br></pre></td></tr></table></figure><p>播放 do，re，mi，fa，so，la，ti</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fs=<span class="number">44100</span>;</span><br><span class="line">t=<span class="number">0</span>: <span class="number">1</span>/fs: <span class="number">0.5</span>;</span><br><span class="line">do=<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">261.63</span> *t);</span><br><span class="line">re=<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">293.66</span> *t);</span><br><span class="line">mi=<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">329.63</span> *t);</span><br><span class="line">fa=<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">349.23</span> *t);</span><br><span class="line">so=<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">392.00</span> *t);</span><br><span class="line">la=<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">440.00</span> *t);</span><br><span class="line">ti=<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*<span class="number">493.88</span> *t);</span><br><span class="line">Cscale=[do,re,mi,fa,so,la,ti];</span><br><span class="line">sound(Cscale,fs)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> matlab </tag>
            
            <tag> sound </tag>
            
            <tag> 声音 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UG使用入门教程</title>
      <link href="/posts/194059/"/>
      <url>/posts/194059/</url>
      
        <content type="html"><![CDATA[<h2 id="视图-鼠标键盘操作"><a href="#视图-鼠标键盘操作" class="headerlink" title="视图&#x2F;鼠标键盘操作"></a>视图&#x2F;鼠标键盘操作</h2><p><font style="color:rgb(77, 77, 77);">视图旋转：中键</font></p><p><font style="color:rgb(77, 77, 77);">视图平移：shift 键+中键</font></p><p><font style="color:rgb(77, 77, 77);">视图缩放：Ctrl 键+中键</font></p><p><font style="color:rgb(77, 77, 77);">摆正视图：F8 键</font></p><p><font style="color:rgb(77, 77, 77);">鼠标中键一般可以当做</font><code>&lt;font style=&quot;color:rgb(77, 77, 77);&quot;&gt;确认键&lt;/font&gt;</code><font style="color:rgb(77, 77, 77);">使用，比如绘图，拉伸等命令</font></p><p><font style="color:rgb(77, 77, 77);"></font></p><h2 id="草图"><a href="#草图" class="headerlink" title="草图"></a>草图</h2><h3 id="新建草图"><a href="#新建草图" class="headerlink" title="新建草图"></a>新建草图</h3><p>菜单—插入—在任务环境中插入草图</p><h3 id="新建约束"><a href="#新建约束" class="headerlink" title="新建约束"></a>新建约束</h3><p>菜单—插入—几何约束</p><h3 id="选择曲线"><a href="#选择曲线" class="headerlink" title="选择曲线"></a>选择曲线</h3><p>注意可以筛选<code>单条曲线</code>与<code>相连曲线</code></p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202409031952738.png"></p>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matlab发送邮件</title>
      <link href="/posts/212433/"/>
      <url>/posts/212433/</url>
      
        <content type="html"><![CDATA[<h3 id="调用方式"><a href="#调用方式" class="headerlink" title="调用方式"></a>调用方式</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">receiver = <span class="string">&quot;xdd2026@qq.com&quot;</span>;</span><br><span class="line">mailtitle = <span class="string">&quot;来自Matlab&quot;</span>;</span><br><span class="line">mailcontent = <span class="string">&quot;Matlab已经执行完毕&quot;</span>;</span><br><span class="line">attachments = [];  <span class="comment">% attachments =&#x27;D:\status.txt&#x27;</span></span><br><span class="line">SentMail(receiver, mailtitle, mailcontent, attachments)</span><br></pre></td></tr></table></figure><h3 id="SentMail-函数"><a href="#SentMail-函数" class="headerlink" title="SentMail 函数"></a>SentMail 函数</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SentMail</span><span class="params">(receiver, mailtitle, mailcontent, attachments)</span></span></span><br><span class="line"><span class="comment">% Example:</span></span><br><span class="line"><span class="comment">%     SentMail(&#x27;xdd2026@qq.com&#x27;, &#x27;来自Matlab的email&#x27;, &#x27;运行完成&#x27;, [])</span></span><br><span class="line"><span class="comment">%     SentMail(&#x27;xdd2026@qq.com&#x27;, &#x27;来自Matlab的email&#x27;, &#x27;运行完成&#x27;, &#x27;D:\status.txt&#x27;)</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 添加邮箱和IMAP/SMTP授权码</span></span><br><span class="line">mail = <span class="string">&#x27;xdd2026@163.com&#x27;</span>;</span><br><span class="line">password = <span class="string">&#x27;****&#x27;</span>;  <span class="comment">% IMAP/SMTP</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 设置服务器，其中只有邮箱后缀需改动</span></span><br><span class="line">setpref(<span class="string">&#x27;Internet&#x27;</span>, <span class="string">&#x27;E_mail&#x27;</span>, mail);</span><br><span class="line">setpref(<span class="string">&#x27;Internet&#x27;</span>, <span class="string">&#x27;SMTP_Server&#x27;</span>, <span class="string">&#x27;smtp.163.com&#x27;</span>);  <span class="comment">% SMTP服务码</span></span><br><span class="line">setpref(<span class="string">&#x27;Internet&#x27;</span>, <span class="string">&#x27;SMTP_Username&#x27;</span>, mail);</span><br><span class="line">setpref(<span class="string">&#x27;Internet&#x27;</span>, <span class="string">&#x27;SMTP_Password&#x27;</span>, password);</span><br><span class="line">props = java.lang.System.getProperties;props.setProperty(<span class="string">&#x27;mail.smtp.auth&#x27;</span>, <span class="string">&#x27;true&#x27;</span>);</span><br><span class="line">props.setProperty(<span class="string">&#x27;mail.smtp.socketFactory.class&#x27;</span>, <span class="string">&#x27;javax.net.ssl.SSLSocketFactory&#x27;</span>);</span><br><span class="line">props.setProperty(<span class="string">&#x27;mail.smtp.socketFactory.port&#x27;</span>, <span class="string">&#x27;465&#x27;</span>);</span><br><span class="line"></span><br><span class="line">sendmail(receiver, mailtitle, mailcontent, attachments);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> matlab </tag>
            
            <tag> 邮件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python与Excel交互-xlwings</title>
      <link href="/posts/191659/"/>
      <url>/posts/191659/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><p>xlwings 官网：<a href="https://docs.xlwings.org/en/stable/index.html">https://docs.xlwings.org/en/stable/index.html</a></p><p><a href="https://mp.weixin.qq.com/s/j-VhxycCjJDyHLwX3RRRiA">运营学 Python ｜ Python&amp;Excel 联动(上)</a></p><p>注意：使用这个模型需要安装 Excel，相较于 openpyxl 可能效率不足，但是<strong>可实时看到结果</strong></p><h2 id="操作流程"><a href="#操作流程" class="headerlink" title="操作流程"></a>操作流程</h2><ol><li>打开 Jupyter Notebook—新建 Python 文件</li><li>安装模块 <code>!pip3 install xlwings --user</code></li><li>xlwings 的操作逻辑依次为 App—Book—Sheet—Range</li></ol><h3 id="创建场景"><a href="#创建场景" class="headerlink" title="创建场景"></a>创建场景</h3><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408242030745.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> xlwings <span class="keyword">as</span> xw</span><br><span class="line"></span><br><span class="line"><span class="comment"># app应用 Excel程序</span></span><br><span class="line">app = xw.App(visible=<span class="literal">True</span>, add_book=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 工作簿 book</span></span><br><span class="line">wb = app.books.add()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 表 sheet</span></span><br><span class="line"><span class="comment"># sht = wb.sheets.add(&#x27;first_sht&#x27;)  # 增</span></span><br><span class="line">sht = wb.sheets(<span class="string">&#x27;Sheet1&#x27;</span>)         <span class="comment"># 选</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 单元格</span></span><br><span class="line">sht.<span class="built_in">range</span>(<span class="string">&#x27;A1&#x27;</span>).value = <span class="string">&#x27;简说 Python&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存与退出</span></span><br><span class="line">wb.save(<span class="string">&#x27;xlwings_wb.xlsx&#x27;</span>)</span><br><span class="line">wb.close()</span><br><span class="line">app.quit()</span><br></pre></td></tr></table></figure><h3 id="修改场景"><a href="#修改场景" class="headerlink" title="修改场景"></a>修改场景</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> xlwings <span class="keyword">as</span> xw</span><br><span class="line"></span><br><span class="line">app = xw.App(visible=<span class="literal">True</span>, add_book=<span class="literal">False</span>)</span><br><span class="line">book = app.books.<span class="built_in">open</span>(<span class="string">&#x27;xlwings_wb.xlsx&#x27;</span>)  <span class="comment"># 打开excel文件</span></span><br><span class="line">sheet = book.sheets(<span class="string">&#x27;Sheet1&#x27;</span>)             <span class="comment"># 选择sheet</span></span><br><span class="line">sheet.<span class="built_in">range</span>(<span class="string">&#x27;B2&#x27;</span>).value = <span class="string">&#x27;简说Python&#x27;</span></span><br><span class="line"></span><br><span class="line">book.save(book.fullname)</span><br><span class="line">book.close()</span><br><span class="line">app.quit()</span><br></pre></td></tr></table></figure><h2 id="xlwings-语法"><a href="#xlwings-语法" class="headerlink" title="xlwings 语法"></a>xlwings 语法</h2><p><a href="https://docs.xlwings.org/en/stable/api/index.html">https://docs.xlwings.org/en/stable/api/index.html</a></p><h3 id="Books-Book"><a href="#Books-Book" class="headerlink" title="Books&#x2F;Book"></a>Books&#x2F;Book</h3><p>Book: <a href="https://docs.xlwings.org/en/stable/api/book.html">https://docs.xlwings.org/en/stable/api/book.html</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Books.active</span><br><span class="line">Books.add()</span><br><span class="line">Books.<span class="built_in">open</span>()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Book.activate()</span><br><span class="line">Book.api</span><br><span class="line">Book.app</span><br><span class="line">Book.caller()</span><br><span class="line">Book.close()</span><br><span class="line">Book.fullname</span><br><span class="line">Book.json()</span><br><span class="line">Book.macro()</span><br><span class="line">Book.name</span><br><span class="line">Book.names</span><br><span class="line">Book.render_template()</span><br><span class="line">Book.save()</span><br><span class="line">Book.selection</span><br><span class="line">Book.set_mock_caller()</span><br><span class="line">Book.sheet_names</span><br><span class="line">Book.sheets</span><br><span class="line">Book.to_pdf()</span><br></pre></td></tr></table></figure><h3 id="Sheets-Sheet"><a href="#Sheets-Sheet" class="headerlink" title="Sheets&#x2F;Sheet"></a>Sheets&#x2F;Sheet</h3><p>Sheet: <a href="https://docs.xlwings.org/en/stable/api/sheet.html">https://docs.xlwings.org/en/stable/api/sheet.html</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Sheets.active</span><br><span class="line">Sheets.add()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Sheet.activate()</span><br><span class="line">Sheet.api</span><br><span class="line">Sheet.autofit()</span><br><span class="line">Sheet.book</span><br><span class="line">Sheet.cells</span><br><span class="line">Sheet.charts</span><br><span class="line">Sheet.clear()</span><br><span class="line">Sheet.clear_contents()</span><br><span class="line">Sheet.clear_formats()</span><br><span class="line">Sheet.copy()</span><br><span class="line">Sheet.delete()</span><br><span class="line">Sheet.freeze_panes</span><br><span class="line">Sheet.index</span><br><span class="line">Sheet.name</span><br><span class="line">Sheet.names</span><br><span class="line">Sheet.page_setup</span><br><span class="line">Sheet.pictures</span><br><span class="line">Sheet.<span class="built_in">range</span>()</span><br><span class="line">Sheet.render_template()</span><br><span class="line">Sheet.select()</span><br><span class="line">Sheet.shapes</span><br><span class="line">Sheet.tables</span><br><span class="line">Sheet.to_html()</span><br><span class="line">Sheet.to_pdf()</span><br><span class="line">Sheet.used_range</span><br><span class="line">Sheet.visible</span><br></pre></td></tr></table></figure><h3 id="Range"><a href="#Range" class="headerlink" title="Range"></a>Range</h3><p>range:<a href="https://docs.xlwings.org/en/stable/api/range.html">https://docs.xlwings.org/en/stable/api/range.html</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Range.add_hyperlink()         Range.address</span><br><span class="line">Range.adjust_indent()         Range.api</span><br><span class="line">Range.autofill()              Range.autofit()</span><br><span class="line">Range.clear()                 Range.clear_contents()</span><br><span class="line">Range.clear_formats()         Range.color</span><br><span class="line">Range.column                  Range.column_width</span><br><span class="line">Range.columns                 Range.copy()</span><br><span class="line">Range.copy_picture()          Range.count</span><br><span class="line">Range.current_region          Range.delete()</span><br><span class="line">Range.end()                   Range.expand()</span><br><span class="line">Range.formula                 Range.formula2</span><br><span class="line">Range.formula_array           Range.get_address()</span><br><span class="line">Range.group()                 Range.has_array</span><br><span class="line">Range.height                  Range.hyperlink</span><br><span class="line">Range.insert()                Range.last_cell</span><br><span class="line">Range.left                    Range.merge()</span><br><span class="line">Range.merge_area              Range.merge_cells</span><br><span class="line">Range.name                    Range.note</span><br><span class="line">Range.number_format           Range.offset()</span><br><span class="line">Range.options()               Range.paste()</span><br><span class="line">Range.raw_value               Range.resize()</span><br><span class="line">Range.row                     Range.row_height</span><br><span class="line">Range.rows                    Range.select()</span><br><span class="line">Range.shape                   Range.sheet</span><br><span class="line">Range.size                    Range.table</span><br><span class="line">Range.to_pdf()                Range.to_png()</span><br><span class="line">Range.top                     Range.ungroup()</span><br><span class="line">Range.unmerge()               Range.value</span><br><span class="line">Range.width                   Range.wrap_text</span><br></pre></td></tr></table></figure><hr><h3 id="一些功能"><a href="#一些功能" class="headerlink" title="一些功能"></a>一些功能</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">sheet1.<span class="built_in">range</span>(<span class="string">&quot;A1&quot;</span>)</span><br><span class="line">sheet1.<span class="built_in">range</span>(<span class="string">&quot;A1:C3&quot;</span>)</span><br><span class="line">sheet1.<span class="built_in">range</span>((<span class="number">1</span>,<span class="number">1</span>))</span><br><span class="line">sheet1.<span class="built_in">range</span>((<span class="number">1</span>,<span class="number">1</span>), (<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line">sheet1.<span class="built_in">range</span>(<span class="string">&quot;NamedRange&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Or using index/slice notation</span></span><br><span class="line">sheet1[<span class="string">&quot;A1&quot;</span>]</span><br><span class="line">sheet1[<span class="string">&quot;A1:C3&quot;</span>]</span><br><span class="line">sheet1[<span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">sheet1[<span class="number">0</span>:<span class="number">4</span>, <span class="number">0</span>:<span class="number">4</span>]</span><br><span class="line">sheet1[<span class="string">&quot;NamedRange&quot;</span>]</span><br><span class="line"></span><br><span class="line">sheet1.<span class="built_in">range</span>(<span class="string">&#x27;A1&#x27;</span>).color = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)  <span class="comment"># or &#x27;#ffffff</span></span><br><span class="line">sheet1.<span class="built_in">range</span>(<span class="string">&#x27;A2&#x27;</span>).color = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">sheet[<span class="string">&#x27;A1&#x27;</span>].font.name = <span class="string">&#x27;Calibri&#x27;</span></span><br><span class="line">sheet[<span class="string">&#x27;A1&#x27;</span>].font.bold = <span class="literal">True</span></span><br><span class="line">sheet[<span class="string">&#x27;A1&#x27;</span>].font.color = (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>)  <span class="comment"># or &#x27;#ff0000&#x27;</span></span><br><span class="line">sheet[<span class="string">&#x27;A1&#x27;</span>].font.italic = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> excel </tag>
            
            <tag> xlwings </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HyperMesh坐标系</title>
      <link href="/posts/202939/"/>
      <url>/posts/202939/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><ol><li><a href="https://2021.help.altair.com/2021.1/hwdesktop/hwx/topics/panels/user_defined_coordinate_systems_r.htm">https://2021.help.altair.com/2021.1/hwdesktop/hwx/topics/panels/user_defined_coordinate_systems_r.htm</a></li><li>06 坐标系-HyperMesh 坐标系：<a href="https://mp.weixin.qq.com/s/sx27cjIyfblxTT61BUSuyA">https://mp.weixin.qq.com/s/sx27cjIyfblxTT61BUSuyA</a></li><li>视频本地备份：<code>06 坐标系-HyperMesh坐标系.mp4</code></li></ol><h2 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h2><ol><li>注意：坐标系编号不是浏览器里面的 ID；在使用时不用使用坐标系编号，需要时直接使用鼠标点击坐标系即可，局部与全局坐标系都可点击</li><li>显示局部坐标系编号：Tool—&gt;numbers—&gt;systs—&gt;all—&gt;on</li><li>创建坐标系、指定结点坐标参考坐标系、指定自由度参考坐标系：Analysis—&gt;system</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408192043742.png"></p><p>其中第 1 个 cteate 是创建一个不随结点变化的固定坐标系，第 2 个 create 是创建一个随 node 变化的坐标系</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408192046935.png"></p><ol start="4"><li>查看某个结点的坐标参考坐标系与自由度(位移)参考坐标系：Card—Edit</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408192054970.png"></p><ol start="5"><li>只有用户定义的坐标系才能被修改或删除。输入文件(input deck)中的坐标系统不能被修改或删除，它们只能被检查</li></ol><h2 id="将模型的坐标系都改为全局笛卡尔坐标系"><a href="#将模型的坐标系都改为全局笛卡尔坐标系" class="headerlink" title="将模型的坐标系都改为全局笛卡尔坐标系"></a>将模型的坐标系都改为全局笛卡尔坐标系</h2><ol><li>导入模型</li><li>Analysis—&gt;system—&gt;assign</li><li>nodes—&gt;all—&gt;system—&gt;使用鼠标点击全局坐标系—&gt;set reference</li><li>nodes—&gt;all—&gt;system—&gt;使用鼠标点击全局坐标系—&gt;set displacement</li><li>preview unuse—&gt;delete unuse</li></ol>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hypermesh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCODE各种环境设置</title>
      <link href="/posts/160701/"/>
      <url>/posts/160701/</url>
      
        <content type="html"><![CDATA[<h2 id="配置中文界面"><a href="#配置中文界面" class="headerlink" title="配置中文界面"></a>配置中文界面</h2><p><font style="color:rgb(25, 27, 31);">打开拓展，搜索 Chinese，安装简中拓展包，重启 VS Code 界面就会变中文</font></p><h2 id="配置-python-环境"><a href="#配置-python-环境" class="headerlink" title="配置 python 环境"></a>配置 python 环境</h2><ol><li><font style="color:rgb(25, 27, 31);">打开拓展—搜索 Python—安装有星标的拓展（2 个）</font></li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408141604502.png"></p><ol start="2"><li><font style="color:rgb(25, 27, 31);">文件—首选项—设置—扩展—Python—Default Interpreter Path—输入 Python 路径</font></li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408141606735.png"></p>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>检查语雀一个仓库的文档中图片地址</title>
      <link href="/posts/213401/"/>
      <url>/posts/213401/</url>
      
        <content type="html"><![CDATA[<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ===============================================</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_get_doc</span>(<span class="params">yuque_token</span>):</span><br><span class="line">    <span class="comment"># 用户信息</span></span><br><span class="line">    url_user = <span class="string">&#x27;https://www.yuque.com/api/v2/user&#x27;</span></span><br><span class="line">    header = &#123;<span class="string">&quot;X-Auth-Token&quot;</span>: yuque_token&#125;</span><br><span class="line">    resu = requests.get(url_user, headers=header).json()</span><br><span class="line">    user_name = resu[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;login&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取仓库信息</span></span><br><span class="line">    url_repo = <span class="string">&#x27;https://www.yuque.com/api/v2/users/&#x27;</span> + user_name + <span class="string">&quot;/repos&quot;</span></span><br><span class="line">    Repo_Result = requests.get(url_repo, headers=header).json()[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">    <span class="comment"># print(Repo_Result)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取所有文章链接</span></span><br><span class="line">    article_url_list = []</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> Repo_Result:</span><br><span class="line">        <span class="keyword">if</span> item[<span class="string">&#x27;type&#x27;</span>] == <span class="string">&quot;Book&quot;</span>:</span><br><span class="line">            <span class="keyword">if</span> item[<span class="string">&#x27;name&#x27;</span>] == <span class="string">&#x27;博客文章-公开&#x27;</span>:</span><br><span class="line">                <span class="keyword">pass</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            repo_id = item[<span class="string">&#x27;id&#x27;</span>]</span><br><span class="line">            url_docs = <span class="string">&#x27;https://www.yuque.com/api/v2/repos/&#x27;</span> + <span class="built_in">str</span>(repo_id) + <span class="string">&#x27;/docs&#x27;</span></span><br><span class="line">            Doc_Result = requests.get(url_docs, headers=header).json()[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> ii <span class="keyword">in</span> Doc_Result:</span><br><span class="line">                slug = ii[<span class="string">&#x27;slug&#x27;</span>]</span><br><span class="line">                url = <span class="string">f&quot;https://www.yuque.com/api/v2/repos/<span class="subst">&#123;repo_id&#125;</span>/docs/<span class="subst">&#123;slug&#125;</span>&quot;</span></span><br><span class="line">                article_url_list.append(url)</span><br><span class="line">    info = &#123;<span class="string">&quot;header&quot;</span>:header, <span class="string">&quot;Repo_Result&quot;</span>:Repo_Result, <span class="string">&quot;article_url_list&quot;</span>:article_url_list &#125;</span><br><span class="line">    <span class="keyword">return</span> info</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_pic_url</span>(<span class="params">info</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;获得文档及图片&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    header = info[<span class="string">&quot;header&quot;</span>]</span><br><span class="line">    article_url_list = info[<span class="string">&quot;article_url_list&quot;</span>]</span><br><span class="line">    table = <span class="built_in">str</span>.maketrans(<span class="string">&#x27;\/:*?&quot;&lt;&gt;|&#x27;</span> + <span class="string">&quot;\n\r&quot;</span>, <span class="string">&quot;___________&quot;</span>)  <span class="comment"># 映射表</span></span><br><span class="line">    PIC_Url = []</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    file_num = <span class="built_in">len</span>(article_url_list)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> url <span class="keyword">in</span> article_url_list:</span><br><span class="line">        count = count + <span class="number">1</span></span><br><span class="line">        single_doc = requests.get(url, headers=header).json()</span><br><span class="line">        article_title = single_doc[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;title&quot;</span>].translate(table)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;count&#125;</span>/<span class="subst">&#123;file_num&#125;</span>: <span class="subst">&#123;article_title&#125;</span>&quot;</span>)</span><br><span class="line">        article_body = single_doc[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;body&quot;</span>]</span><br><span class="line">        pattern = <span class="string">r&#x27;!\[.*?\]\(.*?\)&#x27;</span></span><br><span class="line">        matches = re.findall(pattern, article_body)</span><br><span class="line">        <span class="keyword">for</span> ii <span class="keyword">in</span> matches:</span><br><span class="line">            PIC_Url.append(article_title+<span class="string">&quot;: &quot;</span>+ii)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> PIC_Url</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    yuque_token = <span class="string">&quot;***&quot;</span></span><br><span class="line">    info = login_get_doc(yuque_token)</span><br><span class="line">    PIC_Url = get_pic_url(info)</span><br><span class="line">    <span class="built_in">print</span>(PIC_Url)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将列表写入txt文件</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;PIC_Url.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        <span class="keyword">for</span> link <span class="keyword">in</span> PIC_Url:</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;https://mypic2016.oss-cn-beijing.aliyuncs.com&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> link:</span><br><span class="line">                file.write(link + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打开txt文件</span></span><br><span class="line">    os.startfile(<span class="string">&#x27;PIC_Url.txt&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="语雀-Token"><a href="#语雀-Token" class="headerlink" title="语雀 Token"></a>语雀 Token</h2><p><a href="https://www.yuque.com/xdd1997/blog/nbr8aqfgs9u42szv#P4ZhH">此处为语雀卡片，点击链接查看</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 语雀 </tag>
            
            <tag> 图片 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows 10系统如何扩展右键菜单中&quot;发送到&quot;命令</title>
      <link href="/posts/sendto/"/>
      <url>/posts/sendto/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><p>自定义编辑右键“发送到”菜单</p><p><a href="https://iknow.lenovo.com.cn/detail/133730.html">https://iknow.lenovo.com.cn/detail/133730.html</a></p><h2 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h2><h3 id="情境-1：发送到文件夹"><a href="#情境-1：发送到文件夹" class="headerlink" title="情境 1：发送到文件夹"></a>情境 1：发送到文件夹</h3><p>Win+E—&gt;shell:sendto</p><p>右键—&gt;新建快捷方式—&gt;选择一个文件夹—&gt;下一步—&gt;完成</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408070959375.png"></p><p>TODO: 执行 Python 文件</p>]]></content>
      
      
      <categories>
          
          <category> windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发送到 </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于Word样式</title>
      <link href="/posts/word-style/"/>
      <url>/posts/word-style/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><ol><li><a href="https://www.bilibili.com/video/BV1cv411h7Pj">https://www.bilibili.com/video/BV1cv411h7Pj</a></li><li>给图表附录加序号：<a href="https://www.bilibili.com/video/BV1a64y1a713">https://www.bilibili.com/video/BV1a64y1a713</a></li></ol><h2 id="调整样式显示顺序"><a href="#调整样式显示顺序" class="headerlink" title="调整样式显示顺序"></a>调整样式显示顺序</h2><ol><li>打开样式，Ctrl+Shift+Alt+S，</li><li>点击管理样式</li><li>点击推荐—依靠上移，下移，指定值来调整样式的顺序</li></ol><p>补充：这里也可以控制一个样式是否显示在样式栏里面【显示&#x2F;使用前隐藏&#x2F;隐藏】</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407281416959.png"></p><h2 id="设置标题序号-多级列表"><a href="#设置标题序号-多级列表" class="headerlink" title="设置标题序号&#x2F;多级列表"></a>设置标题序号&#x2F;多级列表</h2><ol><li>点击多级列表—点击定义新的多级列表</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408141106594.png"></p><ol start="2"><li>点击<strong>更多</strong></li><li>循环下图中的 234 步骤，分别为各个标题设置级别与序号</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408141108688.png"></p><h2 id="设置正文中图表自动编号"><a href="#设置正文中图表自动编号" class="headerlink" title="设置正文中图表自动编号"></a>设置正文中图表自动编号</h2><ol><li>新建个样式名称随意，比如为<code>正文图注</code>，设置好样式，一般居中对齐</li><li>鼠标选中正文的一级标题</li><li>开始菜单—段落—多级列表—定义新的多级列表—选择级别 5—链接到<code>正文图注</code>—确定</li><li>添加图片—在图片下方点击<code>正文图注</code>即可</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202411111840105.png"></p><h2 id="设置附录标题与图标自动标号"><a href="#设置附录标题与图标自动标号" class="headerlink" title="设置附录标题与图标自动标号"></a>设置附录标题与图标自动标号</h2><ol><li>创建第三个附录标题样式：一级附录、二级附录与三级附录</li><li>创建一个附录图注样式</li><li>开始菜单—段落—多级列表—定义新的多级列表—标题与附录图设置如下即可</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202411111859938.png"></p>]]></content>
      
      
      <categories>
          
          <category> office </category>
          
      </categories>
      
      
        <tags>
            
            <tag> word </tag>
            
            <tag> 样式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>矢量在三维空间的旋转</title>
      <link href="/posts/vec-rox/"/>
      <url>/posts/vec-rox/</url>
      
        <content type="html"><![CDATA[<h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p>将空间一个矢量<code>u</code>旋转到<code>v</code>，求旋转矩阵<code>R</code></p><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p>直观上，绕某个轴<code>k(x,y,z)</code>旋转角度<code>θ</code>即可。</p><p>其中<code>k</code>是单位矢量，计算方法为<code>u×v</code>，在 Matlab 中为<code>cross(u,v)</code>，然后再归一化。</p><p><code>θ</code>：右手大拇指指向<code>k</code>，其余四指环绕的方向为<code>θ</code>的正方向</p><p>根据<a href="https://baike.baidu.com/item/%E7%BD%97%E5%BE%B7%E9%87%8C%E6%A0%BC%E6%97%8B%E8%BD%AC%E5%85%AC%E5%BC%8F/18878562?fr=aladdin">罗德里格旋转公式-百度百科</a>与<a href="https://zh.wikipedia.org/wiki/%E6%97%8B%E8%BD%AC%E7%9F%A9%E9%98%B5">旋转矩阵-维基百科</a><font style="color:rgb(0, 0, 0);">，</font>有<code>v=Ru</code>，<font style="color:rgb(0, 0, 0);">其中</font><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408092121837.png"></p><p>可化简为：</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408092122488.png"></p><h2 id="补充：角度说明"><a href="#补充：角度说明" class="headerlink" title="补充：角度说明"></a>补充：角度说明</h2><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407270902098.png"></p><p>要把 B1 或者 B2 旋转到 A 的位置时，不用担心旋转角度是 180° 到 360° 之间的问题，因为之所以你认为角度会大于 180 是因为你已经假设了一个转轴。实际上，参考<code>B&lt;font style=&quot;color:rgb(33, 33, 33);&quot;&gt;×A&lt;/font&gt;</code>定义的转轴，旋转角度始终在 0~180° 之间。</p><p><strong>点积：计算两矢量角度大小（0~180）</strong></p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408092123622.png"></p><p><strong>叉积：计算转轴(含方向)</strong></p><p><font style="color:rgb(33, 33, 33);">在几何上，cross(A,B) &#x3D;</font><em><font style="color:rgb(33, 33, 33);">A</font></em><font style="color:rgb(33, 33, 33);">×</font><em><font style="color:rgb(33, 33, 33);">B</font></em><font style="color:rgb(33, 33, 33);"> ，</font><em><font style="color:rgb(33, 33, 33);">A</font></em><font style="color:rgb(33, 33, 33);">×</font><em><font style="color:rgb(33, 33, 33);">B</font></em><font style="color:rgb(33, 33, 33);"> 同时与 A 和 B 正交</font></p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407262120756.png"></p><p><strong>综上</strong></p><ul><li>计算 A-&gt;B 旋转中将用于参考的转轴<code>k</code>，<code>k=cross(A,B)</code>,再归一化</li><li>使用点积计算两个矢量 A 和 B 的夹角<code>a</code>(0~180)</li><li>则<code>矢量A</code>绕转轴<code>k</code>旋转角度<code>a</code>即可与<code>矢量B</code>重合</li></ul><h2 id="Matlab-代码"><a href="#Matlab-代码" class="headerlink" title="Matlab 代码"></a>Matlab 代码</h2><p>计算从原始向量<code>oriVec</code>到目标向量<code>tarVec</code>的旋转矩阵<code>R</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">clc;clear</span><br><span class="line"></span><br><span class="line">oriVec = [0; 1; 1];  % origin Vec</span><br><span class="line">tarVec = [0; -1; -1];  % target Vec</span><br><span class="line"></span><br><span class="line">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line">k = cross(oriVec,tarVec);</span><br><span class="line">Nk = length(find(k==0));</span><br><span class="line">Nzero = length(find(tarVec==0));</span><br><span class="line">if Nk==3 &amp;&amp; Nzero==2</span><br><span class="line">    II = find(tarVec==0);</span><br><span class="line">    tarVec(II(1)) = tarVec(II(1))+1e-10;</span><br><span class="line">    k = cross(oriVec,tarVec);</span><br><span class="line">else</span><br><span class="line">    [~,II] = max(abs(tarVec));</span><br><span class="line">    tarVec(II) = tarVec(II)+1e-10;</span><br><span class="line">    k = cross(oriVec,tarVec);</span><br><span class="line">end</span><br><span class="line">k = k/norm(k);</span><br><span class="line">theta = acos(dot(oriVec,tarVec)/norm(oriVec)/norm(tarVec));</span><br><span class="line">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line">x = k(1); y = k(2); z = k(3);</span><br><span class="line">CA = cos(theta); SA = sin(theta); oneCA = 1 - CA;</span><br><span class="line">R = [CA+oneCA*x*x,   oneCA*x*y-SA*z,   oneCA*x*z+SA*y;</span><br><span class="line">     oneCA*y*x+SA*z, CA+oneCA*y*y,     oneCA*y*z-SA*x;</span><br><span class="line">     oneCA*z*x-SA*y, oneCA*z*y+SA*x,   CA+oneCA*z*z];</span><br><span class="line">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line">targetTest = R*oriVec</span><br></pre></td></tr></table></figure><p>然后就可以用<code>R</code>去旋转空间内的任意矢量，例如下面将四边形 14 边旋转到 Y 轴，可以确定 R，然后 R 再乘以另外三个矢量即可得到旋转后的新的四边形坐标。</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407262203042.png"></p>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 旋转 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Word正则表达式</title>
      <link href="/posts/37892/"/>
      <url>/posts/37892/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><p><a href="https://www.bilibili.com/video/BV1JV41127WR">https://www.bilibili.com/video/BV1JV41127WR</a></p><h2 id="关于通配符与特殊格式"><a href="#关于通配符与特殊格式" class="headerlink" title="关于通配符与特殊格式"></a>关于通配符与特殊格式</h2><p>我们要使用的是后面的一列，也就是勾选通配符</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407200959022.png"></p><h4 id="常用的几个通配符"><a href="#常用的几个通配符" class="headerlink" title="常用的几个通配符"></a>常用的几个通配符</h4><blockquote><p>word 内容包括：西文字符[^1-^127]，中文字符[一-龥]，中文标点[!一-龥^1-^127]</p></blockquote><p>单个数字：[0-9]</p><p>单个英文字符：[a-zA-Z]</p><p>西文字符：[^1-^127]</p><p>非西文字符（中文字符与中文标点）：[!1^-^127]</p><p>中文字符：[一-龥]</p><p>中文标点：[!一-龥^1-^127]</p><p>任意 1 个字符：<code>?</code></p><p>任意多个字符：<code>*</code></p><p>自动换行符：<code>^13</code></p><p>手动换行符: <code>^11</code>, 注: 数字 10+1</p><p>制表符：<code>\t</code></p><p>分节&#x2F;分页符：<code>\m</code></p><p>出现的次数：{m,n}, {m}, {m,}</p><p>表达式：(…) 要和 <code>\1``\2``\3</code>等配合</p><h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><h4 id="匹配中文AAB"><a href="#匹配中文AAB" class="headerlink" title="匹配中文AAB"></a>匹配<strong>中文</strong>AAB</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[一-龥]([一-龥])\<span class="number">1</span></span><br></pre></td></tr></table></figure><p>拼多多</p><h4 id="匹配英文-AAB"><a href="#匹配英文-AAB" class="headerlink" title="匹配英文 AAB"></a><strong>匹配英文 AAB</strong></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">([a-zA-Z])\<span class="number">1</span>[a-zA-Z]</span><br></pre></td></tr></table></figure><p>AC<strong>DDF</strong>G</p><h4 id="替换-1-1-为第-1-章第-1-节"><a href="#替换-1-1-为第-1-章第-1-节" class="headerlink" title="替换 1.1 为第 1 章第 1 节"></a>替换 1.1 为第 1 章第 1 节</h4><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407201022027.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">查找内容(N)：([0-9]@).([0-9]@</span><br><span class="line">替换为(I)：第\1章.第\2节</span><br><span class="line"></span><br><span class="line">1.1</span><br><span class="line">12.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">第1章.第1节</span><br><span class="line">第12章.第1节</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="查找链接"><a href="#查找链接" class="headerlink" title="查找链接"></a>查找链接</h4><blockquote><p>将 Word 中参考论文的 doi 去掉</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">查找：http?@.^13</span><br><span class="line">替换：^13</span><br></pre></td></tr></table></figure><p>其中：</p><p><code>?</code>表示任意字符</p><p><code>@</code>表示任意多个</p><p><code>.</code>要匹配一个点，点没有其他含义，就表示一个点</p><p><code>^13</code>表示自动换行符</p>]]></content>
      
      
      <categories>
          
          <category> office </category>
          
      </categories>
      
      
        <tags>
            
            <tag> word </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>语雀+云函数Serverless+Github Action</title>
      <link href="/posts/serverless/"/>
      <url>/posts/serverless/</url>
      
        <content type="html"><![CDATA[<div class="note warning flat"><p>20240701：腾讯云函数不再支持 API 网关触发器, 建议使用阿里云 Serverless</p></div><h2 id="语雀-Github-Action-Hexo"><a href="#语雀-Github-Action-Hexo" class="headerlink" title="语雀+Github Action+Hexo"></a>语雀+Github Action+Hexo</h2><p>见《Hexo+Github Page+Github Action+语雀》</p><p>网址 1：<a href="https://19970622.xyz/posts/63230/">https://19970622.xyz/posts/63230/</a></p><p>网址 2：<a href="https://xie-dd.github.io/posts/63230/">https://xie-dd.github.io/posts/63230/</a></p><h2 id="语雀-云函数-Github-Action"><a href="#语雀-云函数-Github-Action" class="headerlink" title="语雀+云函数+Github Action"></a>语雀+云函数+Github Action</h2><h4 id="修改-Github-Action-的-main-yml-文件"><a href="#修改-Github-Action-的-main-yml-文件" class="headerlink" title="修改 Github Action 的 main.yml 文件"></a>修改 Github Action 的 main.yml 文件</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">Hexo</span> <span class="string">Blog</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line">  <span class="attr">schedule:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">cron:</span> <span class="string">&quot;0 23 * * *&quot;</span></span><br><span class="line">  <span class="attr">repository_dispatch:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">start</span></span><br></pre></td></tr></table></figure><h4 id="基于腾讯云函数"><a href="#基于腾讯云函数" class="headerlink" title="基于腾讯云函数"></a>基于腾讯云函数</h4><p>参考：<a href="https://blog.lisongqian.cn/2022/02/06/yuque/eizdmx/">https://blog.lisongqian.cn/2022/02/06/yuque/eizdmx/</a></p><ol><li>点击<a href="https://cloud.tencent.com/product/scf">网址</a>进入 Serverless—从头开始—事件函数—Python 3.6(不要选择其它版本）</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407061812367.png"></p><ol start="2"><li>将下面代码粘贴到写代码的编辑器里面</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf8 -*-</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main_handler</span>(<span class="params">event, context</span>):</span><br><span class="line">    r = requests.post(<span class="string">&quot;https://api.github.com/repos/xie-dd/blog_hexo/dispatches&quot;</span>,</span><br><span class="line">                      json = &#123;<span class="string">&quot;event_type&quot;</span>: <span class="string">&quot;start&quot;</span>&#125;,</span><br><span class="line">                      headers = &#123;<span class="string">&quot;User-Agent&quot;</span>:<span class="string">&#x27;curl/7.52.1&#x27;</span>,</span><br><span class="line">                                 <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">                                 <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/vnd.github.everest-preview+json&#x27;</span>,</span><br><span class="line">                                 <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">&#x27;token ghp_L3*********78rURQ1F0Gtvzn&#x27;</span>&#125;)</span><br><span class="line">    <span class="keyword">if</span> r.status_code == <span class="number">204</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;This&#x27;s OK!&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> r.status_code</span><br></pre></td></tr></table></figure><ol start="3"><li>在编辑器里面—运行—安装 Python 扩展</li><li>浏览器滑到最后—点击测试—可以在编辑器输出栏看到”This’s OK!”—然后 Github Action 也会被触发</li><li>点击部署</li><li>创建 API 网关触发器即可，完了（<strong>腾讯云函数 20240701 后不再支持 API 网关触发器了，新的方法还不会</strong>）</li></ol><h4 id="基于阿里云函数"><a href="#基于阿里云函数" class="headerlink" title="基于阿里云函数"></a>基于阿里云函数</h4><p>参考：<a href="https://www.xiayinchang.top/post/b2362878.html">https://www.xiayinchang.top/post/b2362878.html</a></p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408092124828.png"></p><ol><li>进入这个<a href="https://fcnext.console.aliyun.com/cn-hangzhou/functions">网址</a>—函数—创建函数—事件函数—运行环境：Python 3.6—实例代码—创建—在代码编辑器中替换下面代码</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">OK = <span class="string">b&#x27;ok\n&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">handler</span>(<span class="params">environ, start_response</span>):</span><br><span class="line">    status = <span class="string">&#x27;200 OK&#x27;</span></span><br><span class="line">    response_headers = [(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;text/plain&#x27;</span>)]</span><br><span class="line">    sync_yuque()</span><br><span class="line">    start_response(status, response_headers)</span><br><span class="line">    <span class="keyword">return</span> [OK]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sync_yuque</span>():</span><br><span class="line">    requests.post(<span class="string">&quot;https://api.github.com/repos/xie-dd/blog_hexo/dispatches&quot;</span>,</span><br><span class="line">                      json = &#123;<span class="string">&quot;event_type&quot;</span>: <span class="string">&quot;start&quot;</span>&#125;,</span><br><span class="line">                      headers = &#123;<span class="string">&quot;User-Agent&quot;</span>:<span class="string">&#x27;curl/7.52.1&#x27;</span>,</span><br><span class="line">                                 <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">                                 <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/vnd.github.everest-preview+json&#x27;</span>,</span><br><span class="line">                                 <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">&#x27;token ghp_******Gtvzn&#x27;</span>&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>点击代码编辑器左上角的测试函数—在 Github 确认 Github Action 已经被触发（可能显示测试失败，但实际 Github Action 已经被触发）</li><li>配置—触发器—HTTP 触发器—全部默认—确定—得到一个公网访问地址，公网访问地址大致如下所示</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://***.cn-hangzhou.fcapp.run</span><br></pre></td></tr></table></figure><ol start="4"><li>将上面的公网访问地址粘贴到语雀的 webhook 里面就行了，现在有个小问题，粘贴完毕后点击测试，显示部署失败，但是实际已经触发了 Github Action，先这样吧。</li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 云函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CAE软件视图视角转换</title>
      <link href="/posts/19489/"/>
      <url>/posts/19489/</url>
      
        <content type="html"><![CDATA[<h2 id="Ansys-各视角对应的坐标系"><a href="#Ansys-各视角对应的坐标系" class="headerlink" title="Ansys 各视角对应的坐标系"></a>Ansys 各视角对应的坐标系</h2><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407041928243.png"></p>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ansys </tag>
            
            <tag> 视图 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vitepress本地部署与Github Page部署</title>
      <link href="/posts/vitepress-study/"/>
      <url>/posts/vitepress-study/</url>
      
        <content type="html"><![CDATA[<h2 id="本地部署的主要流程"><a href="#本地部署的主要流程" class="headerlink" title="本地部署的主要流程"></a>本地部署的主要流程</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 将镜像源设置为新的淘宝镜像源</span><br><span class="line">npm config delete registry</span><br><span class="line">npm config set registry https<span class="punctuation">:</span><span class="comment">//registry.npmmirror.com</span></span><br><span class="line">npm install -g yarn</span><br><span class="line"></span><br><span class="line">mkdir vitepress</span><br><span class="line">cd vitepress</span><br><span class="line"></span><br><span class="line"># install vitepress</span><br><span class="line">yarn add --dev vitepress</span><br><span class="line"></span><br><span class="line">yarn vitepress init</span><br><span class="line"># 需要回答几个简单的问题</span><br><span class="line"># ./docs</span><br><span class="line"># 一路默认</span><br><span class="line"></span><br><span class="line">yarn docs<span class="punctuation">:</span>build</span><br><span class="line">yarn docs<span class="punctuation">:</span>dev</span><br><span class="line">http<span class="punctuation">:</span><span class="comment">//localhost:5173</span></span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407022126123.png"></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">D<span class="punctuation">:</span>\Desktop\vitepress&gt;tree /f</span><br><span class="line">vitepress</span><br><span class="line">│  .gitignore</span><br><span class="line">│  package.json</span><br><span class="line">│  README.md</span><br><span class="line">│</span><br><span class="line">├─docs</span><br><span class="line">│  │  api-examples.md</span><br><span class="line">│  │  index.md</span><br><span class="line">│  │  markdown-examples.md</span><br><span class="line">│  │</span><br><span class="line">│  └─.vitepress</span><br><span class="line">│      │  config.mts</span><br><span class="line">│</span><br><span class="line">└─node_modules</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="部署到-Github-Page"><a href="#部署到-Github-Page" class="headerlink" title="部署到 Github Page"></a>部署到 Github Page</h2><ol><li>Github 网站上进入 vitepress 仓库，设置，Pages，<font style="color:rgb(31, 35, 40);">Build and deployment 选择 Github Actions</font></li><li>本地新建文件 vitepress.github\workflows\deploy.yml，内容为</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"># 构建 VitePress 站点并将其部署到 GitHub Pages 的示例工作流程</span><br><span class="line">#</span><br><span class="line">name<span class="punctuation">:</span> Deploy VitePress Site to Pages</span><br><span class="line"></span><br><span class="line">on<span class="punctuation">:</span></span><br><span class="line">  # 在针对 `main` 分支的推送上运行。如果你</span><br><span class="line">  # 使用 `master` 分支作为默认分支，请将其更改为 `master`</span><br><span class="line">  push<span class="punctuation">:</span></span><br><span class="line">    branches<span class="punctuation">:</span> <span class="punctuation">[</span>master<span class="punctuation">]</span></span><br><span class="line"></span><br><span class="line">  # 允许你从 Actions 选项卡手动运行此工作流程</span><br><span class="line">  workflow_dispatch<span class="punctuation">:</span></span><br><span class="line"></span><br><span class="line"># 设置 GITHUB_TOKEN 的权限，以允许部署到 GitHub Pages</span><br><span class="line">permissions<span class="punctuation">:</span></span><br><span class="line">  contents<span class="punctuation">:</span> read</span><br><span class="line">  pages<span class="punctuation">:</span> write</span><br><span class="line">  id-token<span class="punctuation">:</span> write</span><br><span class="line"></span><br><span class="line"># 只允许同时进行一次部署，跳过正在运行和最新队列之间的运行队列</span><br><span class="line"># 但是，不要取消正在进行的运行，因为我们希望允许这些生产部署完成</span><br><span class="line">concurrency<span class="punctuation">:</span></span><br><span class="line">  group<span class="punctuation">:</span> pages</span><br><span class="line">  cancel-in-progress<span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"></span><br><span class="line">jobs<span class="punctuation">:</span></span><br><span class="line">  # 构建工作</span><br><span class="line">  build<span class="punctuation">:</span></span><br><span class="line">    runs-on<span class="punctuation">:</span> ubuntu-latest</span><br><span class="line">    steps<span class="punctuation">:</span></span><br><span class="line">      - name<span class="punctuation">:</span> Checkout</span><br><span class="line">        uses<span class="punctuation">:</span> actions/checkout@v4</span><br><span class="line">        with<span class="punctuation">:</span></span><br><span class="line">          fetch-depth<span class="punctuation">:</span> <span class="number">0</span> # 如果未启用 lastUpdated，则不需要</span><br><span class="line">      # - uses<span class="punctuation">:</span> pnpm/action-setup@v3 # 如果使用 pnpm，请取消注释</span><br><span class="line">      # - uses<span class="punctuation">:</span> oven-sh/setup-bun@v1 # 如果使用 Bun，请取消注释</span><br><span class="line">      - name<span class="punctuation">:</span> Setup Node</span><br><span class="line">        uses<span class="punctuation">:</span> actions/setup-node@v4</span><br><span class="line">        with<span class="punctuation">:</span></span><br><span class="line">          node-version<span class="punctuation">:</span> <span class="number">20</span></span><br><span class="line">          cache<span class="punctuation">:</span> yarn # 或 pnpm / yarn</span><br><span class="line">      - name<span class="punctuation">:</span> Setup Pages</span><br><span class="line">        uses<span class="punctuation">:</span> actions/configure-pages@v4</span><br><span class="line">      - name<span class="punctuation">:</span> Install dependencies</span><br><span class="line">        run<span class="punctuation">:</span> yarn install # 或 pnpm install / yarn install / bun install <span class="number">33</span></span><br><span class="line">      - name<span class="punctuation">:</span> Build with VitePress</span><br><span class="line">        run<span class="punctuation">:</span> yarn docs<span class="punctuation">:</span>build # 或 pnpm docs<span class="punctuation">:</span>build / yarn docs<span class="punctuation">:</span>build / bun run docs<span class="punctuation">:</span>build</span><br><span class="line">      - name<span class="punctuation">:</span> Upload artifact</span><br><span class="line">        uses<span class="punctuation">:</span> actions/upload-pages-artifact@v3</span><br><span class="line">        with<span class="punctuation">:</span></span><br><span class="line">          path<span class="punctuation">:</span> docs/.vitepress/dist</span><br><span class="line"></span><br><span class="line">  # 部署工作</span><br><span class="line">  deploy<span class="punctuation">:</span></span><br><span class="line">    environment<span class="punctuation">:</span></span><br><span class="line">      name<span class="punctuation">:</span> github-pages</span><br><span class="line">      url<span class="punctuation">:</span> $<span class="punctuation">&#123;</span><span class="punctuation">&#123;</span> steps.deployment.outputs.page_url <span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line">    needs<span class="punctuation">:</span> build</span><br><span class="line">    runs-on<span class="punctuation">:</span> ubuntu-latest</span><br><span class="line">    name<span class="punctuation">:</span> Deploy</span><br><span class="line">    steps<span class="punctuation">:</span></span><br><span class="line">      - name<span class="punctuation">:</span> Deploy to GitHub Pages</span><br><span class="line">        id<span class="punctuation">:</span> deployment</span><br><span class="line">        uses<span class="punctuation">:</span> actions/deploy-pages@v4</span><br></pre></td></tr></table></figure><ol start="2"><li><font style="color:rgb(31, 35, 40);">修改文件 D:\Desktop\vitepress\docs.vitepress\config.mts，添加 base,值为 Github 仓库的名称</font></li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">base<span class="punctuation">:</span> &#x27;/vitepress/&#x27;<span class="punctuation">,</span></span><br></pre></td></tr></table></figure><ol start="3"><li><font style="color:rgb(31, 35, 40);">完成</font></li></ol><p><font style="color:rgb(31, 35, 40);"></font></p><p><font style="color:rgb(31, 35, 40);"></font></p><h2 id="细节"><a href="#细节" class="headerlink" title="细节"></a><font style="color:rgb(31, 35, 40);">细节</font></h2><p>参考：<a href="https://juejin.cn/post/7164276166084263972">https://juejin.cn/post/7164276166084263972</a></p><ul><li>页脚</li><li>上一篇&#x2F;下一篇</li><li>最近更新日期（需要在网页端才能看到）</li><li>编辑此页</li><li>搜索，vitepress-plugin-pagefind 不支持中文，algolia 需要申请，故使用本地搜索，支持中文但不友好</li><li>代码高亮</li></ul><h3 id="侧边栏与首页显示"><a href="#侧边栏与首页显示" class="headerlink" title="侧边栏与首页显示"></a>侧边栏与首页显示</h3><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407022127884.png"></p><p>上面的部分是通过在 index.md 文件中添加下面代码实现的。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- theme<span class="punctuation">:</span> alt</span><br><span class="line">text<span class="punctuation">:</span> hexo 部署</span><br><span class="line">link<span class="punctuation">:</span> /Hexo+Github Page+Github Action+语雀.md</span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407022127951.png"></p><p>上面的部分是通过修改<code>config.mts</code>文件实现的。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sidebar<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">  <span class="comment">// 分为单侧边栏，多侧边栏，下面的是单侧边栏</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    text<span class="punctuation">:</span> &#x27;Examples&#x27;<span class="punctuation">,</span></span><br><span class="line">  items<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span> text<span class="punctuation">:</span> &#x27;Markdown Examples&#x27;<span class="punctuation">,</span> link<span class="punctuation">:</span> &#x27;/markdown-examples&#x27; <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span> text<span class="punctuation">:</span> &#x27;Runtime API Examples&#x27;<span class="punctuation">,</span> link<span class="punctuation">:</span> &#x27;/api-examples&#x27; <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span> text<span class="punctuation">:</span> &#x27;Hexo+Github Page+Github Action+语雀&#x27;<span class="punctuation">,</span> link<span class="punctuation">:</span> &#x27;/Hexo+Github Page+Github Action+语雀.md&#x27; <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h3 id="自带的搜索"><a href="#自带的搜索" class="headerlink" title="自带的搜索"></a>自带的搜索</h3><p>修改<code>config.mts</code>文件，添加下面代码即可</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">search<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  provider<span class="punctuation">:</span> &#x27;local&#x27;</span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408201805103.png"></p><h3 id="Algolia-搜索"><a href="#Algolia-搜索" class="headerlink" title="Algolia 搜索"></a><font style="color:rgb(60, 60, 67);">Algolia 搜索</font></h3><blockquote><p>参考：<a href="https://www.skillgroup.cn/framework/vitepress/algolia.html">https://www.skillgroup.cn/framework/vitepress/algolia.html</a></p></blockquote><ol><li>Algolia 注册：首先，你需要申请一个 Algolia 账号。你可以在 <a href="https://docsearch.algolia.com/apply/">Algolia DocSearch 官网</a> 申请一个免费账号</li><li>登录：<a href="https://dashboard.algolia.com/users/sign_in">https://dashboard.algolia.com/users/sign_in</a>；依次点击<code>Accept Application</code>与<code>Go to Application</code></li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407311608709.png"></p><ol start="3"><li>设置—API Keys—复制<code>&lt;font style=&quot;color:rgb(35, 38, 59);&quot;&gt;Application ID&lt;/font&gt;</code><font style="color:rgb(35, 38, 59);">与</font><code>&lt;font style=&quot;color:rgb(35, 38, 59);&quot;&gt;Search API Key&lt;/font&gt;</code>备用</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407311625446.png"></p><ol start="4"><li>添加文件.vitepress&#x2F;config.js，config.js 文件内容如下，需要修改<code>appId</code>，<code>apiKey</code>，<code>indexName</code>三项</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .vitepress/config.js</span></span><br><span class="line">import <span class="punctuation">&#123;</span> defineConfig <span class="punctuation">&#125;</span> from <span class="string">&quot;vite&quot;</span>;</span><br><span class="line"></span><br><span class="line">export default defineConfig(<span class="punctuation">&#123;</span></span><br><span class="line">  themeConfig<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    search<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// provider: &#x27;local&#x27;, // 可以开启本地搜索</span></span><br><span class="line">  provider<span class="punctuation">:</span> <span class="string">&quot;algolia&quot;</span><span class="punctuation">,</span></span><br><span class="line">  options<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  appId<span class="punctuation">:</span> <span class="string">&quot;你的appId&quot;</span><span class="punctuation">,</span></span><br><span class="line">  apiKey<span class="punctuation">:</span> <span class="string">&quot;你的apiKey&quot;</span><span class="punctuation">,</span></span><br><span class="line">  indexName<span class="punctuation">:</span> <span class="string">&quot;20161101&quot;</span><span class="punctuation">,</span></span><br><span class="line">  placeholder<span class="punctuation">:</span> <span class="string">&quot;请输入关键词&quot;</span><span class="punctuation">,</span></span><br><span class="line">  translations<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  button<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    buttonText<span class="punctuation">:</span> <span class="string">&quot;请输入关键词&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span>);</span><br></pre></td></tr></table></figure><ol start="5"><li>完成</li></ol><p>个人<code>appId</code>，<code>apiKey</code>，<code>indexName</code></p><p><a href="https://www.yuque.com/xdd1997/blog/wnwe7n4gwaqlygcd#REacx">此处为语雀卡片，点击链接查看</a></p><h3 id="可能错误的地方"><a href="#可能错误的地方" class="headerlink" title="可能错误的地方"></a>可能错误的地方</h3><h4 id="关于文件产生路径"><a href="#关于文件产生路径" class="headerlink" title="关于文件产生路径"></a>关于文件产生路径</h4><p><strong><font style="color:rgb(31, 35, 40);">outDir</font></strong><font style="color:rgb(31, 35, 40);">：独自决定 bulid 产生的 html 放在哪里，其根目录是.vitepress 的父目录，默认为.&#x2F;.vitepress&#x2F;dist</font></p><p><strong><font style="color:rgb(31, 35, 40);">base：</font></strong><font style="color:rgb(31, 35, 40);">独自决定本地 index.html 的正确路径，以便本地可以正确双击预览 index.html</font></p><p><font style="color:rgb(31, 35, 40);">.yml 文件的</font><strong><font style="color:rgb(31, 35, 40);">path</font></strong><font style="color:rgb(31, 35, 40);">：base+path 决定 Github Page 的 index.html 路径</font></p><p><font style="color:rgb(31, 35, 40);"></font></p><p><strong><font style="color:rgb(31, 35, 40);">因此：无法同时保证双击本地 index.html 和 Github Page 远程都能正确显示，最极端的情况是本地文件夹和仓库远程名称不一样，实际上本地预览可以通过 yarn docs:dev 访问</font></strong></p><h4 id="以下设置可保证双击本地-index-html-正确显示"><a href="#以下设置可保证双击本地-index-html-正确显示" class="headerlink" title="以下设置可保证双击本地 index.html 正确显示"></a><font style="color:rgb(31, 35, 40);">以下设置可保证双击本地 index.html 正确显示</font></h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">base<span class="punctuation">:</span> &#x27;/vitepress-ob/docs/.vitepress/dist/&#x27;<span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h4 id="以下设置可保证-Github-Page-正确显示"><a href="#以下设置可保证-Github-Page-正确显示" class="headerlink" title="以下设置可保证 Github Page 正确显示"></a><font style="color:rgb(31, 35, 40);">以下设置可保证 Github Page 正确显示</font></h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">base<span class="punctuation">:</span> &#x27;/vitepress-ob/&#x27;<span class="punctuation">,</span></span><br><span class="line">path<span class="punctuation">:</span> docs/.vitepress/dist<span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p><font style="color:rgb(31, 35, 40);">或</font></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">base<span class="punctuation">:</span> &#x27;/vitepress-ob/&#x27;<span class="punctuation">,</span></span><br><span class="line">outDir<span class="punctuation">:</span> &#x27;../dist&#x27;<span class="punctuation">,</span></span><br><span class="line">path<span class="punctuation">:</span> dist</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文档 </tag>
            
            <tag> vitepress </tag>
            
            <tag> 网站 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为GITEE绑定钉钉机器人/企业微信机器人</title>
      <link href="/posts/23193/"/>
      <url>/posts/23193/</url>
      
        <content type="html"><![CDATA[<h2 id="GITEE-与钉钉"><a href="#GITEE-与钉钉" class="headerlink" title="GITEE 与钉钉"></a>GITEE 与钉钉</h2><h4 id="钉钉获得-webhook-地址与签名密钥"><a href="#钉钉获得-webhook-地址与签名密钥" class="headerlink" title="钉钉获得 webhook 地址与签名密钥"></a>钉钉获得 webhook 地址与签名密钥</h4><ol><li>钉钉群—设置—机器人—添加机器人—自定义—添加</li><li>设置机器人名称，安全设置选择<code>加签</code>—复制加签的内容(签名密钥)备用</li><li>点击完成获得 webhook 地址</li></ol><h4 id="为-Gitee-添加钉钉-WebHooks"><a href="#为-Gitee-添加钉钉-WebHooks" class="headerlink" title="为 Gitee 添加钉钉 WebHooks"></a>为 Gitee 添加钉钉 WebHooks</h4><ol><li>在 gitee 某仓库<code>设置/管理</code>里面—WebHooks—添加 WebHooks</li><li>URL 中粘贴 webhook 地址—选择签名密钥—粘贴签名密钥</li><li>完成</li></ol><h2 id="GITEE-与企业微信"><a href="#GITEE-与企业微信" class="headerlink" title="GITEE 与企业微信"></a>GITEE 与企业微信</h2><h4 id="企业微信获得-webhook-地址与签名密钥"><a href="#企业微信获得-webhook-地址与签名密钥" class="headerlink" title="企业微信获得 webhook 地址与签名密钥"></a>企业微信获得 webhook 地址与签名密钥</h4><ol><li>手机企业微信—群—群机器人—添加—新建—起个名称</li><li>完成—获得 Webhook 地址</li></ol><h4 id="为-Gitee-添加企业微信-WebHooks"><a href="#为-Gitee-添加企业微信-WebHooks" class="headerlink" title="为 Gitee 添加企业微信 WebHooks"></a>为 Gitee 添加企业微信 WebHooks</h4><ol><li>在 gitee 某仓库<code>设置/管理</code>里面—WebHooks—添加 WebHooks</li><li>URL 中粘贴 webhook 地址—选择 WebHook 密码—WebHook 密码空着即可</li><li>完成</li></ol>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
            <tag> gitee </tag>
            
            <tag> 企业微信 </tag>
            
            <tag> 钉钉 </tag>
            
            <tag> 机器人 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HyperMesh查看结构质心形心质量惯性矩</title>
      <link href="/posts/17154/"/>
      <url>/posts/17154/</url>
      
        <content type="html"><![CDATA[<h2 id="知识来源"><a href="#知识来源" class="headerlink" title="知识来源"></a>知识来源</h2><p><a href="https://www.leanwind.com/archives/5201.html">https://www.leanwind.com/archives/5201.html</a></p><h2 id="查看流程"><a href="#查看流程" class="headerlink" title="查看流程"></a>查看流程</h2><ol><li>Hypermesh 的 Post 面板中点击 summary 命令，进入 summary 面板</li><li>点击 load，在 Hypermesh 的安装路径 Altair&#x2F;templates&#x2F;summary&#x2F;common 中选择<code>ctr_of_gravity</code>&#x2F;<code>mom_of_inertia</code>统计模板</li><li>在 output file 中选择统计结果的输出路径，在右侧可以选择 displayed 或 all 来指定统计的范围</li><li>点击 summary 按钮即可得到每个部件的质量和质心坐标位置及整个模型的质量和质心坐标位置。</li></ol><h2 id="查看结果"><a href="#查看结果" class="headerlink" title="查看结果"></a>查看结果</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Moment of Inertia <span class="keyword">for</span> Model (Using Origin As Center):模型转动惯量(以原点为中心)</span><br><span class="line"> --                                                                             --</span><br><span class="line"> | <span class="number">3.504321E+03</span>  <span class="number">0.00000E+00</span>  <span class="number">0.00000E+00</span>  <span class="number">0.00000E+00</span> <span class="number">-5.29360E+00</span> <span class="number">-5.26603E+00</span> |</span><br><span class="line"> |  <span class="number">0.00000E+00</span> <span class="number">3.504321E+03</span>  <span class="number">0.00000E+00</span> <span class="number">5.293599E+00</span>  <span class="number">0.00000E+00</span> <span class="number">-1.79866E+04</span> |</span><br><span class="line"> |  <span class="number">0.00000E+00</span>  <span class="number">0.00000E+00</span> <span class="number">3.504321E+03</span> <span class="number">5.266034E+00</span> <span class="number">1.798658E+04</span>  <span class="number">0.00000E+00</span> |</span><br><span class="line"> |  <span class="number">0.00000E+00</span> <span class="number">5.293599E+00</span> <span class="number">5.266034E+00</span> <span class="number">3.134881E+03</span> <span class="number">2.531469E+01</span> <span class="number">-2.94484E+01</span> |</span><br><span class="line"> | <span class="number">-5.29360E+00</span>  <span class="number">0.00000E+00</span> <span class="number">1.798658E+04</span> <span class="number">2.531469E+01</span> <span class="number">9.914202E+04</span> <span class="number">-1.56029E+00</span> |</span><br><span class="line"> | <span class="number">-5.26603E+00</span> <span class="number">-1.79866E+04</span>  <span class="number">0.00000E+00</span> <span class="number">-2.94484E+01</span> <span class="number">-1.56029E+00</span> <span class="number">9.913859E+04</span> |</span><br><span class="line"> --                                                                             --</span><br><span class="line"></span><br><span class="line">Moment of Inertia <span class="keyword">for</span> Model (Using Center of Gravity As Center):模型转动惯量(以重心为中心)</span><br><span class="line"> --                                                                             --</span><br><span class="line"> | <span class="number">3.504321E+03</span>  <span class="number">0.00000E+00</span>  <span class="number">0.00000E+00</span>  <span class="number">0.00000E+00</span> <span class="number">-5.29360E+00</span> <span class="number">-5.26603E+00</span> |</span><br><span class="line"> |  <span class="number">0.00000E+00</span> <span class="number">3.504321E+03</span>  <span class="number">0.00000E+00</span> <span class="number">5.293599E+00</span>  <span class="number">0.00000E+00</span> <span class="number">-1.79866E+04</span> |</span><br><span class="line"> |  <span class="number">0.00000E+00</span>  <span class="number">0.00000E+00</span> <span class="number">3.504321E+03</span> <span class="number">5.266034E+00</span> <span class="number">1.798658E+04</span>  <span class="number">0.00000E+00</span> |</span><br><span class="line"> |  <span class="number">0.00000E+00</span> <span class="number">5.293599E+00</span> <span class="number">5.266034E+00</span> <span class="number">3.134865E+03</span> <span class="number">1.714209E+00</span> <span class="number">2.278043E+00</span> |</span><br><span class="line"> | <span class="number">-5.29360E+00</span>  <span class="number">0.00000E+00</span> <span class="number">1.798658E+04</span> <span class="number">1.714209E+00</span> <span class="number">6.822587E+03</span> <span class="number">1.568249E+00</span> |</span><br><span class="line"> | <span class="number">-5.26603E+00</span> <span class="number">-1.79866E+04</span>  <span class="number">0.00000E+00</span> <span class="number">2.278043E+00</span> <span class="number">1.568249E+00</span> <span class="number">6.819156E+03</span> |</span><br><span class="line"> --                                                                             --</span><br></pre></td></tr></table></figure><p>上面输出结果是什么意思不清楚，但是 optiStruct 中，CONM2 单元帮助文档里面有下面这个公式，可以对照参考</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202406162211825.png"></p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202406162207343.svg"></p>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hypermesh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>装机必备软件</title>
      <link href="/posts/105525/"/>
      <url>/posts/105525/</url>
      
        <content type="html"><![CDATA[<h2 id="不易查找的软件"><a href="#不易查找的软件" class="headerlink" title="不易查找的软件"></a>不易查找的软件</h2><table><thead><tr><th><strong>软件</strong></th><th><strong>下载链接</strong></th></tr></thead><tbody><tr><td>Everything</td><td><a href="https://www.voidtools.com/zh-cn/downloads/">https://www.voidtools.com/zh-cn/downloads/</a></td></tr><tr><td>keepass</td><td><a href="https://keepass.info/download.html">https://keepass.info/download.html</a></td></tr><tr><td>CloseSameFolder</td><td><a href="https://xdd1997.lanzoue.com/iM70w24zw0rg">https://xdd1997.lanzoue.com/iM70w24zw0rg</a></td></tr><tr><td>腾讯电脑管家桌面整理</td><td><a href="https://guanjia.qq.com/product/zmzl/">https://guanjia.qq.com/product/zmzl/</a></td></tr><tr><td>WGestures</td><td><a href="http://www.yingdev.com/projects/wgestures">http://www.yingdev.com/projects/wgestures</a></td></tr><tr><td>Adobe Acrobat Reader</td><td><a href="https://get.adobe.com/cn/reader/">https://get.adobe.com/cn/reader/</a></td></tr><tr><td>UlterEdit&#x2F;UE</td><td><a href="https://www.jb51.net/softs/848523.html">https://www.jb51.net/softs/848523.html</a></td></tr><tr><td>Picgo</td><td><a href="https://github.com/Molunerfinn/PicGo">https://github.com/Molunerfinn/PicGo</a></td></tr><tr><td>图吧工具箱</td><td><a href="https://www.tbtool.cn/">https://www.tbtool.cn/</a></td></tr><tr><td>Typora</td><td><a href="https://www.123pan.com/s/HQeA-UX1Sh">https://www.123pan.com/s/HQeA-UX1Sh</a></td></tr><tr><td>Adobe Photoshop CS6 极简版</td><td><a href="https://pan.quark.cn/s/a5a649ba6f35">https://pan.quark.cn/s/a5a649ba6f35</a></td></tr><tr><td>关闭 Win10 系统自动更新</td><td><a href="https://pan.quark.cn/s/5f90d8daa4a5">https://pan.quark.cn/s/5f90d8daa4a5</a></td></tr><tr><td>局域网异地组网工具 Radmin_LAN_v1.3.4568.3</td><td><a href="https://pan.quark.cn/s/cfa641d54e93">https://pan.quark.cn/s/cfa641d54e93</a></td></tr><tr><td>oCam495.0 单文件特别版</td><td><a href="https://xdd1997.lanpv.com/i9DZL1llr22f">https://xdd1997.lanpv.com/i9DZL1llr22f</a></td></tr><tr><td>MP4 合并与裁剪 mp4tool</td><td><a href="https://www.mp4joiner.org/en/">https://www.mp4joiner.org/en/</a><br/><a href="https://xdd1997.lanzoue.com/iHRqr1ulkebi">https://xdd1997.lanzoue.com/iHRqr1ulkebi</a></td></tr><tr><td>MathType 7.4.2.480</td><td><a href="https://xdd1997.lanzoub.com/if9Scw4go1c">https://xdd1997.lanzoub.com/if9Scw4go1c</a></td></tr><tr><td><font style="color:rgb(63, 63, 63);">StrongMenu&#x2F;复制路径</font></td><td><a href="https://xdd1997.lanzoub.com/iu89W0f49ped"><font style="color:#117CEE;">https://xdd1997.lanzoub.com/iu89W0f49ped</font></a></td></tr><tr><td><font style="color:rgb(68, 68, 68);">WinRAR 6.24</font></td><td><a href="https://www.jb51.net/softs/593707.html">https://www.jb51.net/softs/593707.html</a><br/><a href="https://xdd1997.lanzoub.com/i5ePY1b27avi">https://xdd1997.lanzoub.com/i5ePY1b27avi</a></td></tr><tr><td>Word 样式模板</td><td><a href="https://gitee.com/xdd1997/file-share/blob/master/Xdd_Default.dotm">https://gitee.com/xdd1997/file-share/blob/master/Xdd_Default.dotm</a></td></tr><tr><td>截图&#x2F;贴图 PixPin</td><td><a href="https://pixpinapp.com/">https://pixpinapp.com/</a></td></tr><tr><td>自动点击工具 FreeAutoClicker.exe</td><td><a href="https://www.free-auto-clicker.com/">https://www.free-auto-clicker.com/</a><br/><a href="https://xdd1997.lanzoue.com/iDmfu24zvhni">https://xdd1997.lanzoue.com/iDmfu24zvhni</a></td></tr><tr><td>窗口洞洞波 Winhole V0.2</td><td><a href="https://xdd1997.lanzoue.com/iPt45273fosf">https://xdd1997.lanzoue.com/iPt45273fosf</a></td></tr><tr><td>Ditto 粘贴板</td><td><a href="https://ditto-cp.sourceforge.io/">https://ditto-cp.sourceforge.io/</a></td></tr><tr><td>YaHei_Consolas_Hybrid.ttf</td><td><a href="https://xdd1997.lanzoue.com/iE14eto5msd">https://xdd1997.lanzoue.com/iE14eto5msd</a></td></tr><tr><td>驱动人生海外版</td><td><a href="https://xdd1997.lanzoue.com/iJU592r5684d">https://xdd1997.lanzoue.com/iJU592r5684d</a></td></tr></tbody></table><h2 id="容易查找的软件"><a href="#容易查找的软件" class="headerlink" title="容易查找的软件"></a>容易查找的软件</h2><table><thead><tr><th>阿里云盘</th><th>语雀</th><th>onedrive</th></tr></thead><tbody><tr><td>火绒</td><td>Zotero</td><td>坚果云</td></tr><tr><td>QQ&#x2F;微信&#x2F;钉钉</td><td>ToDesk</td><td></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
            <tag> 装机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sourcetree登录多账户</title>
      <link href="/posts/154516/"/>
      <url>/posts/154516/</url>
      
        <content type="html"><![CDATA[<h2 id="添加-Github-账户"><a href="#添加-Github-账户" class="headerlink" title="添加 Github 账户"></a>添加 Github 账户</h2><h3 id="基于用户名与-Personal-Access-Token"><a href="#基于用户名与-Personal-Access-Token" class="headerlink" title="基于用户名与 Personal Access Token"></a>基于用户名与 Personal Access Token</h3><h4 id="获取-Personal-Access-Token"><a href="#获取-Personal-Access-Token" class="headerlink" title="获取 Personal Access Token"></a>获取 Personal Access Token</h4><p>登录到 Github—个人头像（右上角）—Settings—Developer Settings—Personal access tokens—generate new token—创建的 Token 的名称随意—全选—提交</p><h4 id="Sourcetree-登录账户-Personal-Access-Token"><a href="#Sourcetree-登录账户-Personal-Access-Token" class="headerlink" title="Sourcetree 登录账户 Personal Access Token"></a>Sourcetree 登录账户 Personal Access Token</h4><ol><li>打开 Sourcetree—工具—选项—验证—添加</li><li>按照下面依次操作—输入用户名与 Personal Access Token</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202405302200928.png"></p><h3 id="基于用户名与密码"><a href="#基于用户名与密码" class="headerlink" title="基于用户名与密码"></a>基于用户名与密码</h3><ol><li>打开 Sourcetree—工具—选项—验证—添加</li><li>按照下图操作：托管服务商: <code>Github</code>, 首选协议: <code>HTTPS</code>, 验证：<code>OAuth</code></li><li>点击<code>刷新OAuth令牌</code>—输入用户名与密码即可自动打开浏览器进行验证</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407252049742.png"></p><h2 id="添加-Gitee-账户"><a href="#添加-Gitee-账户" class="headerlink" title="添加 Gitee 账户"></a>添加 Gitee 账户</h2><p>这个比较方便，<font style="color:rgb(0, 0, 0);">第一次推送时会要求用户输入账号密码，填入 gitee(码云)注册的账号密码即可</font></p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
            <tag> git </tag>
            
            <tag> gitee </tag>
            
            <tag> sourcetree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mkdocs生成文档</title>
      <link href="/posts/39539/"/>
      <url>/posts/39539/</url>
      
        <content type="html"><![CDATA[<h2 id="项目预览"><a href="#项目预览" class="headerlink" title="项目预览"></a>项目预览</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">test_mkdocs</span><br><span class="line">│</span><br><span class="line">├─my_docs</span><br><span class="line">│  │  gen_md_from_src.py</span><br><span class="line">│  │  mkdocs.yml</span><br><span class="line">│  │  readme.md</span><br><span class="line">│  │</span><br><span class="line">│  └─docs</span><br><span class="line">│      │  index.md</span><br><span class="line">│      │  帮助文档.md</span><br><span class="line">│      │</span><br><span class="line">│      └─API</span><br><span class="line">│              fun_1.md</span><br><span class="line">│              fun_2.md</span><br><span class="line">│</span><br><span class="line">└─src</span><br><span class="line">        fun_1.m</span><br><span class="line">        fun_2.py</span><br></pre></td></tr></table></figure><h2 id="最终的-mkdocs-yml"><a href="#最终的-mkdocs-yml" class="headerlink" title="最终的 mkdocs.yml"></a>最终的 mkdocs.yml</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">site_name: Xdd的帮助系统</span><br><span class="line">theme:</span><br><span class="line">  name: material</span><br><span class="line">  palette:</span><br><span class="line">    primary: &#x27;Blue&#x27;</span><br><span class="line">  icon:</span><br><span class="line">    repo: fontawesome/brands/github</span><br><span class="line">  features:</span><br><span class="line">    - search.highlight</span><br><span class="line"></span><br><span class="line">plugins:</span><br><span class="line">    - search:</span><br><span class="line">        separator: &#x27;[\s\u200b\-]&#x27;</span><br><span class="line"></span><br><span class="line">extra:</span><br><span class="line">  # social:</span><br><span class="line">  #   - icon: fontawesome/solid/paper-plane</span><br><span class="line">  #     link: mailto:xdd2026@qq.com</span><br><span class="line">  generator: false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">markdown_extensions:</span><br><span class="line">  - meta                  # 元数据</span><br><span class="line">  - pymdownx.arithmatex:  # 数学公式</span><br><span class="line">      generic: true</span><br><span class="line">  - pymdownx.highlight    # 代码高亮</span><br><span class="line"></span><br><span class="line">repo_url: https://github.com/xie-dd/mkdocs</span><br><span class="line">copyright: Copyright &amp;copy; xie-dd</span><br><span class="line">use_directory_urls: false</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="安装与生成文档"><a href="#安装与生成文档" class="headerlink" title="安装与生成文档"></a>安装与生成文档</h2><h4 id="安装与配置-mkdocs"><a href="#安装与配置-mkdocs" class="headerlink" title="安装与配置 mkdocs"></a>安装与配置 mkdocs</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pip install mkdocs</span><br><span class="line">pip install mkdocs-material</span><br><span class="line">cd test_mkdocs</span><br><span class="line">mkdocs new my_docs</span><br></pre></td></tr></table></figure><h4 id="由代码脚本的注释生成文档"><a href="#由代码脚本的注释生成文档" class="headerlink" title="由代码脚本的注释生成文档"></a>由代码脚本的注释生成文档</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd my_docs</span><br><span class="line">python gen_md_from_src.py</span><br></pre></td></tr></table></figure><h4 id="启动本地服务器"><a href="#启动本地服务器" class="headerlink" title="启动本地服务器"></a>启动本地服务器</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdocs serve</span><br><span class="line">浏览器打开：127.0.0.1:8000</span><br></pre></td></tr></table></figure><h2 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h2><h4 id="本地使用-index-html-问题"><a href="#本地使用-index-html-问题" class="headerlink" title="本地使用 index.html 问题"></a>本地使用 index.html 问题</h4><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202407301840382.png"></p><p>解决方法：添加<code>use_directory_urls</code>关键字</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">repo_url: https://github.com/xie-dd/mkdocs</span><br><span class="line">copyright: Copyright &amp;copy; xie-dd</span><br><span class="line">use_directory_urls: false</span><br></pre></td></tr></table></figure><h4 id="下划线被替换为空格"><a href="#下划线被替换为空格" class="headerlink" title="下划线被替换为空格"></a>下划线被替换为空格</h4><p>markdown 文件生成的 html 的文件在侧边导航栏中下划线会被替换为空格</p><p>解决方法：在 markdown 文档中添加<code>title</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: A-A.A2</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h4 id="中文搜索"><a href="#中文搜索" class="headerlink" title="中文搜索"></a>中文搜索</h4><ol><li>修改文件 mkdocs.yml，添加 plugins-search 部分</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">site_name: Xdd的帮助系统</span><br><span class="line">theme:</span><br><span class="line">  name: material</span><br><span class="line">  palette:</span><br><span class="line">    primary: &#x27;green&#x27;</span><br><span class="line">plugins:</span><br><span class="line">    - search:</span><br><span class="line">        separator: &#x27;[\s\u200b\-]&#x27;</span><br></pre></td></tr></table></figure><ol start="2"><li>安装分词模块：<code>pip install jieba</code></li><li>修改文件 mkdocs.contrib.search.search_index.py</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">def _add_entry(self, title, text, loc):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    A simple wrapper to add an entry and ensure the contents</span><br><span class="line">    is UTF8 encoded.</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    import jieba</span><br><span class="line">    text = text.replace(&#x27;\u3000&#x27;, &#x27; &#x27;) # 替换中文全角空格</span><br><span class="line">    text = text.replace(&#x27;\u00a0&#x27;, &#x27; &#x27;)</span><br><span class="line">    text = re.sub(r&#x27;[ \t\n\r\f\v]+&#x27;, &#x27; &#x27;, text.strip())</span><br><span class="line"></span><br><span class="line">    # 给正文分词</span><br><span class="line">    text_seg_list = jieba.cut_for_search(text) # 结巴分词，搜索引擎模式，召回率更高</span><br><span class="line">    text = &quot; &quot;.join(text_seg_list) # 用空格连接词语</span><br><span class="line"></span><br><span class="line">    # 给标题分词</span><br><span class="line">    title_seg_list = jieba.cut(title, cut_all=False) # 结巴分词，精确模式，更可读</span><br><span class="line">    title = &quot; &quot;.join(title_seg_list) # 用空格连接词语</span><br><span class="line"></span><br><span class="line">    self._entries.append(&#123;</span><br><span class="line">        &#x27;title&#x27;: title,</span><br><span class="line">        &#x27;text&#x27;: str(text.encode(&#x27;utf-8&#x27;), encoding=&#x27;utf-8&#x27;),</span><br><span class="line">        &#x27;location&#x27;: loc</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h4 id="部署到-github-page"><a href="#部署到-github-page" class="headerlink" title="部署到 github page"></a>部署到 github page</h4><p>注意：和 docsify 一样，不用部署到 ***.github.io 仓库</p><ol><li>把程序上传到 Github 任意仓库</li><li>在本地项目执行下面代码，会生成一个 site 文件夹</li></ol><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdocs build</span><br><span class="line">mkdocs gh-deploy --clean</span><br></pre></td></tr></table></figure><ol start="3"><li>登录 github—&gt;找到对应仓库—&gt;Settings—&gt;Pages—&gt;Source:Deploy from a branch—&gt;Branch:gh-pages, root—&gt;Save</li><li>访问 usename.github.io&#x2F;repo_name 即可。如 <a href="http://xie-dd.github.io/mkdocs">xie-dd.github.io&#x2F;mkdocs</a></li></ol><h4 id="简化提交程序"><a href="#简化提交程序" class="headerlink" title="简化提交程序"></a>简化提交程序</h4><p>在<code>mkdocs.yml</code>文件相同目录下添加一个<code>git_push.sh</code>文件，文件内容为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># @echo off</span><br><span class="line"># python gen_md_from_src.py</span><br><span class="line">mkdocs build</span><br><span class="line">mkdocs gh-deploy --clean</span><br><span class="line"></span><br><span class="line">git pull</span><br><span class="line">git add .</span><br><span class="line">read -p &quot;input commit message: &quot; msg</span><br><span class="line">git commit -m &quot;$msg&quot;</span><br><span class="line"># git commit -m &#x27;WIN10&#x27;</span><br><span class="line">git push</span><br><span class="line">read -p &quot;===== git push ok, Type enter to exit. ===== &quot; msg00</span><br></pre></td></tr></table></figure><h4 id="批量将-Python-Matlab-文件的注释生成文档"><a href="#批量将-Python-Matlab-文件的注释生成文档" class="headerlink" title="批量将 Python&#x2F;Matlab 文件的注释生成文档"></a>批量将 Python&#x2F;Matlab 文件的注释生成文档</h4><p>函数：<code>gen_md_from_src.py</code></p><p><a href="https://www.yuque.com/xdd1997/ek3kug/oown6is8ts58iyde?singleDoc#">https://www.yuque.com/xdd1997/ek3kug/oown6is8ts58iyde?singleDoc#</a> 密码：rzab</p><p>使用条件：代码的注释是 markdown 格式</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function c = add(a,b)</span><br><span class="line">% ## Function</span><br><span class="line">% 计算两个数的和</span><br><span class="line">%</span><br><span class="line">% ## Args</span><br><span class="line">%     - a: *int* 第1个加数</span><br><span class="line">%     - b: `int` 第2个加数</span><br><span class="line">%</span><br><span class="line">% ## Return</span><br><span class="line">%     - c: 两个数的和</span><br><span class="line">% ## End</span><br><span class="line"></span><br><span class="line">c = a+b;</span><br></pre></td></tr></table></figure><h4 id="nav"><a href="#nav" class="headerlink" title="nav"></a><font style="color:rgba(0, 0, 0, 0.87);">nav</font></h4><p>在<code>mkdocs.yml</code>文件中添加下面内容即可。如果不指定<code>nav</code>，mkdocs 将根据文件名自动生成<code>nav</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">nav:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">Home:</span> <span class="string">&quot;index.md&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">B:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">B1:</span> <span class="string">&quot;writing-your-docs.md&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">B2:</span> <span class="string">&quot;styling-your-docs.md&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">C:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">C1:</span> <span class="string">&quot;license.md&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">C2:</span> <span class="string">&quot;release-notes.md&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">API:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">&quot;A-A.A2&quot;:</span> <span class="string">&quot;API/A-A.A2.md&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">&quot;A-A.A3&quot;:</span> <span class="string">&quot;API/A-A.A3.md&quot;</span></span><br></pre></td></tr></table></figure><h4 id="添加自定义的-CSS"><a href="#添加自定义的-CSS" class="headerlink" title="添加自定义的 CSS"></a>添加自定义的 CSS</h4><p>资料：<a href="https://zhuanlan.zhihu.com/p/568788779">https://zhuanlan.zhihu.com/p/568788779</a></p><ol><li>新建文件<code>docs\stylesheets\extra.css</code>，内容如下</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.md-typeset</span> <span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-class">.md-typeset</span> <span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-class">.md-typeset</span> <span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.22em</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#4052b5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>在<code>mkdocs.yml</code>文件添加如下内容</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">extra_css: -stylesheets/extra.css;</span><br></pre></td></tr></table></figure><ol start="3"><li>执行<code>mkdocs serve</code>预览</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202411292100331.png"></p><p>注：extra_css 的根目录是 docs</p>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mkdocs </tag>
            
            <tag> 文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sourcetree-多人协作</title>
      <link href="/posts/154515/"/>
      <url>/posts/154515/</url>
      
        <content type="html"><![CDATA[<h2 id="软件下载"><a href="#软件下载" class="headerlink" title="软件下载"></a>软件下载</h2><p>Git-2.45.1-64-bit.exe 蓝奏云：<a href="https://xdd1997.lanzoue.com/iCsEt1z4cbze">https://xdd1997.lanzoue.com/iCsEt1z4cbze</a></p><p>SourceTreeSetup-3.4.18.exe 蓝奏云：<a href="https://xdd1997.lanzoue.com/indJQ1z4chuf">https://xdd1997.lanzoue.com/indJQ1z4chuf</a></p><h2 id="Step1-准备修改前"><a href="#Step1-准备修改前" class="headerlink" title="Step1 准备修改前"></a>Step1 准备修改前</h2><p>01：点击<strong>获取</strong>按钮—点击<strong>History</strong>, 查看远程仓库状况</p><p>02：点击<strong>拉取</strong>按钮—点击<strong>History</strong>, 确保本地文件与远程仓库相同</p><h2 id="Step2-修改代码"><a href="#Step2-修改代码" class="headerlink" title="Step2 修改代码"></a>Step2 修改代码</h2><p>更新自己的代码</p><h2 id="Step2-修改代码后"><a href="#Step2-修改代码后" class="headerlink" title="Step2 修改代码后"></a>Step2 修改代码后</h2><p>点击<strong>获取</strong>—点击<strong>History</strong>, 查看远程仓库状况</p><h4 id="分析图谱-确认是否冲突"><a href="#分析图谱-确认是否冲突" class="headerlink" title="分析图谱-确认是否冲突"></a>分析图谱-确认是否冲突</h4><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408092125869.png"></p><p>本图谱表明：</p><ul><li>大家的代码在<code>-2</code>版本时是相同的，然后有人基于<code>-2</code>版本修改后提交了<code>-3</code>版本，然后他又基于<code>-3</code>版本修改后提交了<code>-4</code>版本。而你基于<code>-2</code>版本进行了修改，现在准备提交。</li><li>所以，有可能你们的修改是冲突的（冲突表示修改了同一个文件）</li><li>你需要点击图谱上的<code>-3</code>版本与<code>-4</code>版本，看看他们修改的文件与你修改的文件<strong>有没有</strong>冲突</li></ul><h4 id="没有冲突"><a href="#没有冲突" class="headerlink" title="没有冲突"></a>没有冲突</h4><ul><li>点击<strong>拉取</strong>—本地其他文件被远程替代，但是你修改的文件不会被替代</li><li>点击<strong>文件状态</strong>—点击<strong>暂存所有</strong>—写上标注—点击右下角<strong>提交</strong>—点击<strong>推送</strong>—确认</li></ul><h4 id="确有冲突"><a href="#确有冲突" class="headerlink" title="确有冲突"></a>确有冲突</h4><ul><li>点击冲突的文件—右键—移覆文件改动（这表示让远程文件覆盖本地，因此你需要先备份这个冲突的文件）</li><li>拉取远程代码（因为没有冲突文件，所以可以成功)</li><li>解决你的冲突文件</li><li>提交与推送你的文件（因为没有冲突文件，所以可以成功)</li></ul>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> sourcetree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>drawio使用指南</title>
      <link href="/posts/28932/"/>
      <url>/posts/28932/</url>
      
        <content type="html"><![CDATA[<h2 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h2><p>浏览器在线使用：<a href="https://app.diagrams.net/">draw.io</a></p><p>安装包&#x2F;绿色安装包离线使用：<a href="https://github.com/jgraph/drawio-desktop/releases">https://github.com/jgraph/drawio-desktop/releases</a></p><p>蓝奏云转存：<a href="https://xdd1997.lanzoub.com/ikkyh1a8w2ti">https://xdd1997.lanzoub.com/ikkyh1a8w2ti</a>（不是最新版本）</p><h2 id="使用指南"><a href="#使用指南" class="headerlink" title="使用指南"></a>使用指南</h2><h3 id="连接方式"><a href="#连接方式" class="headerlink" title="连接方式"></a>连接方式</h3><blockquote><p>视频教程：<a href="https://www.bilibili.com/video/BV1i24y1C7fU">https://www.bilibili.com/video/BV1i24y1C7fU</a> 从 05 分 24 秒开始</p></blockquote><p>框选图形，会发现有些连接点是<font style="background-color:#74B602;">绿色</font>，有些连接点是<font style="background-color:#81BBF8;">蓝色</font>。</p><ul><li><font style="background-color:#74B602;">绿色</font>连接时，移动方框连接点的位置是锁死的，不能自动更改连接位置</li><li><font style="background-color:#81BBF8;">蓝色</font>连接是，移动方框连接点的位置会发生变化（可自动选择上下左右边的中点）</li></ul><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202404140934943.png"></p><p><strong>如何获得绿色连接点&#x2F;蓝色连接点?</strong></p><ul><li>从方框绿色点拉出的线，连接线<code>左端</code>是<code>&lt;font style=&quot;background-color:#74B602;&quot;&gt;绿色&lt;/font&gt;</code></li><li>从方框蓝色箭头点拉出的线，连接线<code>左端</code>是<code>&lt;font style=&quot;background-color:#81BBF8;&quot;&gt;蓝色&lt;/font&gt;</code></li><li>终点放到方框的绿色点上，连接线<code>右端</code>是<code>&lt;font style=&quot;background-color:#8CCF17;&quot;&gt;绿色&lt;/font&gt;</code></li><li>终点放到方框出现蓝色阴影时，连接线<code>右端</code>是<code>&lt;font style=&quot;background-color:#81BBF8;&quot;&gt;蓝色&lt;/font&gt;</code></li></ul><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202404141002571.png"></p><h3 id="如何获得高清图片"><a href="#如何获得高清图片" class="headerlink" title="如何获得高清图片"></a>如何获得高清图片</h3><h4 id="方法-1"><a href="#方法-1" class="headerlink" title="方法 1"></a>方法 1</h4><ol><li>导出 PDF</li><li>打开 PDF—缩放到合适位置—截图</li></ol><h4 id="方法-2"><a href="#方法-2" class="headerlink" title="方法 2"></a>方法 2</h4><p>导出 SVG 矢量图</p><h4 id="方法-3"><a href="#方法-3" class="headerlink" title="方法 3"></a>方法 3</h4><ol><li>文件—导出—PNG—缩放 <code>1000%</code></li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202404301905014.png"></p>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> drawio </tag>
            
            <tag> 流程图 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PySide6的入门配置</title>
      <link href="/posts/1043/"/>
      <url>/posts/1043/</url>
      
        <content type="html"><![CDATA[<h2 id="重要提示"><a href="#重要提示" class="headerlink" title="重要提示"></a>重要提示</h2><ol><li>pyside6 仅支持 3.8.1 及更高版本</li></ol><h2 id="在-VSCode-工作"><a href="#在-VSCode-工作" class="headerlink" title="在 VSCode 工作"></a>在 VSCode 工作</h2><h3 id="初次配置环境"><a href="#初次配置环境" class="headerlink" title="初次配置环境"></a>初次配置环境</h3><h4 id="设置在-vscode-要使用的-Python-环境"><a href="#设置在-vscode-要使用的-Python-环境" class="headerlink" title="设置在 vscode 要使用的 Python 环境"></a>设置在 vscode 要使用的 Python 环境</h4><ol><li>打开 vscode—插件(Ctrl+Shift+X)—搜索并安装 Python</li><li>文件—首选项—设置—扩展—Python—Default Interpreter Path—填写你的 Python.exe 路径</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202404121433114.png"></p><h4 id="在指定环境安装-PySide6"><a href="#在指定环境安装-PySide6" class="headerlink" title="在指定环境安装 PySide6"></a>在指定环境安装 PySide6</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /d C:\Python_3_12_3\Scripts</span><br><span class="line">pip install PySide6</span><br></pre></td></tr></table></figure><h4 id="配置-PySide6-环境"><a href="#配置-PySide6-环境" class="headerlink" title="配置 PySide6 环境"></a>配置 PySide6 环境</h4><ol><li>打开 vscode—插件(Ctrl+Shift+X)—安装 Qt for Python</li><li>打开 vscode—插件—Qt for Python—设置—扩展设置—在电脑找到下面 3 个软件的路径相应填入扩展设置</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\Python_3_12_3\Scripts\pyside6-designer.exe</span><br><span class="line">C:\Python_3_12_3\Scripts\pyside6-rcc.exe</span><br><span class="line">C:\Python_3_12_3\Scripts\pyside6-uic.exe</span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202404121358628.png"></p><h4 id="检查是否配置成功"><a href="#检查是否配置成功" class="headerlink" title="检查是否配置成功"></a>检查是否配置成功</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PySide6 <span class="keyword">import</span> QtWidgets</span><br><span class="line"></span><br><span class="line">app = QtWidgets.QApplication(sys.argv)</span><br><span class="line">winget = QtWidgets.QWidget()</span><br><span class="line">winget.resize(<span class="number">622</span>, <span class="number">360</span>)</span><br><span class="line">winget.setWindowTitle(<span class="string">&quot;Hello, PySide6!&quot;</span>)</span><br><span class="line">winget.show()</span><br><span class="line">sys.exit(app.exec_())</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="基于-designer-的小案例"><a href="#基于-designer-的小案例" class="headerlink" title="基于 designer 的小案例"></a>基于 designer 的小案例</h3><ol><li>需要使用 designer.exe 建立一个 ui 文件，直接打开下面软件</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Python_3_12_3\Lib\site-packages\PySide6\designer.exe</span><br></pre></td></tr></table></figure><ol start="2"><li>文件—新建—Widgets—保存为 my_form.ui<img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202404121628706.png"></li><li>在 vscode 中—找到 my_form.ui 右键—Compile Qt Ul File (uic)—自动生成 my_form.py 文件</li><li>新建 Main_Call_UI.py 文件，内容如下：</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QWidget</span><br><span class="line"><span class="keyword">from</span> my_form_ui <span class="keyword">import</span> Ui_Form  <span class="comment"># my_form_ui.py</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(QWidget,Ui_Form):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>) :</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.setupUi(self)</span><br><span class="line"></span><br><span class="line">        self.pushButton_login.clicked.connect(self.btn_login_click)</span><br><span class="line">        self.pushButton_clear.clicked.connect(self.btn_clear_click)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">btn_login_click</span>(<span class="params">self</span>):</span><br><span class="line">        self.lineEdit_user.setText(<span class="string">&quot;xdd&quot;</span>)</span><br><span class="line">        self.lineEdit_2_pwd.setText(<span class="string">&quot;622&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">btn_clear_click</span>(<span class="params">self</span>):</span><br><span class="line">        self.lineEdit_user.setText(<span class="string">&quot;&quot;</span>)</span><br><span class="line">        self.lineEdit_2_pwd.setText(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    win = MainWindow()</span><br><span class="line">    win.setWindowTitle(<span class="string">&quot;第一个程序&quot;</span>)</span><br><span class="line">    win.show()</span><br><span class="line">    app.exit(app.<span class="built_in">exec</span>())</span><br></pre></td></tr></table></figure><ol start="5"><li>成品 <a href="https://xdd1997.lanzoue.com/iz0ky1usqqsf">https://xdd1997.lanzoue.com/iz0ky1usqqsf</a></li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202404121629174.png"></p><h2 id="在-Pycharm-工作"><a href="#在-Pycharm-工作" class="headerlink" title="在 Pycharm 工作"></a>在 Pycharm 工作</h2><h3 id="初次配置环境-1"><a href="#初次配置环境-1" class="headerlink" title="初次配置环境"></a>初次配置环境</h3><ol><li>打开 pycharm—新建项目—选择对应的解释器—安装模块 Pyside6</li><li>打开 pycharm—文件—设置—工具—外部工具，依次添加下面 2 个</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">名称：Pyside6-Designer（可自己定义）</span><br><span class="line">程序：pyside6-designer.exe的安装路径 C:\Python_3_12_3\Scripts\pyside6-designer.exe</span><br><span class="line">工作目录： $FileDir$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">名称：Pyside6-UIC（可自己定义）</span><br><span class="line">程序：pyside6-uic.exe的安装路径 C:\Python_3_12_3\Scripts\pyside6-uic.exe</span><br><span class="line">实参：$FileName$ -o $FileNameWithoutExtension$.py</span><br><span class="line">工作目录： $FileDir$</span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202404121603239.png"></p><h3 id="基于-designer-的小案例-1"><a href="#基于-designer-的小案例-1" class="headerlink" title="基于 designer 的小案例"></a>基于 designer 的小案例</h3><ol><li>在 Pycharm 中—项目文件夹—右键—外部工具或 pyside6–打开 pyside6-designer.exe 创建 ui 文件</li><li>在 Pycharm 中—ui 文件—右键—使用 uic 转换.ui 为.py 文件</li><li>编写调用窗体文件的代码</li></ol><h2 id="窗体-控件的使用"><a href="#窗体-控件的使用" class="headerlink" title="窗体&#x2F;控件的使用"></a>窗体&#x2F;控件的使用</h2><p>参考：<a href="https://www.yuque.com/xdd1997/program/xqxbit?singleDoc#">https://www.yuque.com/xdd1997/program/xqxbit?singleDoc#</a> 《PyQT5&#x2F;PySide6 的使用》</p><p>注意：以后仅维护《PyQT5&#x2F;PySide6 的使用》</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> pyside6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pycharm如何使用某一个Python的环境</title>
      <link href="/posts/3180/"/>
      <url>/posts/3180/</url>
      
        <content type="html"><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><ol><li>有个 Python 安装在了 C:\Python38\python.exe，这里有很多包，如 numpy 等</li><li>现在要在 D:\AA 文件夹建立一个 aa.py 文件，想使用 C:\Python38\python.exe 环境</li></ol><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><ol><li>在 D:\AA 里面，右键 Open Folder as PyCharm</li><li>打开 Pycharm 后，文件—设置—项目—Python 解释器—添加解释器—添加本地解释器—Virtualenv 环境—<strong>现有</strong>—三个点—选择 C:\Python38\python.exe—确定</li><li>等待即可，真的要等待好长时间，如果原环境较大，不如新建一个环境</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202403182149128.png"></p><h2 id="移动项目"><a href="#移动项目" class="headerlink" title="移动项目"></a>移动项目</h2><p>参见：<a href="https://19970622.xyz/posts/191723/">https://19970622.xyz/posts/191723/</a></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 环境 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pycharm配置与若干问题</title>
      <link href="/posts/191723/"/>
      <url>/posts/191723/</url>
      
        <content type="html"><![CDATA[<h2 id="一般使用教程"><a href="#一般使用教程" class="headerlink" title="一般使用教程"></a>一般使用教程</h2><ol><li>下载社区版：<a href="https://www.jetbrains.com/pycharm/download/">https://www.jetbrains.com/pycharm/download/</a></li><li>随便安装到一个地方就行</li></ol><h2 id="主题设置"><a href="#主题设置" class="headerlink" title="主题设置"></a>主题设置</h2><p>“File&#x2F;文件”—“Settings&#x2F;设置”—“Editor&#x2F;编辑器”—“Color Scheme&#x2F;配色方案”</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202403191512523.png"></p><h2 id="项目移动位置"><a href="#项目移动位置" class="headerlink" title="项目移动位置"></a>项目移动位置</h2><blockquote><p>搜索关键词：pycharm, 项目，目录，移动，位置，更换</p></blockquote><ol><li>原本项目在 D:\pythonProject03</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408092126282.png"></p><ol start="2"><li>现在，因为特殊的原因需要剪切到桌面 D:\Desktop\pythonProject03，也可以理解为换一台电脑</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2024/png/1488614/1710833513827-611a39cb-f5d1-45ae-8ec1-91be9b44af68.png"></p><ol start="3"><li>打开 Pycharm—文件—打开—选择 D:\Desktop\pythonProject03</li><li>注意，此时点击运行是不行的，会报错，还需要按照下面<strong>重新配置解释器</strong></li><li>文件—设置—项目 pythonProject03—Python 解释器—添加解释器—添加本地解释器—选择 Virtualenv 环境—<strong>现有</strong>—选择解释器 D:\Desktop\pythonProject03.venv\Scripts\python.exe（在项目目录下）— 确定</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202403191606898.png"></p><ol start="6"><li>可能还需要点一下，也可能不需要</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202403191609035.png"></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> pycharm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python推送消息到企业微信</title>
      <link href="/posts/45582/"/>
      <url>/posts/45582/</url>
      
        <content type="html"><![CDATA[<h2 id="创建团队与机器人"><a href="#创建团队与机器人" class="headerlink" title="创建团队与机器人"></a>创建团队与机器人</h2><div class="note warning flat"><p>如果无法创建机器人，请检查是否是以下情况：</p><p>1、外部群聊暂不支持添加群机器人。</p><p>2、群聊开启了仅群主管理，只有群主有添加机器人入口，群管理员和群成员则无添加机器人入口。</p><p>3、管理员把管理后台-应用管理-机器人应用停用后，则群聊中无法添加机器人。</p><p>4、管理员在管理后台-应用管理-机器人开启了“限制创建机器人”后，需白名单内的成员支持添加群机器人。</p><p>5、手机端不支持添加已发布的机器人，已发布的机器人仅电脑端支持。</p></div><ol><li>手机下载企业微信—设置—全新创建企业</li><li>个人创建团队—输入团队名称与姓名</li><li>全员群—设置—群机器人—添加—新建—输入机器人名字—添加—复制 Webhook 地址待用</li></ol><h2 id="Python-发送消息到机器人"><a href="#Python-发送消息到机器人" class="headerlink" title="Python 发送消息到机器人"></a>Python 发送消息到机器人</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">send_msg</span>(<span class="params">webhook, msg</span>):</span><br><span class="line">    data=&#123;</span><br><span class="line">        <span class="string">&#x27;msgtype&#x27;</span>:<span class="string">&#x27;text&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;text&#x27;</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;content&#x27;</span>:msg</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    res=requests.post(webhook,json=data)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># url换成自己群机器人的Webhook</span></span><br><span class="line">    webhook=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    msg = <span class="string">&quot;https://19970622.xyz/&quot;</span></span><br><span class="line">    res = send_msg(webhook, msg)</span><br><span class="line">    <span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure><h2 id="Webhook"><a href="#Webhook" class="headerlink" title="Webhook"></a>Webhook</h2><p><a href="https://www.yuque.com/xdd1997/blog/fm98t4uzx3nmc5kq#PDyV3">此处为语雀卡片，点击链接查看</a></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 企业微信 </tag>
            
            <tag> 自动化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>弹出U盘该设备正在使用中</title>
      <link href="/posts/43315/"/>
      <url>/posts/43315/</url>
      
        <content type="html"><![CDATA[<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><blockquote><p>弹出 USB 大容量存储设备 时出问题</p><p>该设备正在使用中。请关闭可能使用该设备的所有程序或窗口，然后重试</p></blockquote><h2 id="解决方法-1"><a href="#解决方法-1" class="headerlink" title="解决方法 1"></a>解决方法 1</h2><p><font style="color:rgb(17, 17, 17);">win+x-&gt;磁盘管理-&gt;脱机 相关磁盘（注意不是删除卷!!!）</font></p><h2 id="解决方法-2"><a href="#解决方法-2" class="headerlink" title="解决方法 2"></a>解决方法 2</h2><p>参考: <a href="https://blog.csdn.net/weixin_57048716/article/details/132544422">https://blog.csdn.net/weixin_57048716&#x2F;article&#x2F;details&#x2F;132544422</a></p><h4 id="Step1-弹出-U-盘-硬盘"><a href="#Step1-弹出-U-盘-硬盘" class="headerlink" title="Step1 弹出 U 盘&#x2F;硬盘"></a>Step1 弹出 U 盘&#x2F;硬盘</h4><ul><li>在屏幕右下角—鼠标放到 U 盘图标上—右键–弹出设备</li><li>如果没被占用，则可正常弹出 U 盘</li><li>如果被占用，则会弹出窗口<code>弹出 USB 大容量存储设备 时出问题</code></li></ul><h4 id="Step2-找到进程-ID"><a href="#Step2-找到进程-ID" class="headerlink" title="Step2 找到进程 ID"></a>Step2 找到进程 ID</h4><ul><li>win+r—compmgmt.msc—系统工具—事件查看器—自定义视图—管理事件—等一会</li><li>查看有哪些原因导致弹出失败</li><li>比如下图—点击第 1 个警告—可以看到进程 ID 是 7804</li></ul><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408092126074.png"></p><h4 id="Step3-打开任务管理器-关闭相关进程"><a href="#Step3-打开任务管理器-关闭相关进程" class="headerlink" title="Step3 打开任务管理器-关闭相关进程"></a>Step3 打开任务管理器-关闭相关进程</h4><ul><li>win+R—taskmgr.exe</li><li>点击详细信息—再点击 PID 进行排序—找到对应进程号—右键关闭</li></ul><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202405051941501.png"></p><h4 id="Step4-重新弹出-U-盘-硬盘"><a href="#Step4-重新弹出-U-盘-硬盘" class="headerlink" title="Step4 重新弹出 U 盘&#x2F;硬盘"></a>Step4 重新弹出 U 盘&#x2F;硬盘</h4>]]></content>
      
      
      <categories>
          
          <category> windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> U盘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python推送消息到钉钉群</title>
      <link href="/posts/47016/"/>
      <url>/posts/47016/</url>
      
        <content type="html"><![CDATA[<h2 id="在钉钉-PC-端创建机器人"><a href="#在钉钉-PC-端创建机器人" class="headerlink" title="在钉钉 PC 端创建机器人"></a>在钉钉 PC 端创建机器人</h2><p>按照下面链接所述创建自定义机器人</p><p><a href="https://open.dingtalk.com/document/robots/customize-robot-security-settings">https://open.dingtalk.com/document/robots/customize-robot-security-settings</a></p><h2 id="基于-Python-将消息发送到钉钉群"><a href="#基于-Python-将消息发送到钉钉群" class="headerlink" title="基于 Python 将消息发送到钉钉群"></a>基于 Python 将消息发送到钉钉群</h2><h3 id="使用关键字作为安全方式"><a href="#使用关键字作为安全方式" class="headerlink" title="使用关键字作为安全方式"></a>使用关键字作为安全方式</h3><blockquote><p>以下代码”钉钉”为关键字，只需要复制 webhook</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">send_msg</span>(<span class="params">msg</span>):</span><br><span class="line">webhook=<span class="string">&#x27;https://oapi.dingtalk.com/robot/send***&#x27;</span>  <span class="comment"># url换成自己群机器人的</span></span><br><span class="line">data=&#123;<span class="string">&#x27;msgtype&#x27;</span>:<span class="string">&#x27;text&#x27;</span>, <span class="string">&#x27;text&#x27;</span>:&#123;<span class="string">&#x27;content&#x27;</span>:msg&#125;&#125;</span><br><span class="line">res=requests.post(webhook,json=data)</span><br><span class="line"></span><br><span class="line">send_msg(<span class="string">&quot;钉钉-NNNNNCCCCBBB&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="使用加签作为安全方式"><a href="#使用加签作为安全方式" class="headerlink" title="使用加签作为安全方式"></a>使用加签作为安全方式</h3><p>需要依次复制<code>密钥</code>与<code>webhook</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> hmac</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sent_msg</span>(<span class="params">webhook, secret, msg</span>):</span><br><span class="line">timestamp = <span class="built_in">str</span>(<span class="built_in">round</span>(time.time() * <span class="number">1000</span>))</span><br><span class="line">secret_enc = secret.encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">string_to_sign = <span class="string">&#x27;&#123;&#125;\n&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(timestamp, secret)</span><br><span class="line">string_to_sign_enc = string_to_sign.encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">hmac_code = hmac.new(secret_enc, string_to_sign_enc, digestmod=hashlib.sha256).digest()</span><br><span class="line">sign = urllib.parse.quote_plus(base64.b64encode(hmac_code))</span><br><span class="line">my_url = <span class="string">f&quot;<span class="subst">&#123;webhook&#125;</span>&amp;timestamp=<span class="subst">&#123;timestamp&#125;</span>&amp;sign=<span class="subst">&#123;sign&#125;</span>&quot;</span></span><br><span class="line">message = &#123; <span class="string">&quot;msgtype&quot;</span>: <span class="string">&quot;text&quot;</span>,<span class="string">&quot;text&quot;</span>: &#123;<span class="string">&quot;content&quot;</span>: msg&#125;,<span class="string">&quot;at&quot;</span>: &#123;<span class="string">&quot;isAtAll&quot;</span>: <span class="literal">False</span>&#125;&#125;</span><br><span class="line">message_json = json.dumps(message)</span><br><span class="line">header = &#123;<span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span>, <span class="string">&quot;Charset&quot;</span>: <span class="string">&quot;UTF-8&quot;</span>&#125;</span><br><span class="line">info = requests.post(url=my_url, data=message_json, headers=header, verify=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;__name__&quot;</span> == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line"><span class="comment"># 加签</span></span><br><span class="line">secret = <span class="string">&quot;SEC4ea8329b42ef4d99bfa4*****&quot;</span></span><br><span class="line">webhook = <span class="string">&quot;https://oapi.dingtalk.com/robot/send?access_token*****&quot;</span></span><br><span class="line">msg = <span class="string">&quot;xdd_lalalala_ooo&quot;</span></span><br><span class="line">sent_msg(webhook, secret, msg)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 钉钉 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>书籍推荐</title>
      <link href="/posts/50990/"/>
      <url>/posts/50990/</url>
      
        <content type="html"><![CDATA[<p>书名：Aerothermodynamics of Aircraft Engine Components</p><p>作者：Gordon C. Oates</p><p>出版年份：1985</p><p>链接：<a href="https://xdd1997.lanzoue.com/iWMDP1qnyu2h">https://xdd1997.lanzoue.com/iWMDP1qnyu2h</a></p><p>备注：有中文译本《航空发动机部件气动热力学》</p><p>书名：航空发动机部件气动热力学</p><p>作者：Gordon C.Oates</p><p>翻译：金东海，高军辉，金捷，桂幸民</p><p>链接：<a href="https://xdd1997.lanzoue.com/i8OlF1qnzguh">https://xdd1997.lanzoue.com/i8OlF1qnzguh</a></p><p>备注：原版英文书籍名称为《Aerothermodynamics of Aircraft Engine Components》</p><p>书名：Dynamics of Rotating Systems</p><p>作者：Giancarlo Genta</p><p>出版社：Springer</p><p>年份：2005</p><p>链接：<a href="https://xdd1997.lanzoue.com/ia4ec1rfxsid">https://xdd1997.lanzoue.com/ia4ec1rfxsid</a></p><p><font style="color:rgb(51, 51, 51);background-color:rgb(246, 246, 246);"></font></p>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 书籍 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python-selenium-遇到的问题</title>
      <link href="/posts/56223/"/>
      <url>/posts/56223/</url>
      
        <content type="html"><![CDATA[<h3 id="Chrome-闪退"><a href="#Chrome-闪退" class="headerlink" title="Chrome 闪退"></a>Chrome 闪退</h3><p>解决方法：查看 chrome 版本与 chromedriver.exe 版本是否一致</p><ol><li>chrome 浏览器—设置—关于 Chrome, 查看 Chrome 版本</li><li><a href="http://chromedriver.storage.googleapis.com/index.html">http://chromedriver.storage.googleapis.com/index.html</a> — 下载旧版本的 chromedriver.exe</li><li><a href="https://googlechromelabs.github.io/chrome-for-testing">https://googlechromelabs.github.io/chrome-for-testing</a> — 下载较新版本的 chromedriver.exe</li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nastran考虑陀螺效应的模态分析</title>
      <link href="/posts/6579/"/>
      <url>/posts/6579/</url>
      
        <content type="html"><![CDATA[<h2 id="本地文件夹"><a href="#本地文件夹" class="headerlink" title="本地文件夹"></a>本地文件夹</h2><p>Nastran_Rotor</p><h2 id="模型介绍"><a href="#模型介绍" class="headerlink" title="模型介绍"></a>模型介绍</h2><ul><li>案例出处：rotor_dynamics.pdf—6 Rotordynamics with MSC Patran</li><li>空心悬臂转子模型</li><li>空心转子长 0.5 米，内径 0.05 米，外径 0.1 米</li><li>转子由钢制成</li><li>转速为 10,000 RPM</li><li>使用 5 个 CBEAM 单元</li></ul><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221225848.png" alt="空心悬臂转子"></p><h2 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h2><table><thead><tr><th>Step 1</th><th>初始化 Patran</th></tr></thead><tbody><tr><td>Step 2</td><td>建立几何</td></tr><tr><td>Step 3</td><td>定义材料属性</td></tr><tr><td>Step 4</td><td>定义 1D 梁属性</td></tr><tr><td>Step 5</td><td>定义有限元网格</td></tr><tr><td>Step 6</td><td>定义约束</td></tr><tr><td>Step 7</td><td>定义转子</td></tr><tr><td>Step 8</td><td>设置分析</td></tr><tr><td>Step 9</td><td>在 Nastran 求解</td></tr><tr><td>Step 10</td><td>生成模态振型</td></tr><tr><td>Step 11</td><td>生成 Campbell 图</td></tr></tbody></table><h3 id="Step-1-初始化-Patran"><a href="#Step-1-初始化-Patran" class="headerlink" title="Step 1 初始化 Patran"></a>Step 1 初始化 Patran</h3><ol><li>打开 Patran</li><li>File—New—选择路径、设置文件名为 rotor.db —点击 OK</li><li>点击 OK 后进入新界面—在右侧有个 New Model Preference—设置 Tolerance 为 Default—点击 OK</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221236230.png"></p><h3 id="Step-2-建立几何"><a href="#Step-2-建立几何" class="headerlink" title="Step 2 建立几何"></a>Step 2 建立几何</h3><ol><li>点击 Geometry 选项卡</li><li>点击 Curves — 点击 Line By XYZ—设置&lt;0.5 0 0&gt;与[0 0 0]—点击 Apply</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221240752.png"></p><h3 id="Step-3-定义材料"><a href="#Step-3-定义材料" class="headerlink" title="Step 3: 定义材料"></a>Step 3: 定义材料</h3><ol><li>Properties—Isotropic—弹出材料设置窗口</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221245262.png"></p><ol start="2"><li>设置 Material Name 为 Steel</li><li>点击 Input Properties—设置弹性模量、泊松比与密度—点击 OK</li><li>点击 Apply</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221251156.png"></p><h3 id="Step-4-定义-1D-梁属性"><a href="#Step-4-定义-1D-梁属性" class="headerlink" title="Step 4: 定义 1D 梁属性"></a>Step 4: 定义 1D 梁属性</h3><ol><li>点击 Properties — 点击梁 Beam—右侧弹出 Element Properties 窗口</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221254286.png"></p><ol start="2"><li>设置 Property Set Name 为 beam_prop</li><li>设置 Options 的第一个框为 General Section (CBEAM)</li><li>点击 Input Properties—弹出 Input Properties 新窗口</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221308533.png"></p><ol start="5"><li>点击下图 ① 处—弹出窗口—选择 Steel</li><li>在 Bar Orientation 设置&lt;0 1 0&gt;, 即选择 Y 方向为弯曲方向</li><li>点击下图 ③ 处—点击下一页或者上一页—选择空心圆柱截面—设置内径与外径尺寸—点击 OK</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221310788.png"></p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221317348.png" alt="截面选择"></p><ol start="8"><li>上一步点击 OK 后回到 Element Properties 窗口—点击 Apply</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221321706.png"></p><h3 id="Step-5-生成有限元模型"><a href="#Step-5-生成有限元模型" class="headerlink" title="Step 5: 生成有限元模型"></a>Step 5: 生成有限元模型</h3><ol><li>点击 Meshing —在右侧 Finite Element 窗口按照下面设置</li><li>Action: Create, Object: <strong>Mesh Seed</strong>, Type: Uniform</li><li>勾选 Number of Elements—设置 Number&#x3D;5</li><li>鼠标左键点击窗口的几何线—此时右侧 Curve List 中会出现 Curve 1—点击 Apply</li><li>Action: Create, Object: <strong>Mesh</strong>, Type: <strong>Curve</strong></li><li>按照下图进行设置—点击 Apply</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221333230.png"></p><h3 id="Step-6-定义约束"><a href="#Step-6-定义约束" class="headerlink" title="Step 6: 定义约束"></a>Step 6: 定义约束</h3><ol><li>点击 Loads&#x2F;BCs 选项卡—在右侧弹出新窗口</li><li>Action: Create, Object: Displacement, Type: Nodal</li><li>设置 New Set Name 为 cantilever_Rotor</li><li>点击 Input Data 设置位移与转角均为 0—点击 OK</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221348210.png"></p><ol start="5"><li>点击 Select Application Region—Select: FEM—选择结点—点击 OK</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221349341.png"></p><ol start="6"><li>上一步点击 OK 后回到 Load&#x2F;Boundary Conditions 窗口—点击 Apply 完成约束的创建</li></ol><h3 id="Step-7-定义转子"><a href="#Step-7-定义转子" class="headerlink" title="Step 7: 定义转子"></a>Step 7: 定义转子</h3><p>为了使 MSC Patran 捕获转子动力学效应，我们需要定义转子的成分和旋转方向</p><ol><li>Tools—Modeling—Rotor dynamics</li><li>右侧弹出窗口，Action: <strong>Create</strong>, Analysis: <strong>Steady State</strong>, and Object: <strong>Rotor</strong></li><li>设置 Rotor Name 为 hollow_rotor</li><li>设置 Rotor Node List 为 Node 1:6，这一步将会设置 ROTORG 卡片</li><li>设置转子旋转方向，Spin Direction Node 1&#x2F;2 选择 Node 2 与 Node 3</li><li>点击 Spin Profile，设置 Speed Values 为<strong>1.0</strong>， 这是一个乘数—点击 OK</li><li>点击 Apply 完成转子的设置</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408092127211.png"></p><h3 id="Step-8-设置分析"><a href="#Step-8-设置分析" class="headerlink" title="Step 8: 设置分析"></a>Step 8: 设置分析</h3><ol><li>点击 Analysis 选项卡—Action: Analyze, Object: Entire Model, Method: <strong>Analysis Desk</strong></li><li>设置 Job Name 为 hollow_rotor_test</li><li>点击 Solution Type—弹出 Solution Type 窗口</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221512619.png"></p><ol start="4"><li>在 Solution Type 窗口—选择 complex eigenvalue</li><li>设置 Formulation 为 Direct—点击 Solution Parameters</li><li>设置 Mass Calculations 为 Coupled—点击 complex eigenvalue, 弹出 Eigenvalue Extraction 窗口</li><li>选择 Extraction Method 为 Complex Lanczos—设置 Number of Desired Roots&#x3D;12—点击 OK</li><li>点击 Results Output Format—勾选 XDB—点击 OK</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221514805.png"></p><ol start="9"><li>继续点击 OK 返回到 Analysis 窗口</li><li>在 Analysis 窗口点击 Subcases—点击 Default—点击 Subcase Parameters 来修改</li><li>勾选 Enable Rotor Dynamics—点击 Specify Spinning Properties</li><li>Option: <strong>Asynchronous <strong>— 选择 hollow_rotor—单位:RPM—Speed:10000，这一步将设置</strong>RGYRO</strong>卡片</li><li>点击 OK 关闭 Spinning Properties 窗口</li><li>点击 OK 关闭 Subcase Parameters 窗口</li><li>点击 Apply 关闭 Subcase 窗口</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221539394.png"></p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221539961.png"></p><h3 id="Step-9-使用-Nastran-求解"><a href="#Step-9-使用-Nastran-求解" class="headerlink" title="Step 9: 使用 Nastran 求解"></a>Step 9: 使用 Nastran 求解</h3><ol><li>检查右侧 Analysis 窗口—Action: Analyze, Object: Entire Model, Method: <strong>Analysis Desk，</strong>这样只生成 BDF 文件而不计算</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221546859.png"></p><ol start="2"><li>打开 Nastran 软件</li><li>点击 File…, 选择上面的 BDF 文件</li><li>设置 Optional keywords 为<code>memorymax=0.2*physical</code></li><li>点击 Run</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221551580.png"></p><ol start="6"><li>求解完成后，生成的结果如下</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221557677.png"></p><h3 id="Step-10-生成振型"><a href="#Step-10-生成振型" class="headerlink" title="Step 10: 生成振型"></a>Step 10: 生成振型</h3><ol><li>点击 Analysis 选项卡—Access Results:<strong>XDB</strong></li><li>点击 Select Results File—选择 hollow_rotor_test.xdb—点击 OK 再点击 Apply</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221557208.png"></p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221558189.png"></p><ol start="3"><li>点击 Results 选项卡—点击选项卡下面的 Fringe&#x2F;Deformation</li><li>在 Select Result Cases field 中点击 Mode 1 来绘制第一阶振型</li><li>保存振型：File—Images</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221605715.png"></p><h3 id="Step-11-生成-Campbell-图"><a href="#Step-11-生成-Campbell-图" class="headerlink" title="Step 11: 生成 Campbell 图"></a>Step 11: 生成 Campbell 图</h3><p>目前，MSC Patran 不包括在 MSC Nastran 中启动坎贝尔图生成的功能，这需要手动修改 BDF 文件，需要修改 3 处</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221220244.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ASSIGN  OUTPUT4=&#x27;campbell_freq.op4&#x27;,UNIT=71,FORM=FORMATTED,DELETE $ MODE FREQS</span><br><span class="line">ASSIGN  OUTPUT4=&#x27;campbell_rpm.op4&#x27;,UNIT=72,FORM=FORMATTED,DELETE $ SHAFT SPIN</span><br><span class="line"></span><br><span class="line">CAMPBELL = 100</span><br><span class="line"></span><br><span class="line">CAMPBLL 100     SPEED   11      RPM</span><br><span class="line">DDVAL   11      10000.0 THRU    0.0     BY      -1000.</span><br></pre></td></tr></table></figure><p><strong>求解</strong></p><ol><li>复制文件 hollow_rotor_test.bdf 并重命名为 hollow_rotor_test_campbell.bdf</li><li>安装上面的修改方式进行修改</li><li>使用 Nastran 软件来求解 hollow_rotor_test_campbell.bdf</li></ol><p><strong>后处理</strong></p><ol><li>Utilities—Results—Campbell Diagram—打开 Campbell Diagram Creation 选项卡</li><li>依次选择 campbell_rpm.op4 与 campbell_freq.op4 文件</li><li>设置 Rotation Speed Multiplier 为[0 1]</li><li>点击 Apply 即可生成 Campbell 图</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202402221621686.png"></p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401291053381.png"></p><h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><ol><li>自制的六面体实体模型在分析时，计算错误，错误结果如下：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> *** user fatal message 6630 (rotrdr1)</span><br><span class="line">rotor 3 has no associated mass which will result in no gyroscopic terms being calculated.</span><br><span class="line">user action: if there is a physical model of the rotor attached to the grids listed on the rotorg entry via</span><br><span class="line">       r-elements or mpc equations then define the model as a superelement and perform a static</span><br><span class="line">       reduction to the rotorg grids. otherwise, ensure that the rotor model has associated mass.</span><br><span class="line"></span><br><span class="line">转子 3 没有相关的质量，这将导致不计算陀螺仪项。用户操作：如果通过 R 单元或 MPC 方程将转子的物理模型连接到 ROTORORG 条目中列出的网格，则将该模型定义为超单元，并对 ROTORG 网格执行静态约简。否则，请确保转子模型具有关联的质量。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nastran </tag>
            
            <tag> 陀螺效应 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OptiStruct考虑陀螺效应的模态分析</title>
      <link href="/posts/23222/"/>
      <url>/posts/23222/</url>
      
        <content type="html"><![CDATA[<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol><li>MSC Nastran 2018—Rotordynamics User’s Guide<font style="color:#117CEE;"> </font><code>&lt;font style=&quot;color:#117CEE;&quot;&gt;rotor_dynamics.pdf&lt;/font&gt;</code></li><li>操作流程：OptiStruct_for_Rotor_Dynamics_ExerciseManual_DEC2019.pdf</li><li><a href="https://zhuanlan.zhihu.com/p/657335867">OptiStruct-转子动力学 - 知乎</a></li><li>《<font style="color:rgb(68, 68, 68);">OptiStruct 结构分析与工程应用》P120</font></li></ol><h2 id="主要说明"><a href="#主要说明" class="headerlink" title="主要说明"></a>主要说明</h2><ol><li>陀螺仪效应可用于质量、梁和杆元素，以及超单元</li><li>加载类型为 SYNC 或 ASYNC</li><li>需要配置 ROTORG、RSPINR 和 RGYRO</li></ol><h2 id="主要步骤"><a href="#主要步骤" class="headerlink" title="主要步骤"></a>主要步骤</h2><h3 id="常见设置"><a href="#常见设置" class="headerlink" title="常见设置"></a>常见设置</h3><ol><li>User Profile 改成 OptiStruct</li><li>划分网格—设置单元属性—设置材料</li><li>添加约束：新建 Load Collectors—修改名称为 Fix01—添加部分结点约束</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408092128606.png"></p><h3 id="设置模态分析卡片-EIGRL"><a href="#设置模态分析卡片-EIGRL" class="headerlink" title="设置模态分析卡片 EIGRL"></a>设置模态分析卡片 EIGRL</h3><blockquote><p>EIGRL 采用 Lanczos 法，大于数百万自由度时可采用更为先进的 EIGRA(ANSES)</p></blockquote><ul><li>新建 Load Step Inputs—修改名称为 EIGRL—设置 ND&#x3D;10 以提取 10 个特征值</li></ul><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401261627226.png"></p><h3 id="设置复模态分析卡片-EIGC"><a href="#设置复模态分析卡片-EIGC" class="headerlink" title="设置复模态分析卡片 EIGC"></a>设置复模态分析卡片 EIGC</h3><ul><li>新建 Load Step Inputs—修改名称为 EIGC—其它按照下面设置</li></ul><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401261631929.png"></p><hr><h4 id="EIGC-卡片详解"><a href="#EIGC-卡片详解" class="headerlink" title="EIGC 卡片详解"></a>EIGC 卡片详解</h4><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401261847553.png"></p><h3 id="设置转轴卡片-ROTORG"><a href="#设置转轴卡片-ROTORG" class="headerlink" title="设置转轴卡片 ROTORG"></a>设置转轴卡片 ROTORG</h3><ul><li>新建 set—将名称改为 ROTORG—将卡片类型改为 ROTORG—选择转轴上的节点—定义转轴位置</li><li>RSPINR 定义转轴起始、结束点与转子转速</li></ul><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401261707873.png"></p><h4 id="卡片-ROTORG-详解"><a href="#卡片-ROTORG-详解" class="headerlink" title="卡片 ROTORG 详解"></a>卡片 ROTORG 详解</h4><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401261932676.png"></p><h4 id="卡片-RSPINR-详解"><a href="#卡片-RSPINR-详解" class="headerlink" title="卡片 RSPINR 详解"></a>卡片 RSPINR 详解</h4><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401262250399.png"></p><h3 id="设置转速卡片-RSPEED"><a href="#设置转速卡片-RSPEED" class="headerlink" title="设置转速卡片 RSPEED"></a>设置转速卡片 RSPEED</h3><ul><li>RSPEED 异步分析转速：新建载荷卡片 Load Collectors—类型选择 RSPEED—输入起始转速、转速递增步长、递增次数</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2024/png/1488614/1706258242392-1bfbe93c-0d92-4b0c-90a8-c0b82d89ad2c.png"></p><h4 id="卡片-RSPEED-详解"><a href="#卡片-RSPEED-详解" class="headerlink" title="卡片 RSPEED 详解"></a>卡片 RSPEED 详解</h4><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401262249961.png"></p><h3 id="设置转子动力学荷载-RGYRO"><a href="#设置转子动力学荷载-RGYRO" class="headerlink" title="设置转子动力学荷载 RGYRO"></a>设置转子动力学荷载 RGYRO</h3><ul><li>新建 Load Step Inputs—修改名称为 RGYRO—其它按照下面设置</li></ul><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401261644075.png"></p><h4 id="卡片-RGYRO-详解"><a href="#卡片-RGYRO-详解" class="headerlink" title="卡片 RGYRO 详解"></a>卡片 RGYRO 详解</h4><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401261935360.png"></p><h3 id="设置荷载步"><a href="#设置荷载步" class="headerlink" title="设置荷载步"></a>设置荷载步</h3><ul><li>新建 Load Steps—修改名称为 Complex_Eigen—其它按照下面设置</li></ul><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401261650777.png"></p><h3 id="求解"><a href="#求解" class="headerlink" title="求解"></a>求解</h3><p>Analysis—OptiStruct—OptiStruct</p><h3 id="后处理"><a href="#后处理" class="headerlink" title="后处理"></a>后处理</h3><h2 id="FEM-文件层面"><a href="#FEM-文件层面" class="headerlink" title="FEM 文件层面"></a>FEM 文件层面</h2><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401261927817.png"></p><h2 id="一个含陀螺效应模态分析的-Fem"><a href="#一个含陀螺效应模态分析的-Fem" class="headerlink" title="一个含陀螺效应模态分析的 Fem"></a>一个含陀螺效应模态分析的 Fem</h2><blockquote><p>本模型并没有考虑到陀螺效应，可能是因为实体网格不能考虑陀螺效应</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">$$ Optistruct Input Deck Generated by HyperMesh Version  : 2022.0.0.33</span><br><span class="line">$$ Generated using HyperMesh-Optistruct Template Version : 2022.0.0.33</span><br><span class="line">$$</span><br><span class="line">$$   Template:  optistruct</span><br><span class="line">$$</span><br><span class="line">$$</span><br><span class="line">$$ optistruct</span><br><span class="line">$</span><br><span class="line">$$------------------------------------------------------------------------------$</span><br><span class="line">$$                      Case Control Cards                                      $</span><br><span class="line">$$------------------------------------------------------------------------------$</span><br><span class="line">$</span><br><span class="line">$HMNAME LOADSTEP               1&quot;Complex eigen&quot;      17</span><br><span class="line">$</span><br><span class="line">SUBCASE        1</span><br><span class="line">  LABEL Complex eigen</span><br><span class="line">ANALYSIS MCEIG</span><br><span class="line">  RGYRO = 1</span><br><span class="line">  SPC =        1</span><br><span class="line">  METHOD(STRUCTURE) =        2</span><br><span class="line">  CMETHOD =        3</span><br><span class="line">$$--------------------------------------------------------------</span><br><span class="line">$$ HYPERMESH TAGS</span><br><span class="line">$$--------------------------------------------------------------</span><br><span class="line">$$BEGIN TAGS</span><br><span class="line">$$END TAGS</span><br><span class="line">$</span><br><span class="line">BEGIN BULK</span><br><span class="line">$$</span><br><span class="line">$$  Stacking Information for Ply-Based Composite Definition</span><br><span class="line">$$</span><br><span class="line">$</span><br><span class="line">$HMSET        1        1 &quot;set1&quot; 18</span><br><span class="line">$HMSETTYPE         1 &quot;formula&quot; 18</span><br><span class="line">SET     1       GRID    LIST</span><br><span class="line">+       1         THRU  120</span><br><span class="line">$</span><br><span class="line">$HMSET        2        1 &quot;ROTORG&quot; 24</span><br><span class="line">$HMSETTYPE         2 &quot;non-ordered&quot; 24</span><br><span class="line">ROTORG         2     242     241</span><br><span class="line">RSPINR         2     241     242FREQ         1.0</span><br><span class="line">+</span><br><span class="line"></span><br><span class="line">$$</span><br><span class="line">$$  GRID Data</span><br><span class="line">$$</span><br><span class="line">GRID           1        40.0    -69.282 6.666667</span><br><span class="line">GRID           2        47.02282-64.72146.666667</span><br><span class="line">GRID           3        40.0    -69.282 0.0</span><br><span class="line">GRID           4        47.02282-64.72140.0</span><br><span class="line">GRID           5        -76.084524.721366.666667</span><br><span class="line">GRID           6        -78.251816.632946.666667</span><br><span class="line">GRID           7        -76.084524.721360.0</span><br><span class="line">GRID           8        -78.251816.632930.0</span><br><span class="line">GRID           9        76.08452-24.72146.666667</span><br><span class="line">GRID          10        78.25181-16.63296.666667</span><br><span class="line">GRID          11        76.08452-24.72140.0</span><br><span class="line">GRID          12        78.25181-16.63290.0</span><br><span class="line">GRID          13        -47.022864.721366.666667</span><br><span class="line">GRID          14        -53.530459.451596.666667</span><br><span class="line">GRID          15        -47.022864.721360.0</span><br><span class="line">GRID          16        -53.530459.451590.0</span><br><span class="line">GRID          17        78.2518116.632946.666667</span><br><span class="line">GRID          18        76.0845224.721366.666667</span><br><span class="line">GRID          19        78.2518116.632940.0</span><br><span class="line">GRID          20        76.0845224.721360.0</span><br><span class="line">GRID          21        -32.5389-73.08366.666667</span><br><span class="line">GRID          22        -24.7214-76.08456.666667</span><br><span class="line">GRID          23        -32.5389-73.08360.0</span><br><span class="line">GRID          24        -24.7214-76.08450.0</span><br><span class="line">GRID          25        80.0    -2.99-146.666667</span><br><span class="line">GRID          26        79.561758.3622776.666667</span><br><span class="line">GRID          27        80.0    -2.84-140.0</span><br><span class="line">GRID          28        79.561758.3622730.0</span><br><span class="line">GRID          29        8.362277-79.56186.666667</span><br><span class="line">GRID          30        16.63294-78.25186.666667</span><br><span class="line">GRID          31        8.362277-79.56180.0</span><br><span class="line">GRID          32        16.63294-78.25180.0</span><br><span class="line">GRID          33        -79.56188.3622776.666667</span><br><span class="line">GRID          34        -79.56188.3622770.0</span><br><span class="line">GRID          35        -53.5304-59.45166.666667</span><br><span class="line">GRID          36        -47.0228-64.72146.666667</span><br><span class="line">GRID          37        -53.5304-59.45160.0</span><br><span class="line">GRID          38        -47.0228-64.72140.0</span><br><span class="line">GRID          39        73.0836432.538936.666667</span><br><span class="line">GRID          40        69.2820340.0    6.666667</span><br><span class="line">GRID          41        73.0836432.538930.0</span><br><span class="line">GRID          42        69.2820340.0    0.0</span><br><span class="line">GRID          43        24.7213676.084526.666667</span><br><span class="line">GRID          44        16.6329478.251816.666667</span><br><span class="line">GRID          45        24.7213676.084520.0</span><br><span class="line">GRID          46        16.6329478.251810.0</span><br><span class="line">GRID          47        24.72136-76.08456.666667</span><br><span class="line">GRID          48        24.72136-76.08450.0</span><br><span class="line">GRID          49        -16.6329-78.25186.666667</span><br><span class="line">GRID          50        -8.36228-79.56186.666667</span><br><span class="line">GRID          51        -16.6329-78.25180.0</span><br><span class="line">GRID          52        -8.36228-79.56180.0</span><br><span class="line">GRID          53        69.28203-40.0   6.666667</span><br><span class="line">GRID          54        73.08364-32.53896.666667</span><br><span class="line">GRID          55        69.28203-40.0   0.0</span><br><span class="line">GRID          56        73.08364-32.53890.0</span><br><span class="line">GRID          57        -80.0   -6.417-86.666667</span><br><span class="line">GRID          58        -79.5618-8.362286.666667</span><br><span class="line">GRID          59        -80.0   -1.283-70.0</span><br><span class="line">GRID          60        -79.5618-8.362280.0</span><br><span class="line">GRID          61        53.53045-59.45166.666667</span><br><span class="line">GRID          62        53.53045-59.45160.0</span><br><span class="line">GRID          63        64.7213647.022826.666667</span><br><span class="line">GRID          64        64.7213647.022820.0</span><br><span class="line">GRID          65        32.53893-73.08366.666667</span><br><span class="line">GRID          66        32.53893-73.08360.0</span><br><span class="line">GRID          67        -69.282 -40.0   6.666667</span><br><span class="line">GRID          68        -64.7214-47.02286.666667</span><br><span class="line">GRID          69        -69.282 -40.0   0.0</span><br><span class="line">GRID          70        -64.7214-47.02280.0</span><br><span class="line">GRID          71        8.36227779.561756.666667</span><br><span class="line">GRID          72        -2.402-980.0    6.666667</span><br><span class="line">GRID          73        8.36227779.561750.0</span><br><span class="line">GRID          74        1.1294-780.0    0.0</span><br><span class="line">GRID          75        59.4515953.530456.666667</span><br><span class="line">GRID          76        53.5304559.451596.666667</span><br><span class="line">GRID          77        59.4515953.530450.0</span><br><span class="line">GRID          78        53.5304559.451590.0</span><br><span class="line">GRID          79        -1.113-7-80.0   6.666667</span><br><span class="line">GRID          80        -1.06-7 -80.0   0.0</span><br><span class="line">GRID          81        64.72136-47.02286.666667</span><br><span class="line">GRID          82        64.72136-47.02280.0</span><br><span class="line">GRID          83        -69.282 40.0    6.666667</span><br><span class="line">GRID          84        -73.083632.538936.666667</span><br><span class="line">GRID          85        -69.282 40.0    0.0</span><br><span class="line">GRID          86        -73.083632.538930.0</span><br><span class="line">GRID          87        -8.3622879.561756.666667</span><br><span class="line">GRID          88        -16.632978.251816.666667</span><br><span class="line">GRID          89        -8.3622879.561750.0</span><br><span class="line">GRID          90        -16.632978.251810.0</span><br><span class="line">GRID          91        47.0228264.721366.666667</span><br><span class="line">GRID          92        47.0228264.721360.0</span><br><span class="line">GRID          93        -59.4516-53.53046.666667</span><br><span class="line">GRID          94        -59.4516-53.53040.0</span><br><span class="line">GRID          95        -76.0845-24.72146.666667</span><br><span class="line">GRID          96        -73.0836-32.53896.666667</span><br><span class="line">GRID          97        -76.0845-24.72140.0</span><br><span class="line">GRID          98        -73.0836-32.53890.0</span><br><span class="line">GRID          99        32.5389373.083646.666667</span><br><span class="line">GRID         100        32.5389373.083640.0</span><br><span class="line">GRID         101        79.56175-8.362286.666667</span><br><span class="line">GRID         102        79.56175-8.362280.0</span><br><span class="line">GRID         103        -32.538973.083646.666667</span><br><span class="line">GRID         104        -40.0   69.282036.666667</span><br><span class="line">GRID         105        -32.538973.083640.0</span><br><span class="line">GRID         106        -40.0   69.282030.0</span><br><span class="line">GRID         107        59.45159-53.53046.666667</span><br><span class="line">GRID         108        59.45159-53.53040.0</span><br><span class="line">GRID         109        -59.451653.530456.666667</span><br><span class="line">GRID         110        -64.721447.022826.666667</span><br><span class="line">GRID         111        -59.451653.530450.0</span><br><span class="line">GRID         112        -64.721447.022820.0</span><br><span class="line">GRID         113        -24.721476.084526.666667</span><br><span class="line">GRID         114        -24.721476.084520.0</span><br><span class="line">GRID         115        -40.0   -69.282 6.666667</span><br><span class="line">GRID         116        -40.0   -69.282 0.0</span><br><span class="line">GRID         117        40.0    69.282036.666667</span><br><span class="line">GRID         118        40.0    69.282030.0</span><br><span class="line">GRID         119        -78.2518-16.63296.666667</span><br><span class="line">GRID         120        -78.2518-16.63290.0</span><br><span class="line">GRID         121        -90.0204-.0032626.666667</span><br><span class="line">GRID         122        -89.5261-9.413416.666667</span><br><span class="line">GRID         123        -90.0204-.0032620.0</span><br><span class="line">GRID         124        -89.5261-9.413410.0</span><br><span class="line">GRID         125        52.91529-72.82516.666667</span><br><span class="line">GRID         126        45.01304-77.95836.666667</span><br><span class="line">GRID         127        52.91529-72.82510.0</span><br><span class="line">GRID         128        45.01304-77.95830.0</span><br><span class="line">GRID         129        -72.830452.908146.666667</span><br><span class="line">GRID         130        -77.961645.007396.666667</span><br><span class="line">GRID         131        -72.830452.908140.0</span><br><span class="line">GRID         132        -77.961645.007390.0</span><br><span class="line">GRID         133        -85.615127.814026.666667</span><br><span class="line">GRID         134        -88.053718.711336.666667</span><br><span class="line">GRID         135        -85.615127.814020.0</span><br><span class="line">GRID         136        -88.053718.711330.0</span><br><span class="line">GRID         137        85.61509-27.814 6.666667</span><br><span class="line">GRID         138        88.05373-18.71136.666667</span><br><span class="line">GRID         139        85.61509-27.814 0.0</span><br><span class="line">GRID         140        88.05373-18.71130.0</span><br><span class="line">GRID         141        45.0073977.9616 6.666667</span><br><span class="line">GRID         142        36.6107882.238556.666667</span><br><span class="line">GRID         143        45.0073977.9616 0.0</span><br><span class="line">GRID         144        36.6107882.238550.0</span><br><span class="line">GRID         145        -60.238866.894366.666667</span><br><span class="line">GRID         146        -52.916772.824166.666667</span><br><span class="line">GRID         147        -60.238866.894360.0</span><br><span class="line">GRID         148        -52.916772.824160.0</span><br><span class="line">GRID         149        .0032617-90.02046.666667</span><br><span class="line">GRID         150        9.413413-89.52616.666667</span><br><span class="line">GRID         151        .0032616-90.02040.0</span><br><span class="line">GRID         152        9.413413-89.52610.0</span><br><span class="line">GRID         153        88.0518618.7199 6.666667</span><br><span class="line">GRID         154        85.6124327.822386.666667</span><br><span class="line">GRID         155        88.0518618.7199 0.0</span><br><span class="line">GRID         156        85.6124327.822380.0</span><br><span class="line">GRID         157        -89.527 9.4045946.666667</span><br><span class="line">GRID         158        -89.527 9.4045940.0</span><br><span class="line">GRID         159        -27.8128-85.61556.666667</span><br><span class="line">GRID         160        -36.6092-82.23926.666667</span><br><span class="line">GRID         161        -27.8128-85.61550.0</span><br><span class="line">GRID         162        -36.6092-82.23920.0</span><br><span class="line">GRID         163        66.9011 -60.23146.666667</span><br><span class="line">GRID         164        72.8304 -52.90816.666667</span><br><span class="line">GRID         165        66.9011 -60.23140.0</span><br><span class="line">GRID         166        72.8304 -52.90810.0</span><br><span class="line">GRID         167        89.526069.4134136.666667</span><br><span class="line">GRID         168        90.02042.00326176.666667</span><br><span class="line">GRID         169        89.526069.4134130.0</span><br><span class="line">GRID         170        90.02042.00326160.0</span><br><span class="line">GRID         171        18.7199 -88.05196.666667</span><br><span class="line">GRID         172        18.7199 -88.05190.0</span><br><span class="line">GRID         173        -0.0028490.020436.666667</span><br><span class="line">GRID         174        -9.4122789.526216.666667</span><br><span class="line">GRID         175        -0.0028490.020430.0</span><br><span class="line">GRID         176        -9.4122789.526210.0</span><br><span class="line">GRID         177        -52.9079-72.82976.666667</span><br><span class="line">GRID         178        -60.2321-66.89996.666667</span><br><span class="line">GRID         179        -52.9079-72.82970.0</span><br><span class="line">GRID         180        -60.2321-66.89990.0</span><br><span class="line">GRID         181        18.7113388.053736.666667</span><br><span class="line">GRID         182        9.40459489.527056.666667</span><br><span class="line">GRID         183        18.7113388.053730.0</span><br><span class="line">GRID         184        9.40459489.527050.0</span><br><span class="line">GRID         185        60.2313566.9011 6.666667</span><br><span class="line">GRID         186        52.9081472.8304 6.666667</span><br><span class="line">GRID         187        60.2313566.9011 0.0</span><br><span class="line">GRID         188        52.9081472.8304 0.0</span><br><span class="line">GRID         189        -77.9586-45.01276.666667</span><br><span class="line">GRID         190        -72.8258-52.91446.666667</span><br><span class="line">GRID         191        -77.9586-45.01270.0</span><br><span class="line">GRID         192        -72.8258-52.91440.0</span><br><span class="line">GRID         193        -82.238536.610786.666667</span><br><span class="line">GRID         194        -82.238536.610780.0</span><br><span class="line">GRID         195        36.61891-82.235 6.666667</span><br><span class="line">GRID         196        36.61891-82.235 0.0</span><br><span class="line">GRID         197        77.9583445.013046.666667</span><br><span class="line">GRID         198        82.2349936.618916.666667</span><br><span class="line">GRID         199        77.9583445.013040.0</span><br><span class="line">GRID         200        82.2349936.618910.0</span><br><span class="line">GRID         201        -36.618482.234446.666667</span><br><span class="line">GRID         202        -45.014477.9572 6.666667</span><br><span class="line">GRID         203        -36.618482.234440.0</span><br><span class="line">GRID         204        -45.014477.9572 0.0</span><br><span class="line">GRID         205        89.52705-9.404596.666667</span><br><span class="line">GRID         206        89.52705-9.404590.0</span><br><span class="line">GRID         207        27.8140285.615096.666667</span><br><span class="line">GRID         208        27.8140285.615090.0</span><br><span class="line">GRID         209        66.8952 60.237846.666667</span><br><span class="line">GRID         210        66.8952 60.237840.0</span><br><span class="line">GRID         211        77.9616 -45.00746.666667</span><br><span class="line">GRID         212        77.9616 -45.00740.0</span><br><span class="line">GRID         213        27.82238-85.61246.666667</span><br><span class="line">GRID         214        27.82238-85.61240.0</span><br><span class="line">GRID         215        -66.8965-60.23646.666667</span><br><span class="line">GRID         216        -66.8965-60.23640.0</span><br><span class="line">GRID         217        -9.40459-89.527 6.666667</span><br><span class="line">GRID         218        -18.711 -88.05386.666667</span><br><span class="line">GRID         219        -9.40459-89.527 0.0</span><br><span class="line">GRID         220        -18.711 -88.05380.0</span><br><span class="line">GRID         221        82.23855-36.61086.666667</span><br><span class="line">GRID         222        82.23855-36.61080.0</span><br><span class="line">GRID         223        60.23784-66.89526.666667</span><br><span class="line">GRID         224        60.23784-66.89520.0</span><br><span class="line">GRID         225        72.8251452.915296.666667</span><br><span class="line">GRID         226        72.8251452.915290.0</span><br><span class="line">GRID         227        -66.901460.231086.666667</span><br><span class="line">GRID         228        -66.901460.231080.0</span><br><span class="line">GRID         229        -27.821 85.612526.666667</span><br><span class="line">GRID         230        -27.821 85.612520.0</span><br><span class="line">GRID         231        -45.0057-77.96226.666667</span><br><span class="line">GRID         232        -45.0057-77.96220.0</span><br><span class="line">GRID         233        -18.718 88.052296.666667</span><br><span class="line">GRID         234        -18.718 88.052290.0</span><br><span class="line">GRID         235        -82.235 -36.61896.666667</span><br><span class="line">GRID         236        -85.6124-27.82246.666667</span><br><span class="line">GRID         237        -82.235 -36.61890.0</span><br><span class="line">GRID         238        -85.6124-27.82240.0</span><br><span class="line">GRID         239        -88.0519-18.71996.666667</span><br><span class="line">GRID         240        -88.0519-18.71990.0</span><br><span class="line">GRID         241        0.0     0.0     0.0</span><br><span class="line">GRID         242        0.0     0.0     10.0</span><br><span class="line">$$</span><br><span class="line">$$  CHEXA Elements: First Order</span><br><span class="line">$$</span><br><span class="line">$HMCOMP ID                     1       1       5</span><br><span class="line">CHEXA          1       1       1       2     125     126       3       4</span><br><span class="line">+            127     128</span><br><span class="line">CHEXA          2       1     134     133       5       6     136     135</span><br><span class="line">+              7       8</span><br><span class="line">CHEXA          3       1       9      10     138     137      11      12</span><br><span class="line">+            140     139</span><br><span class="line">CHEXA          4       1      13      14     145     146      15      16</span><br><span class="line">+            147     148</span><br><span class="line">CHEXA          5       1      17      18     154     153      19      20</span><br><span class="line">+            156     155</span><br><span class="line">CHEXA          6       1     159     160      21      22     161     162</span><br><span class="line">+             23      24</span><br><span class="line">CHEXA          7       1      25      26     167     168      27      28</span><br><span class="line">+            169     170</span><br><span class="line">CHEXA          8       1     171     150      29      30     172     152</span><br><span class="line">+             31      32</span><br><span class="line">CHEXA          9       1     157     134       6      33     158     136</span><br><span class="line">+              8      34</span><br><span class="line">CHEXA         10       1     177     178      35      36     179     180</span><br><span class="line">+             37      38</span><br><span class="line">CHEXA         11       1      39      40     197     198      41      42</span><br><span class="line">+            199     200</span><br><span class="line">CHEXA         12       1      43      44     181     207      45      46</span><br><span class="line">+            183     208</span><br><span class="line">CHEXA         13       1      30      47     213     171      32      48</span><br><span class="line">+            214     172</span><br><span class="line">CHEXA         14       1      49      50     217     218      51      52</span><br><span class="line">+            219     220</span><br><span class="line">CHEXA         15       1      53      54     221     211      55      56</span><br><span class="line">+            222     212</span><br><span class="line">CHEXA         16       1     122     121      57      58     124     123</span><br><span class="line">+             59      60</span><br><span class="line">CHEXA         17       1      22      49     218     159      24      51</span><br><span class="line">+            220     161</span><br><span class="line">CHEXA         18       1     223     125       2      61     224     127</span><br><span class="line">+              4      62</span><br><span class="line">CHEXA         19       1      40      63     225     197      42      64</span><br><span class="line">+            226     199</span><br><span class="line">CHEXA         20       1      47      65     195     213      48      66</span><br><span class="line">+            196     214</span><br><span class="line">CHEXA         21       1     190     189      67      68     192     191</span><br><span class="line">+             69      70</span><br><span class="line">CHEXA         22       1      18      39     198     154      20      41</span><br><span class="line">+            200     156</span><br><span class="line">CHEXA         23       1      71      72     173     182      73      74</span><br><span class="line">+            175     184</span><br><span class="line">CHEXA         24       1      75      76     185     209      77      78</span><br><span class="line">+            187     210</span><br><span class="line">CHEXA         25       1     209     225      63      75     210     226</span><br><span class="line">+             64      77</span><br><span class="line">CHEXA         26       1      79      29     150     149      80      31</span><br><span class="line">+            152     151</span><br><span class="line">CHEXA         27       1      81      53     211     164      82      55</span><br><span class="line">+            212     166</span><br><span class="line">CHEXA         28       1     153     167      26      17     155     169</span><br><span class="line">+             28      19</span><br><span class="line">CHEXA         29       1     193     130      83      84     194     132</span><br><span class="line">+             85      86</span><br><span class="line">CHEXA         30       1     233     174      87      88     234     176</span><br><span class="line">+             89      90</span><br><span class="line">CHEXA         31       1      76      91     186     185      78      92</span><br><span class="line">+            188     187</span><br><span class="line">CHEXA         32       1     178     215      93      35     180     216</span><br><span class="line">+             94      37</span><br><span class="line">CHEXA         33       1     235     236      95      96     237     238</span><br><span class="line">+             97      98</span><br><span class="line">CHEXA         34       1     207     142      99      43     208     144</span><br><span class="line">+            100      45</span><br><span class="line">CHEXA         35       1      72      87     174     173      74      89</span><br><span class="line">+            176     175</span><br><span class="line">CHEXA         36       1      10     101     205     138      12     102</span><br><span class="line">+            206     140</span><br><span class="line">CHEXA         37       1     202     201     103     104     204     203</span><br><span class="line">+            105     106</span><br><span class="line">CHEXA         38       1      61     107     163     223      62     108</span><br><span class="line">+            165     224</span><br><span class="line">CHEXA         39       1     129     227     109     110     131     228</span><br><span class="line">+            111     112</span><br><span class="line">CHEXA         40       1     227     145      14     109     228     147</span><br><span class="line">+             16     111</span><br><span class="line">CHEXA         41       1      88     113     229     233      90     114</span><br><span class="line">+            230     234</span><br><span class="line">CHEXA         42       1      44      71     182     181      46      73</span><br><span class="line">+            184     183</span><br><span class="line">CHEXA         43       1     101      25     168     205     102      27</span><br><span class="line">+            170     206</span><br><span class="line">CHEXA         44       1     121     157      33      57     123     158</span><br><span class="line">+             34      59</span><br><span class="line">CHEXA         45       1     130     129     110      83     132     131</span><br><span class="line">+            112      85</span><br><span class="line">CHEXA         46       1     146     202     104      13     148     204</span><br><span class="line">+            106      15</span><br><span class="line">CHEXA         47       1     115      21     160     231     116      23</span><br><span class="line">+            162     232</span><br><span class="line">CHEXA         48       1      91     117     141     186      92     118</span><br><span class="line">+            143     188</span><br><span class="line">CHEXA         49       1     107      81     164     163     108      82</span><br><span class="line">+            166     165</span><br><span class="line">CHEXA         50       1      50      79     149     217      52      80</span><br><span class="line">+            151     219</span><br><span class="line">CHEXA         51       1      58     119     239     122      60     120</span><br><span class="line">+            240     124</span><br><span class="line">CHEXA         52       1     189     235      96      67     191     237</span><br><span class="line">+             98      69</span><br><span class="line">CHEXA         53       1     236     239     119      95     238     240</span><br><span class="line">+            120      97</span><br><span class="line">CHEXA         54       1     113     103     201     229     114     105</span><br><span class="line">+            203     230</span><br><span class="line">CHEXA         55       1      36     115     231     177      38     116</span><br><span class="line">+            232     179</span><br><span class="line">CHEXA         56       1     117      99     142     141     118     100</span><br><span class="line">+            144     143</span><br><span class="line">CHEXA         57       1     137     221      54       9     139     222</span><br><span class="line">+             56      11</span><br><span class="line">CHEXA         58       1      68      93     215     190      70      94</span><br><span class="line">+            216     192</span><br><span class="line">CHEXA         59       1      65       1     126     195      66       3</span><br><span class="line">+            128     196</span><br><span class="line">CHEXA         60       1      84       5     133     193      86       7</span><br><span class="line">+            135     194</span><br><span class="line">$</span><br><span class="line">$$</span><br><span class="line">$$------------------------------------------------------------------------------$</span><br><span class="line">$$    HyperMesh name and color information for generic components               $</span><br><span class="line">$$------------------------------------------------------------------------------$</span><br><span class="line">$HMNAME COMP                   1&quot;auto1&quot;        1 &quot;P185&quot; 5</span><br><span class="line">$HWCOLOR COMP                  1      25</span><br><span class="line">$</span><br><span class="line"></span><br><span class="line">$</span><br><span class="line"></span><br><span class="line">$</span><br><span class="line">$$</span><br><span class="line">$$  PSOLID Data</span><br><span class="line">$$</span><br><span class="line">$HMNAME PROP                   1&quot;P185&quot; 5</span><br><span class="line">$HWCOLOR PROP                  1       7</span><br><span class="line">PSOLID         1       1</span><br><span class="line">$$</span><br><span class="line">$$  MAT1 Data</span><br><span class="line">$$</span><br><span class="line">$HMNAME MAT                    1&quot;Mat_1&quot; &quot;MAT1&quot;</span><br><span class="line">$HWCOLOR MAT                   1       8</span><br><span class="line">MAT1           12.1+11          0.3     0.0078</span><br><span class="line">$$</span><br><span class="line">$$------------------------------------------------------------------------------$</span><br><span class="line">$$ HyperMesh Commands for loadcollectors name and color information $</span><br><span class="line">$$------------------------------------------------------------------------------$</span><br><span class="line">$HMNAME LOADCOL                1&quot;Fix&quot;</span><br><span class="line">$HWCOLOR LOADCOL               1      20</span><br><span class="line">$$</span><br><span class="line">$$  RSPEED cards</span><br><span class="line">$$</span><br><span class="line">$HMNAME LOADCOL                5&quot;Rspeed&quot;</span><br><span class="line">$HWCOLOR LOADCOL               5       5</span><br><span class="line">RSPEED         5    10.0    10.0      30</span><br><span class="line"></span><br><span class="line">$$</span><br><span class="line">$$  Real Eigen value extraction</span><br><span class="line">$$</span><br><span class="line">$</span><br><span class="line">$HMNAME LOADSTEPINPUT        2&quot;EIGRL&quot;</span><br><span class="line">EIGRL          2                      10</span><br><span class="line">$$</span><br><span class="line">$$  Complex eigen value extraction</span><br><span class="line">$$</span><br><span class="line">$</span><br><span class="line">$HMNAME LOADSTEPINPUT        3&quot;EIGC&quot;</span><br><span class="line">EIGC           3             MAX                              30</span><br><span class="line">$$</span><br><span class="line">$$  Rotordynamic Analysis Parameters</span><br><span class="line">$$</span><br><span class="line">$</span><br><span class="line">$HMNAME LOADSTEPINPUT        1&quot;RGYRO&quot;</span><br><span class="line">RGYRO          1   ASYNC       2FREQ                           5</span><br><span class="line">$$</span><br><span class="line">$$  SPC Data</span><br><span class="line">$$</span><br><span class="line">SPC            1       1  123456     0.0</span><br><span class="line">SPC            1       2  123456     0.0</span><br><span class="line">SPC            1       3  123456     0.0</span><br><span class="line">SPC            1       4  123456     0.0</span><br><span class="line">SPC            1       5  123456     0.0</span><br><span class="line">SPC            1       6  123456     0.0</span><br><span class="line">SPC            1       7  123456     0.0</span><br><span class="line">SPC            1       8  123456     0.0</span><br><span class="line">SPC            1       9  123456     0.0</span><br><span class="line">SPC            1      10  123456     0.0</span><br><span class="line">SPC            1      11  123456     0.0</span><br><span class="line">SPC            1      12  123456     0.0</span><br><span class="line">SPC            1      13  123456     0.0</span><br><span class="line">SPC            1      14  123456     0.0</span><br><span class="line">SPC            1      15  123456     0.0</span><br><span class="line">SPC            1      16  123456     0.0</span><br><span class="line">SPC            1      17  123456     0.0</span><br><span class="line">SPC            1      18  123456     0.0</span><br><span class="line">SPC            1      19  123456     0.0</span><br><span class="line">SPC            1      20  123456     0.0</span><br><span class="line">SPC            1      21  123456     0.0</span><br><span class="line">SPC            1      22  123456     0.0</span><br><span class="line">SPC            1      23  123456     0.0</span><br><span class="line">SPC            1      24  123456     0.0</span><br><span class="line">SPC            1      25  123456     0.0</span><br><span class="line">SPC            1      26  123456     0.0</span><br><span class="line">SPC            1      27  123456     0.0</span><br><span class="line">SPC            1      28  123456     0.0</span><br><span class="line">SPC            1      29  123456     0.0</span><br><span class="line">SPC            1      30  123456     0.0</span><br><span class="line">SPC            1      31  123456     0.0</span><br><span class="line">SPC            1      32  123456     0.0</span><br><span class="line">SPC            1      33  123456     0.0</span><br><span class="line">SPC            1      34  123456     0.0</span><br><span class="line">SPC            1      35  123456     0.0</span><br><span class="line">SPC            1      36  123456     0.0</span><br><span class="line">SPC            1      37  123456     0.0</span><br><span class="line">SPC            1      38  123456     0.0</span><br><span class="line">SPC            1      39  123456     0.0</span><br><span class="line">SPC            1      40  123456     0.0</span><br><span class="line">SPC            1      41  123456     0.0</span><br><span class="line">SPC            1      42  123456     0.0</span><br><span class="line">SPC            1      43  123456     0.0</span><br><span class="line">SPC            1      44  123456     0.0</span><br><span class="line">SPC            1      45  123456     0.0</span><br><span class="line">SPC            1      46  123456     0.0</span><br><span class="line">SPC            1      47  123456     0.0</span><br><span class="line">SPC            1      48  123456     0.0</span><br><span class="line">SPC            1      49  123456     0.0</span><br><span class="line">SPC            1      50  123456     0.0</span><br><span class="line">SPC            1      51  123456     0.0</span><br><span class="line">SPC            1      52  123456     0.0</span><br><span class="line">SPC            1      53  123456     0.0</span><br><span class="line">SPC            1      54  123456     0.0</span><br><span class="line">SPC            1      55  123456     0.0</span><br><span class="line">SPC            1      56  123456     0.0</span><br><span class="line">SPC            1      57  123456     0.0</span><br><span class="line">SPC            1      58  123456     0.0</span><br><span class="line">SPC            1      59  123456     0.0</span><br><span class="line">SPC            1      60  123456     0.0</span><br><span class="line">SPC            1      61  123456     0.0</span><br><span class="line">SPC            1      62  123456     0.0</span><br><span class="line">SPC            1      63  123456     0.0</span><br><span class="line">SPC            1      64  123456     0.0</span><br><span class="line">SPC            1      65  123456     0.0</span><br><span class="line">SPC            1      66  123456     0.0</span><br><span class="line">SPC            1      67  123456     0.0</span><br><span class="line">SPC            1      68  123456     0.0</span><br><span class="line">SPC            1      69  123456     0.0</span><br><span class="line">SPC            1      70  123456     0.0</span><br><span class="line">SPC            1      71  123456     0.0</span><br><span class="line">SPC            1      72  123456     0.0</span><br><span class="line">SPC            1      73  123456     0.0</span><br><span class="line">SPC            1      74  123456     0.0</span><br><span class="line">SPC            1      75  123456     0.0</span><br><span class="line">SPC            1      76  123456     0.0</span><br><span class="line">SPC            1      77  123456     0.0</span><br><span class="line">SPC            1      78  123456     0.0</span><br><span class="line">SPC            1      79  123456     0.0</span><br><span class="line">SPC            1      80  123456     0.0</span><br><span class="line">SPC            1      81  123456     0.0</span><br><span class="line">SPC            1      82  123456     0.0</span><br><span class="line">SPC            1      83  123456     0.0</span><br><span class="line">SPC            1      84  123456     0.0</span><br><span class="line">SPC            1      85  123456     0.0</span><br><span class="line">SPC            1      86  123456     0.0</span><br><span class="line">SPC            1      87  123456     0.0</span><br><span class="line">SPC            1      88  123456     0.0</span><br><span class="line">SPC            1      89  123456     0.0</span><br><span class="line">SPC            1      90  123456     0.0</span><br><span class="line">SPC            1      91  123456     0.0</span><br><span class="line">SPC            1      92  123456     0.0</span><br><span class="line">SPC            1      93  123456     0.0</span><br><span class="line">SPC            1      94  123456     0.0</span><br><span class="line">SPC            1      95  123456     0.0</span><br><span class="line">SPC            1      96  123456     0.0</span><br><span class="line">SPC            1      97  123456     0.0</span><br><span class="line">SPC            1      98  123456     0.0</span><br><span class="line">SPC            1      99  123456     0.0</span><br><span class="line">SPC            1     100  123456     0.0</span><br><span class="line">SPC            1     101  123456     0.0</span><br><span class="line">SPC            1     102  123456     0.0</span><br><span class="line">SPC            1     103  123456     0.0</span><br><span class="line">SPC            1     104  123456     0.0</span><br><span class="line">SPC            1     105  123456     0.0</span><br><span class="line">SPC            1     106  123456     0.0</span><br><span class="line">SPC            1     107  123456     0.0</span><br><span class="line">SPC            1     108  123456     0.0</span><br><span class="line">SPC            1     109  123456     0.0</span><br><span class="line">SPC            1     110  123456     0.0</span><br><span class="line">SPC            1     111  123456     0.0</span><br><span class="line">SPC            1     112  123456     0.0</span><br><span class="line">SPC            1     113  123456     0.0</span><br><span class="line">SPC            1     114  123456     0.0</span><br><span class="line">SPC            1     115  123456     0.0</span><br><span class="line">SPC            1     116  123456     0.0</span><br><span class="line">SPC            1     117  123456     0.0</span><br><span class="line">SPC            1     118  123456     0.0</span><br><span class="line">SPC            1     119  123456     0.0</span><br><span class="line">SPC            1     120  123456     0.0</span><br><span class="line">ENDDATA</span><br><span class="line">$$</span><br><span class="line">$$------------------------------------------------------------------------------$$</span><br><span class="line">$$        Data Definition for AutoDV                                            $$</span><br><span class="line">$$------------------------------------------------------------------------------$$</span><br><span class="line">$$</span><br><span class="line">$$-----------------------------------------------------------------------------$$</span><br><span class="line">$$        Design Variables Card for Control Perturbations                      $$</span><br><span class="line">$$-----------------------------------------------------------------------------$$</span><br><span class="line">$$</span><br><span class="line">$$------------------------------------------------------------------------------$</span><br><span class="line">$$        Domain Element Definitions                                            $</span><br><span class="line">$$------------------------------------------------------------------------------$</span><br><span class="line">$$</span><br><span class="line">$$------------------------------------------------------------------------------$$</span><br><span class="line">$$            Control Perturbation                                              $$</span><br><span class="line">$$------------------------------------------------------------------------------$$</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> noptistruct </tag>
            
            <tag> 陀螺 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nastran帮助系统</title>
      <link href="/posts/33441/"/>
      <url>/posts/33441/</url>
      
        <content type="html"><![CDATA[<blockquote><p>案例：要分析考虑陀螺效应时转子的特征值</p></blockquote><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ol><li>安装 MSC 组合帮助文档：<code>msc_comb_doc_2018_windows.exe</code></li><li>开始菜单—MSC Software 2018 Documentation—MSC Nastran 2018</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401261101244.png"></p><h2 id="查找信息"><a href="#查找信息" class="headerlink" title="查找信息"></a>查找信息</h2><ol><li>开始菜单—MSC Software 2018 Documentation—MSC Nastran 2018—Rotordynamics User’s Guide (<font style="background-color:#D8DAD9;">rotor_dynamics.pdf</font>)</li><li>Ctrl+F—&gt;gyro, 查找有效信息即可</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401261110455.png"></p>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nastran </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HyperMesh模态分析</title>
      <link href="/posts/57316/"/>
      <url>/posts/57316/</url>
      
        <content type="html"><![CDATA[<blockquote><p>《HyperMesh2Nastran 模态分析》讲的是全部在 HyperMesh 进行，不需要使用 Patran</p><p>《HyperMesh|Nastran|模态分析》 讲的是网格在 HyperMesh 进行，其它大部分在 Patran 中操作</p></blockquote><h2 id="分析流程"><a href="#分析流程" class="headerlink" title="分析流程"></a>分析流程</h2><ol><li>打开 HyperMesh—设置小人模板为 OptiStruct</li><li>划分网格</li><li>设置材料</li><li>右键—Create—<strong>Load Collectors</strong>—设置名称为<code>Fix01</code>—右键 Make Current—Analysis—constraints—选择结点并施加约束</li><li>右键—Create—<strong>Load Step Inputs</strong>—设置名称为<code>Input01</code>—Type:EIGRL—ND:10</li><li>右键—Create—<strong>Load Steps</strong>—第一行设置求解类型：Normal modes—SPC:<code>Fix01</code>—Method(struct):<code>Input01</code></li><li>导出 bdf—打开 bdf 文件—在 CEND 前面添加一行<code>SOL 103</code></li><li>打开 Nastran—选择 bdf 文件—RUN</li></ol><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>如果有多个约束几何，需要使用 Load Add</p>]]></content>
      
      
      <categories>
          
          <category> CAE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hypermesh </tag>
            
            <tag> nastran </tag>
            
            <tag> 模态分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小米手环解锁电脑</title>
      <link href="/posts/35392/"/>
      <url>/posts/35392/</url>
      
        <content type="html"><![CDATA[<p>:::info<br>无法安装小米感应钥匙</p><p>:::</p><h2 id="第-1-步安装小米感应钥匙"><a href="#第-1-步安装小米感应钥匙" class="headerlink" title="第 1 步安装小米感应钥匙"></a>第 1 步安装小米感应钥匙</h2><h3 id="方法-1-从微软应用商店安装"><a href="#方法-1-从微软应用商店安装" class="headerlink" title="方法 1 从微软应用商店安装"></a>方法 1 从微软应用商店安装</h3><p>在商店搜索<code>小米感应钥匙</code>安装即可</p><h3 id="方法-2-从第三方网站下载并安装"><a href="#方法-2-从第三方网站下载并安装" class="headerlink" title="方法 2 从第三方网站下载并安装"></a>方法 2 从第三方网站下载并安装</h3><ol><li>打开网站：<a href="https://www.crxsoso.com/search">https://www.crxsoso.com/search</a></li><li>搜索小米感应钥匙</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401072154811.png"></p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401072155782.png"></p><ol start="3"><li>点击下载的按钮—F12—依次点击 123—获得下载链接—输入到浏览器—下载到小米感应钥匙的安装包</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401072157958.png"></p><ol start="4"><li>双击压缩包安装软件</li></ol><h3 id="方法-3-网盘"><a href="#方法-3-网盘" class="headerlink" title="方法 3 网盘"></a>方法 3 网盘</h3><p>小米感应钥匙 2.4.0.0：<a href="https://xdd1997.lanzouo.com/iuA4S1kebn6b">https://xdd1997.lanzouo.com/iuA4S1kebn6b</a></p><h3 id="可能遇到的错误"><a href="#可能遇到的错误" class="headerlink" title="可能遇到的错误"></a>可能遇到的错误</h3><ul><li>正在安装所需框架 16%… <a href="https://answers.microsoft.com/zh-hans/windows/forum/all/%E5%AE%89%E8%A3%85uwp%E5%BA%94%E7%94%A8%E5%8D%A1/7c4360e1-d9d7-4930-b4e5-7afe6d0286e8">解决方法</a></li><li>应用安装程序无法安装应用包相关项。请向开发人员索要 应用包。 <a href="https://www.zhihu.com/question/411518183?utm_id=0">解决方法</a></li></ul><h2 id="第-2-步安装小米感应钥匙"><a href="#第-2-步安装小米感应钥匙" class="headerlink" title="第 2 步安装小米感应钥匙"></a>第 2 步安装小米感应钥匙</h2>]]></content>
      
      
      <categories>
          
          <category> windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 小米手环 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>获取cookie的方法</title>
      <link href="/posts/5812/"/>
      <url>/posts/5812/</url>
      
        <content type="html"><![CDATA[<h2 id="使用插件：EditThisCookie"><a href="#使用插件：EditThisCookie" class="headerlink" title="使用插件：EditThisCookie"></a>使用插件：EditThisCookie</h2><ol><li>安装 Chrome 扩展：EditThisCookie <a href="https://chromewebstore.google.com/detail/editthiscookie/fngmhnnpilhplaeedifhccceomclgfbg?hl=zh-CN&utm_source=ext_sidebar">官方-Chrome 商店</a> <a href="https://chrome.zzzmh.cn/info/fngmhnnpilhplaeedifhccceomclgfbg">第三方-极简插件</a></li><li>将扩展固定在右上角</li><li>进入 baidu.com—输入账号与密码登录—点击右上角的插件—点击导出按钮，即可将 cookie 复制到粘贴板</li><li>获得的 cookie 格式如下</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;domain&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.baidu.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;expirationDate&quot;</span><span class="punctuation">:</span> <span class="number">1703576842</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hostOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;httpOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BA_HECTOR&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sameSite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;unspecified&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;secure&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;session&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;storeId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;al2404008g258ka00080808h1ioicsb1q&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">1</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;domain&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.baidu.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;expirationDate&quot;</span><span class="punctuation">:</span> <span class="number">1735026442.340862</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hostOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;httpOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BAIDUID&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sameSite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;unspecified&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;secure&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;session&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;storeId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;78C6164F8C0DAA8DEA1D11138163F1B8:FG=1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">2</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;domain&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.baidu.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;expirationDate&quot;</span><span class="punctuation">:</span> <span class="number">1735026442.814047</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hostOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;httpOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BAIDUID_BFESS&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sameSite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;no_restriction&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;secure&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;session&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;storeId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;78C6164F8C0DAA8DEA1D11138163F1B8:FG=1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">3</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;domain&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.baidu.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;expirationDate&quot;</span><span class="punctuation">:</span> <span class="number">1703576843.087224</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hostOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;httpOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BDORZ&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sameSite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;unspecified&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;secure&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;session&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;storeId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;B490B5EBF6F3CD402E515D22BCDA1598&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">4</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;domain&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.baidu.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;expirationDate&quot;</span><span class="punctuation">:</span> <span class="number">1738050442.340607</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hostOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;httpOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BIDUPSID&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sameSite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;unspecified&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;secure&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;session&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;storeId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;78C6164F8C0DAA8DEA1D11138163F1B8&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">5</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;domain&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.baidu.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;expirationDate&quot;</span><span class="punctuation">:</span> <span class="number">1735026442.340793</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hostOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;httpOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;H_PS_PSSID&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sameSite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;unspecified&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;secure&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;session&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;storeId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;39839_39934_39936_39933_39943_39938_39999_39662_40009_40040&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">6</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;domain&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.baidu.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;expirationDate&quot;</span><span class="punctuation">:</span> <span class="number">1738050442.340727</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hostOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;httpOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;PSTM&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sameSite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;unspecified&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;secure&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;session&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;storeId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1703490391&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">7</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;domain&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.baidu.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;expirationDate&quot;</span><span class="punctuation">:</span> <span class="number">1735026442.865231</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hostOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;httpOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ZFY&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sameSite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;no_restriction&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;secure&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;session&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;storeId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;:AAaJdMlSOSkbpgXxY6e4GxuwZCSOQn4rLelzF6e6h1M:C&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">8</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;domain&quot;</span><span class="punctuation">:</span> <span class="string">&quot;www.baidu.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;expirationDate&quot;</span><span class="punctuation">:</span> <span class="number">1704354442</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hostOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;httpOnly&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;BD_UPN&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sameSite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;unspecified&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;secure&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;session&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;storeId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;12314753&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">9</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202312251545540.png" alt="图1：获取cookie步骤"></p><h2 id="使用-python-脚本"><a href="#使用-python-脚本" class="headerlink" title="使用 python 脚本"></a>使用 python 脚本</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line">service = Service(executable_path=<span class="string">r&#x27;chromedriver.exe&#x27;</span>)</span><br><span class="line">driver = webdriver.Chrome(service=service)</span><br><span class="line">driver.implicitly_wait(<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">cookie_save_path = <span class="string">&quot;cookie_ddx.txt&quot;</span></span><br><span class="line">url = <span class="string">&quot;https://www.baidu.com/&quot;</span></span><br><span class="line">driver.get(url)</span><br><span class="line"><span class="built_in">input</span>(<span class="string">&quot;手动登录后，按回车键&quot;</span>)</span><br><span class="line">data = driver.get_cookies()</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(cookie_save_path, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> fw:</span><br><span class="line">    json.dump(data, fw)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;cookie_save_path&#125;</span> 文件已经生成&quot;</span>)</span><br></pre></td></tr></table></figure><p>文件内容：</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202312251558023.png"></p><p>添加一些回车后：</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408092132943.png"></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> selenium </tag>
            
            <tag> cookie </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python-selenium-cookie</title>
      <link href="/posts/43169/"/>
      <url>/posts/43169/</url>
      
        <content type="html"><![CDATA[<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://blog.csdn.net/XianZhe_/article/details/119860391">Python Selenium.WebDriver 对 Cookies 的处理及应用『模拟登录』_driver.add_cookie-CSDN 博客</a></p><p>该教程还介绍了 request+cookie</p><h2 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install selenium</span><br></pre></td></tr></table></figure><h3 id="重要的开始"><a href="#重要的开始" class="headerlink" title="重要的开始"></a>重要的开始</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line">from selenium.webdriver.chrome.service import Service</span><br><span class="line">from selenium.webdriver.common.by import By</span><br><span class="line"></span><br><span class="line">service = Service(executable_path=r&#x27;C:\chromedriver-win64\chromedriver.exe&#x27;)</span><br><span class="line">driver = webdriver.Chrome(service=service)</span><br><span class="line">driver.implicitly_wait(<span class="number">20</span>)</span><br></pre></td></tr></table></figure><p>chromedriver.exe 下载问题</p><ol><li>chrome 浏览器—设置—关于 Chrome, 查看 Chrome 版本</li><li><a href="http://chromedriver.storage.googleapis.com/index.html">http://chromedriver.storage.googleapis.com/index.html</a> — 下载旧版本的 chromedriver.exe</li><li><a href="https://googlechromelabs.github.io/chrome-for-testing">https://googlechromelabs.github.io/chrome-for-testing</a> — 下载较新版本的 chromedriver.exe</li></ol><h3 id="cookie-的形式"><a href="#cookie-的形式" class="headerlink" title="cookie 的形式"></a>cookie 的形式</h3><p>打开浏览器—打开一个无痕页面—进入 <a href="http://www.baidu.com---f12---存储---cookie/">www.baidu.com---F12---存储---Cookie</a></p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202404102218645.png"></p><h3 id="读取-Cookie"><a href="#读取-Cookie" class="headerlink" title="读取 Cookie"></a>读取 Cookie</h3><ul><li>driver.get_cookies()</li><li>driver.get_cookies(name)</li></ul><h4 id="获取所有-Cookie"><a href="#获取所有-Cookie" class="headerlink" title="获取所有 Cookie"></a>获取所有 Cookie</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">driver.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line">cookies = driver.get_cookies()</span><br><span class="line"><span class="keyword">for</span> cookie in cookies:</span><br><span class="line">    print(cookie)</span><br></pre></td></tr></table></figure><p>输出内容如下：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.baidu.com&#x27;</span>, <span class="string">&#x27;expiry&#x27;</span>: <span class="number">1734940645</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;ZFY&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;sameSite&#x27;</span>: <span class="string">&#x27;None&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: True, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;BvZP5RU1H69s489:BJT5OsAvTtNexoPYRfW4mqHOosSM:C&#x27;</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.baidu.com&#x27;</span>, <span class="string">&#x27;expiry&#x27;</span>: <span class="number">1703491045</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;BA_HECTOR&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;sameSite&#x27;</span>: <span class="string">&#x27;Lax&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;8sag8081250185c40lah248i1iofp351q&#x27;</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>, <span class="string">&#x27;expiry&#x27;</span>: <span class="number">1704268645</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;BD_UPN&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;sameSite&#x27;</span>: <span class="string">&#x27;Lax&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;12314753&#x27;</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.baidu.com&#x27;</span>, <span class="string">&#x27;expiry&#x27;</span>: <span class="number">1734940644</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;BAIDUID&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;sameSite&#x27;</span>: <span class="string">&#x27;Lax&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;76282A5DDCFBCC66417CC548580E2490:FG=1&#x27;</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.baidu.com&#x27;</span>, <span class="string">&#x27;expiry&#x27;</span>: <span class="number">1734940645</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;BAIDUID_BFESS&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;sameSite&#x27;</span>: <span class="string">&#x27;None&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: True, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;76282A5DDCFBCC66417CC548580E2490:FG=1&#x27;</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.baidu.com&#x27;</span>, <span class="string">&#x27;expiry&#x27;</span>: <span class="number">1734940644</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;H_PS_PSSID&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;sameSite&#x27;</span>: <span class="string">&#x27;Lax&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;39840_39934_39937_39943_39939_39974_39999_39662_40041&#x27;</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.baidu.com&#x27;</span>, <span class="string">&#x27;expiry&#x27;</span>: <span class="number">1737964644</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;PSTM&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;sameSite&#x27;</span>: <span class="string">&#x27;Lax&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;1703404593&#x27;</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;.baidu.com&#x27;</span>, <span class="string">&#x27;expiry&#x27;</span>: <span class="number">1737964644</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;BIDUPSID&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;sameSite&#x27;</span>: <span class="string">&#x27;Lax&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;76282A5DDCFBCC66417CC548580E2490&#x27;</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="获取指定名称的-Cookie"><a href="#获取指定名称的-Cookie" class="headerlink" title="获取指定名称的 Cookie"></a>获取指定名称的 Cookie</h4><p>获取百度首页名为<code>BD_UPN</code>的 Cookie 内容，并将其输出</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.get_cookie(<span class="string">&quot;BD_UPN&quot;</span>)</span><br></pre></td></tr></table></figure><p>输出内容如下：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>, <span class="string">&#x27;expiry&#x27;</span>: <span class="number">1704270407</span>, <span class="string">&#x27;httpOnly&#x27;</span>: False, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;BD_UPN&#x27;</span>, <span class="string">&#x27;path&#x27;</span>: <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;sameSite&#x27;</span>: <span class="string">&#x27;Lax&#x27;</span>, <span class="string">&#x27;secure&#x27;</span>: False, <span class="string">&#x27;value&#x27;</span>: <span class="string">&#x27;12314753&#x27;</span>&#125;</span><br></pre></td></tr></table></figure><p><em><strong>所以，每个 Cookie 就是一个字典</strong></em></p><h3 id="新增-Cookie"><a href="#新增-Cookie" class="headerlink" title="新增 Cookie"></a>新增 Cookie</h3><ul><li>driver.add_cookie(cookie_dict)</li></ul><p><font style="color:rgb(77, 77, 77);">Cookie 是一个键值对数据，</font><strong><font style="color:rgb(77, 77, 77);">传入的 Cookie 对象中必须包含</font></strong><code>name</code><strong><font style="color:rgb(77, 77, 77);">和</font></strong><code>value</code><strong><font style="color:rgb(77, 77, 77);">两个属性</font></strong><font style="color:rgb(77, 77, 77);">。除此之外还有四个可选属性，分别为</font><code>path</code><font style="color:rgb(77, 77, 77);">，</font><code>domain</code><font style="color:rgb(77, 77, 77);">，</font><code>secure</code><font style="color:rgb(77, 77, 77);">，</font><code>expiry</code></p><p>示例</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drive.add_cookie(&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;MyCookie&quot;</span>, <span class="string">&quot;value&quot;</span>: <span class="string">&quot;this is my cookie!&quot;</span>&#125;)</span><br></pre></td></tr></table></figure><p><em>****</em></p><h3 id="删除-Cookie"><a href="#删除-Cookie" class="headerlink" title="删除 Cookie"></a>删除 Cookie</h3><ul><li>driver.delete_all_cookies()</li><li>driver.delete_cookie(name)</li></ul><h3 id="使用-Cookie-登陆网页"><a href="#使用-Cookie-登陆网页" class="headerlink" title="使用 Cookie 登陆网页"></a>使用 Cookie 登陆网页</h3><h4 id="第-1-步：获取-Cookie"><a href="#第-1-步：获取-Cookie" class="headerlink" title="第 1 步：获取 Cookie"></a>第 1 步：获取 Cookie</h4><ul><li>方法 1：手动账号登陆网页，手动记录 Cookie</li><li>方法 2：写一个自动登陆+手动验证(可选）的函数，自动获取 cookie</li></ul><h4 id="第-2-步：使用-cookie-登陆网页"><a href="#第-2-步：使用-cookie-登陆网页" class="headerlink" title="第 2 步：使用 cookie 登陆网页"></a>第 2 步：使用 cookie 登陆网页</h4><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 删除所有的Cookies</span><br><span class="line">driver.delete_all_cookies()</span><br><span class="line"></span><br><span class="line"># 逐个添加Cookie,可以使用循环</span><br><span class="line">driver.add_cookie(cookie_dict)</span><br><span class="line">driver.add_cookie(cookie_dict)</span><br><span class="line"></span><br><span class="line"># 刷新网页</span><br><span class="line">driver.refresh()</span><br></pre></td></tr></table></figure><h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><h3 id="登录百度"><a href="#登录百度" class="headerlink" title="登录百度"></a>登录百度</h3><p>基本思想</p><ol><li>如果是第一次，需要先调用 gen_cookie_file 手动登录，并且会生成 cookie 文件</li><li>以后登录就可以使用 cookie 文件登录了</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gen_cookie_file</span>(<span class="params">driver, url, cookie_save_path</span>):</span><br><span class="line">    driver.get(url)</span><br><span class="line">    <span class="built_in">input</span>(<span class="string">&quot;手动登录后，按回车键&quot;</span>)</span><br><span class="line">    data = driver.get_cookies()</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(cookie_save_path, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> fw:</span><br><span class="line">        json.dump(data, fw)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;cookie_save_path&#125;</span> 文件已经生成&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> driver</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_with_cookie</span>(<span class="params">driver, url, cookie_save_path</span>):</span><br><span class="line">    driver.get(url)</span><br><span class="line">    <span class="comment"># 加载 cookie</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(cookie_save_path, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> fr:</span><br><span class="line">        cookies = json.load(fr)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 使用 cookie 登录</span></span><br><span class="line">    driver.delete_all_cookies()</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> cookies:</span><br><span class="line">        driver.add_cookie(c)</span><br><span class="line">    driver.refresh()</span><br><span class="line">    <span class="keyword">return</span> driver</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_info</span>(<span class="params">drive</span>):</span><br><span class="line">    <span class="comment"># 点击设置</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line"></span><br><span class="line">    service = Service(executable_path=<span class="string">r&#x27;chromedriver.exe&#x27;</span>)</span><br><span class="line">    driver = webdriver.Chrome(service=service)</span><br><span class="line">    driver.implicitly_wait(<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">    login_first = <span class="literal">True</span></span><br><span class="line">    cookie_save_path = <span class="string">r&quot;cookie_ddx.txt&quot;</span></span><br><span class="line">    url = <span class="string">&quot;https://www.baidu.com&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 登录</span></span><br><span class="line">    <span class="keyword">if</span> login_first:</span><br><span class="line">        driver = gen_cookie_file(driver, url, cookie_save_path)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        driver = login_with_cookie(driver, url, cookie_save_path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 处理数据</span></span><br><span class="line">    get_info(driver)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 退出</span></span><br><span class="line">    <span class="built_in">input</span>(<span class="string">&quot;enter any key to exit&quot;</span>)</span><br><span class="line">    driver.quit()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Texlive + TeX studio 安装</title>
      <link href="/posts/26366/"/>
      <url>/posts/26366/</url>
      
        <content type="html"><![CDATA[<h3 id="安装-Texlive"><a href="#安装-Texlive" class="headerlink" title="安装 Texlive"></a>安装 Texlive</h3><ol><li>下载：<a href="https://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/Images">texlive.iso</a></li><li>装载 iso 文件，管理员身份运行 <strong>install-tl-windows.bat</strong></li><li>可以默认安装到 C 盘，也可以更改安装路径</li><li>耐心等待，安装界面会显示<strong>已用&#x2F;安装预计时间</strong>，我的显示预计 1 小时 34 分钟</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Installing [2165/4490, time/total: 43:49/01:34:05]: l2tabu-italian [252k]</span><br><span class="line">Installing [2166/4490, time/total: 43:50/01:34:06]: l2tabu-spanish [223k]</span><br></pre></td></tr></table></figure><ol start="5"><li>安装完成后会显示</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">欢迎进入 TeX Live 的世界！</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">See C:/texlive/2023/index.html for links to documentation.</span><br><span class="line">The TeX Live web site (https://tug.org/texlive/) contains any updates and corrections. TeX Live is a joint project of the TeX user groups around the world; please consider supporting it by joining the group best for you. The list of groups is available on the web at https://tug.org/usergroups.html.</span><br><span class="line">Logfile: C:/texlive/2023/install-tl.log</span><br><span class="line">Installed on platform windows at C:/texlive/2023</span><br></pre></td></tr></table></figure><ol start="6"><li>验证是否安装成功：win+R—cmd—latex -v</li></ol><h3 id="安装-TeX-studio"><a href="#安装-TeX-studio" class="headerlink" title="安装 TeX studio"></a>安装 TeX studio</h3><ol><li>下载：<a href="https://texstudio.sourceforge.net/">https://texstudio.sourceforge.net</a></li><li>正常安装即可</li></ol><h3 id="TeX-studio-简单配置"><a href="#TeX-studio-简单配置" class="headerlink" title="TeX studio 简单配置"></a>TeX studio 简单配置</h3><ul><li>中文界面：Options—Gereral—Language—<code>zh_CN</code></li><li><font style="color:rgb(77, 77, 77);">添加段落行号：选项—设置—编辑器—显示行号：</font><code>&lt;font style=&quot;color:rgb(77, 77, 77);&quot;&gt;所有行号&lt;/font&gt;</code></li><li><font style="color:rgb(77, 77, 77);">撰写中文论文，将默认编译器改为</font><code>Xelatex</code><font style="color:rgb(77, 77, 77);">。如果撰写英文论文，将默认编译器改为</font><code>Pdflatex</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> latex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为hexo添加404页面</title>
      <link href="/posts/61991/"/>
      <url>/posts/61991/</url>
      
        <content type="html"><![CDATA[<ol><li>下载一个 404.html，放置到文件夹 blog_hexo\source 里面</li><li>在 404.html 文件第一行前面添加如下三行代码，不然 404.html 文件会被 hexo 渲染</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure><ol start="3"><li>完成</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202312091302461.png"></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 404 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>obsidian阿里云OSS同步</title>
      <link href="/posts/7106/"/>
      <url>/posts/7106/</url>
      
        <content type="html"><![CDATA[<h3 id="创建阿里云用户设置权限"><a href="#创建阿里云用户设置权限" class="headerlink" title="创建阿里云用户设置权限"></a>创建阿里云用户设置权限</h3><ol><li>点击阿里云右上角的用户头像—点击 AccessKey 管理—点击”使用子用户 AccessKey”</li><li>创建一个用户，登录名称和显示名称任意—勾选 Open API 调用访问—点击确定</li><li>创建完成后可看到 <code>AccessKey ID</code> 与 <code>AccessKey Secret</code>，这两个信息只会显示这一次，务必保存好</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202312051511265.png"></p><h3 id="创建-Bucket"><a href="#创建-Bucket" class="headerlink" title="创建 Bucket"></a>创建 Bucket</h3><ol><li>在阿里云创建 Bucket，推荐：标准存储，私有，其它默认即可</li><li>记录 bucket 的 Endpoint（地域节点），类似：oss-cn-beijing.aliyuncs.com</li><li>点击 Bucket 列表—进入你的 Bucket—权限控制—Bucket 授权策略—新增授权<ol><li>授权用户：子账号—上面创建的账户</li><li>授权操作：完全控制</li></ol></li><li>点击 Bucket 列表—进入你的 Bucket—数据安全—跨域设置<ol><li>来源：*</li><li>允许 Methods：全部勾选</li><li>Headers：*</li><li>其它默认</li></ol></li></ol><h3 id="配置-obsidian"><a href="#配置-obsidian" class="headerlink" title="配置 obsidian"></a>配置 obsidian</h3><ol><li>安装并打开 Remotely Save 插件</li><li>选择远程服务：S3 或兼容 S3 的服务<ol><li>服务地址(Endpoint) ：oss-cn-beijing.aliyuncs.com</li><li>区域(Region)：oss-cn-beijing</li><li>AccessKey ID：前面已经获得</li><li>SecretAccessKey：前面已经获得</li><li>BucketName：阿里云 OSS 内的 bucket 名字</li></ol></li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202312051527791.png"></p><ol start="3"><li>点击下面的测试，可查看配置情况</li><li>在其他客户端（安卓&#x2F;PC)也安装并设置 Remotely Save 插件即可</li></ol>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> obsidian </tag>
            
            <tag> OSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>obsidian多设备同步</title>
      <link href="/posts/52673/"/>
      <url>/posts/52673/</url>
      
        <content type="html"><![CDATA[<h2 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h2><p>203-12-23：建议使用 obsidian+OSS</p><h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p>obsidian 需要在 Windows 与 Android 同步</p><p>真心没有语雀好用，希望语雀不要倒闭</p><h2 id="实现方法：坚果云-FolderSync"><a href="#实现方法：坚果云-FolderSync" class="headerlink" title="实现方法：坚果云+FolderSync"></a>实现方法：坚果云+<font style="color:rgb(68, 68, 68);">FolderSync</font></h2><blockquote><p><font style="color:rgb(68, 68, 68);">FolderSync 支持双向，单项向左，单项向右，三种方式同步</font></p><p><font style="color:rgb(68, 68, 68);">用着用着发现不能同步了，可能是坚果云同步文件个数&#x2F;时间有限制，需要等一会才行</font></p></blockquote><ol><li><font style="color:rgb(68, 68, 68);">在 Windows 本地建立 obsidian 的根目录 AAA，将 AAA 设置为自动同步到坚果云</font></li><li><font style="color:rgb(68, 68, 68);">开启坚果云的 webdav, 获得第三方客户端密码</font></li><li><font style="color:rgb(68, 68, 68);">在 Android 下载 obsidian 与 FolderSync</font></li><li><font style="color:rgb(68, 68, 68);">打开 FolderSync 设置安卓手机本地的文件夹 AAA 与坚果云同步，详细参考：</font><a href="https://help.jianguoyun.com/?p=2887"><font style="color:#2F4BDA;">https://help.jianguoyun.com/?p=2887</font></a></li><li>打开 Android 的 <font style="color:rgb(68, 68, 68);">obsidian，将 AAA 设置为根目录即可</font></li></ol>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> obsidian </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo自动部署到Gitee Page</title>
      <link href="/posts/29869/"/>
      <url>/posts/29869/</url>
      
        <content type="html"><![CDATA[<div class="note warning flat"><p>gitee page 功能维护中，可能凉凉了</p></div><h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>这里有两个步骤：</p><ul><li>将代码推送到 Gitee 仓库</li><li>部署到 Gitee Page</li></ul><p>第 1 步的方法有：</p><ul><li>本地 git 定时提交</li><li>使用 Github Action 镜像 Github 仓库：<ul><li>手动同步</li><li>自动同步</li></ul></li></ul><p>第 2 步的方法有：</p><ol><li>开通 Gitee Page Pro 功能（收费）</li><li>使用 <font style="color:rgb(31, 35, 40);">Gitee Pages Action</font></li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a><font style="color:rgb(31, 35, 40);">代码</font></h2><h3 id="将-Github-仓库内容自动同步到-Gitee"><a href="#将-Github-仓库内容自动同步到-Gitee" class="headerlink" title="将 Github 仓库内容自动同步到 Gitee"></a>将 Github 仓库内容自动同步到 Gitee</h3><h4 id="基于-hub-mirror-action"><a href="#基于-hub-mirror-action" class="headerlink" title="基于 hub-mirror-action"></a>基于 hub-mirror-action</h4><blockquote><p><a href="https://github.com/Yikun/hub-mirror-action">https://github.com/Yikun/hub-mirror-action</a></p></blockquote><ol><li>生成公钥与私钥文件：<a href="https://www.yuque.com/xdd1997/blog/ru4eumc62yqwhle4">https://www.yuque.com/xdd1997/blog/ru4eumc62yqwhle4</a></li><li>将公钥文件内容添加到 Gitee，生成 Gitee 的 Token</li><li>在 blog_hexo 的仓库添加两个变量</li></ol><ul><li>GITEE_TOKEN：上一步获得的 Gitee Token</li><li>GITEE_RSA_PRIVATE_KEY：私钥文件内容</li></ul><ol start="4"><li>在 Github Action 的自动化文件 yaml 中添加下面代码</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">镜像仓库</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">Yikun/hub-mirror-action@master</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">src:</span> <span class="string">github/xie-dd</span></span><br><span class="line">        <span class="attr">dst:</span> <span class="string">gitee/xdd1997</span></span><br><span class="line">        <span class="attr">dst_key:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GITEE_RSA_PRIVATE_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">dst_token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GITEE_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">mappings:</span> <span class="string">&quot;xie-dd.github.io=&gt;xdd1997&quot;</span></span><br><span class="line">        <span class="attr">static_list:</span> <span class="string">&quot;xie-dd.github.io&quot;</span></span><br></pre></td></tr></table></figure><ul><li>mappings: “仓库名 A&#x3D;&gt;仓库名 B”</li><li>static_list：”仓库名 A”</li></ul><h3 id="自动部署-Gitee-Page"><a href="#自动部署-Gitee-Page" class="headerlink" title="自动部署 Gitee Page"></a>自动部署 Gitee Page</h3><blockquote><p><a href="https://github.com/yanglbme/gitee-pages-action">https://github.com/yanglbme/gitee-pages-action</a></p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">部署【Gitee</span> <span class="string">Pages】网站</span></span><br><span class="line">   <span class="attr">uses:</span> <span class="string">yanglbme/gitee-pages-action@main</span></span><br><span class="line">   <span class="attr">with:</span></span><br><span class="line">     <span class="attr">gitee-username:</span> <span class="string">xdd1997</span></span><br><span class="line">     <span class="attr">gitee-password:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GITEE_PASSWORD</span> <span class="string">&#125;&#125;</span></span><br><span class="line">     <span class="attr">gitee-repo:</span> <span class="string">xdd1997/xdd1997</span></span><br><span class="line">     <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><ul><li>gitee-repo: gitee 用户名&#x2F;gitee 仓库名</li><li>GITEE_PASSWORD：gitee 的登陆密码，不是 Token</li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
            <tag> hexo </tag>
            
            <tag> gitee </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Zotero CSL的更改</title>
      <link href="/posts/17016/"/>
      <url>/posts/17016/</url>
      
        <content type="html"><![CDATA[<h2 id="在线网站版"><a href="#在线网站版" class="headerlink" title="在线网站版"></a>在线网站版</h2><p>网站：<a href="https://editor.citationstyles.org/visualEditor/">https://editor.citationstyles.org/visualEditor/</a></p><h2 id="大致思路"><a href="#大致思路" class="headerlink" title="大致思路"></a>大致思路</h2><ul><li>获取新的 csl—导入到网站 <a href="https://editor.citationstyles.org/visualEditor/">https://editor.citationstyles.org/visualEditor/</a></li><li>在 Zotero 选中多个典型文献—导出条目—CSL JSON—复制 json 文件内容</li><li>在网站中 Visual editor—<em>Style</em>—<em>Load Style</em></li><li>右上角 Exanple citations— Citations 1—Advanced—粘贴 json 文件内容—Add new reference</li><li>可以修改并<em>Style</em>—<em>Save Style</em>导出新的<em>csl</em>了</li></ul><h2 id="文献类别"><a href="#文献类别" class="headerlink" title="文献类别"></a>文献类别</h2><ul><li>article-journal：期刊论文，<font style="color:rgb(18, 18, 18);">强调了学术期刊中的研究性文章</font></li><li><font style="color:rgb(18, 18, 18);">Article in a Periodical：指涉任何类型的期刊中的文章，不论是学术性的还是非学术性的（一般不用）</font></li><li><font style="color:rgb(18, 18, 18);">patent：专利</font></li><li><font style="color:rgb(18, 18, 18);">paper-conference：会议论文</font></li></ul><h2 id="修改的详细细节（已-IJMS-为例）"><a href="#修改的详细细节（已-IJMS-为例）" class="headerlink" title="修改的详细细节（已 IJMS 为例）"></a>修改的详细细节（已 IJMS 为例）</h2><h3 id="导入文件"><a href="#导入文件" class="headerlink" title="导入文件"></a>导入文件</h3><ol><li>使用 Everything 搜索本地文件：<font style="color:#74B602;">china-national-standard-gb-t-7714-2015-numeric</font>（没有也可以去下载一个相似的）</li><li>打开网站 <a href="https://editor.citationstyles.org/visualEditor/">https://editor.citationstyles.org/visualEditor/</a> — 点击左上角 Style—New Style— 点击左上角 Style — Load Style — 选择 <font style="color:#74B602;">china-national-standard-gb-t-7714-2015-numeric</font></li><li>点击左上角的 Example citations，添加几篇文献</li></ol><p>注意：china-national-standard-gb-t-7714-2015-numeric 中期刊论文，会议论文，书籍等文献的修改都在下面的地方改动，他是先分为 4 个域（姓名，标题，出版信息，url&#x2F;doi），在每个条目下再分文献类型</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202311191026737.png"></p><h3 id="设置新-csl-的信息"><a href="#设置新-csl-的信息" class="headerlink" title="设置新 csl 的信息"></a>设置新 csl 的信息</h3><ol><li>点击左上角 STYLE INFO—Info，设置 Title，如何不打算分发给网络，ID,Right 什么的可以随便写</li><li>点击左上角 STYLE INFO — Global Formatting Options — 将 default-lacale 由 zh-CN 改成 en，可以解决中文”等”“卷”的问题</li></ol><h3 id="设置文献在正文的格式"><a href="#设置文献在正文的格式" class="headerlink" title="设置文献在正文的格式"></a>设置文献在正文的格式</h3><ol><li>点击左上角 INLINE CITATIONS—Layout</li><li>Text formatting — 取消勾选 x^s，以确保[1-4] 不是上标</li><li>Affixes — delimiter—输入英文逗号与空格，实现 【1, 2】这种效果</li><li>长横线：待处理</li></ol><h3 id="设置文献在参考文献的格式"><a href="#设置文献在参考文献的格式" class="headerlink" title="设置文献在参考文献的格式"></a>设置文献在参考文献的格式</h3><ol><li>删除 DOI: 点击 EXAMPLE BIBLIOGRAPHY 中带有 DOI 的文献的 DOI 位置—在左边点击 DOI(variable)—点击上面的减号即可</li><li>删除 url: 同上, 对应于 URL(variable)</li><li>删除日期：同上，对应于 Date</li><li>删除期刊论文的 [J&#x2F;OL] ：同上</li><li>删除期刊与年份之间的逗号：这里是通过删除后缀实现</li><li>作者姓名三个字的，如 Xie X Y 改成 Xie XY：点击左上角 STYLE INFO — Global Formatting Options —initialize-with—将空格删除即可</li><li>作者姓名的 given 名是否要缩写：点击左上角 STYLE INFO — Global Formatting Options —initialize—选择 true 与 false</li><li>会议论文的 Volume 小写：点击文献中的 Volume—将下面 volume(label)中的 form 改成 short 即可</li></ol><h3 id="添加条目-DOI"><a href="#添加条目-DOI" class="headerlink" title="添加条目 DOI"></a>添加条目 DOI</h3><ol><li>先选择一个位置，点击</li><li>点击左上角的加号—点击 Text—会在左边树状图自动添加一个 Text</li><li>点击左侧的 Text — 右侧下部依次选择 Type:variable — variable: DOI — prefix: <strong>https:&#x2F;&#x2F;</strong></li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202311201924525.png"></p><h2 id="其它问题"><a href="#其它问题" class="headerlink" title="其它问题"></a>其它问题</h2><ol><li>两个 group 之间会产生一个空格，如果不想要空格，需要把条目移动到一个 group 中</li><li>if-esle if -else 只能用于判断文献类型</li><li>Group 可以设置组内每一项的分隔符，组的前缀与后缀</li><li>TODO： 两个组之间的分隔符</li></ol>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> zotero </tag>
            
            <tag> csl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git知识点与常见错误</title>
      <link href="/posts/53142/"/>
      <url>/posts/53142/</url>
      
        <content type="html"><![CDATA[<h2 id="Git-初相识"><a href="#Git-初相识" class="headerlink" title="Git 初相识"></a>Git 初相识</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><ol><li>去官网下载安装包：<a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a></li><li>全部选择默认安装即可</li></ol><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><ol><li>在 gitee.com 上注册一个账号 xdd1997</li><li>在 gitee.com 上建立一个仓库 python_project，见下图，不要勾选其他框框</li><li>获得 git 链接 <a href="https://gitee.com/xdd1997/python_project.git">https://gitee.com/xdd1997/python_project.git</a></li><li>打开 AA 文件夹—右键—Open Git Bash here</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;xdd1997&quot;</span><br><span class="line">git config --global user.email &quot;xdd2026@qq.com&quot;</span><br><span class="line"></span><br><span class="line">mkdir python_project</span><br><span class="line">cd python_project</span><br><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;first commit&quot;</span><br><span class="line">git remote add origin https://gitee.com/xdd1997/python_project.git</span><br><span class="line">git push -u origin &quot;master&quot;</span><br></pre></td></tr></table></figure><ol start="5"><li>会弹出一个窗口，需要输入 gitee.com 的用户名与密码</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202401061956149.png"></p><h2 id="一些应用情境"><a href="#一些应用情境" class="headerlink" title="一些应用情境"></a>一些应用情境</h2><h3 id="彻底删除仓库的一些版本"><a href="#彻底删除仓库的一些版本" class="headerlink" title="彻底删除仓库的一些版本"></a>彻底删除仓库的一些版本</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 下面两行命令会删除 9847c8c 之后所有的版本，9847c8c版本会留下来</span><br><span class="line">git reset --hard 9847c8c</span><br><span class="line">git push origin master --force</span><br></pre></td></tr></table></figure><h3 id="git-pull-内部的门道-合并与变基"><a href="#git-pull-内部的门道-合并与变基" class="headerlink" title="git pull 内部的门道-合并与变基"></a>git pull 内部的门道-合并与变基</h3><blockquote><p>搜索关键词：git pull，git fetch，git merge，git pull –rebase，<font style="color:rgb(0, 0, 0);">自动变基</font></p></blockquote><p><a href="https://mp.weixin.qq.com/s/n1KbNaT46SwVPCBxpW31ow">https://mp.weixin.qq.com/s/n1KbNaT46SwVPCBxpW31ow</a></p><h2 id="Git-Error"><a href="#Git-Error" class="headerlink" title="Git Error"></a>Git Error</h2><h3 id="remote-Repository-not-found-fatal-repository-‘xxxxxxx’-not-found"><a href="#remote-Repository-not-found-fatal-repository-‘xxxxxxx’-not-found" class="headerlink" title="remote: Repository not found. fatal: repository ‘xxxxxxx’ not found"></a><font style="color:rgb(64, 64, 64);">remote: Repository not found. fatal: repository ‘xxxxxxx’ not found</font></h3><blockquote><p>参考：</p><p><a href="https://www.jianshu.com/p/7de638758cd1">Repository not found. fatal: repository ‘xxxxxxx’ not found - 简书</a></p><p><a href="https://blog.csdn.net/weixin_39309402/article/details/109325957">git pull 或者 git push 时，为什么要每次都输入用户名和密码？-CSDN 博客</a></p></blockquote><p><strong>解决方法：</strong></p><ol><li>输入以下命令，得到一个文件的路径</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --show-origin --get credential.helper</span><br></pre></td></tr></table></figure><blockquote><p>C:\Users\xdd&gt;git config –show-origin –get credential.helper</p><p>file:C:&#x2F;Users&#x2F;xdd&#x2F;.gitconfig store</p></blockquote><ol start="2"><li>打开该文件，删除下面关键字的两行，然后保存文件</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[credential]</span><br><span class="line">    helper = store</span><br></pre></td></tr></table></figure><ol start="3"><li>输入下面命令，下次会保存用户名与密码，不然每次都要输入用户名与 Token</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global credential.helper store</span><br></pre></td></tr></table></figure><ol start="4"><li>可以提交文件了，第一次会弹窗提示输入 user 与 password, 需要注意虽然显示的是输入密码，但是只能输入 Token （<font style="color:rgb(31, 35, 40);">Personal access tokens）</font></li></ol><p><font style="color:rgb(31, 35, 40);"></font></p><h3 id="fatal-unable-to-access-‘https-github-com-xxxx-xxxx-git‘-Failed-to-connect-to-127-0-0-1-port-8087-Connection-refused"><a href="#fatal-unable-to-access-‘https-github-com-xxxx-xxxx-git‘-Failed-to-connect-to-127-0-0-1-port-8087-Connection-refused" class="headerlink" title="fatal: unable to access ‘https://github.com/xxxx/xxxx.git‘: Failed to connect to 127.0.0.1 port 8087: Connection refused"></a>fatal: unable to access ‘<a href="https://github.com/xxxx/xxxx.git">https://github.com/xxxx/xxxx.git</a>‘: Failed to connect to 127.0.0.1 port 8087: Connection refused</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fatal: unable to access &#x27;https://gitee.com/xxxx/xxxx.git/&#x27;: Failed to connect to 127.0.0.1 port 24096 after 2021 ms: Couldn&#x27;t connect to server</span><br><span class="line"></span><br><span class="line">fatal: unable to access &#x27;https://github.com/xxxx/xxxx.git&#x27;: Failed to connect to 127.0.0.1 port 8087: Connection refused</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>解决方法：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git config --<span class="keyword">global</span> --unset http.proxy</span><br><span class="line">git config --<span class="keyword">global</span> --unset https.proxy</span><br><span class="line">git push origin master</span><br><span class="line">输入用户名</span><br><span class="line">输入密码</span><br></pre></td></tr></table></figure><h3 id="fatal-unable-to-access-Failed-to-connect-to-github-com-port-443-after-21051-ms-Couldn’t-connect-to-server"><a href="#fatal-unable-to-access-Failed-to-connect-to-github-com-port-443-after-21051-ms-Couldn’t-connect-to-server" class="headerlink" title="fatal: unable to access. Failed to connect to github.com port 443 after 21051 ms: Couldn’t connect to server"></a>fatal: unable to access. Failed to connect to github.com port 443 after 21051 ms: Couldn’t connect to server</h3><p><font style="color:rgb(77, 77, 77);">这是由于本机系统代理端口和 git 端口不一致导致的。解决办法：</font></p><ul><li><font style="color:rgb(77, 77, 77);">查看自己本机系统代理：</font><font style="color:rgb(79, 79, 79);">设置—网络和 Internet—代理—地址:端口</font></li><li><font style="color:rgb(79, 79, 79);">我的是 24906</font></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy http://127.0.0.1:10809</span><br><span class="line">git config --global https.proxy http://127.0.0.1:10809</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure><h2 id="Git-自动提交脚本"><a href="#Git-自动提交脚本" class="headerlink" title="Git 自动提交脚本"></a>Git 自动提交脚本</h2><ol><li>创建一个 git_push.sh 文件, 内容如下</li><li>双击 git_push.sh 文件，选择 git 程序执行即可</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># @echo off</span><br><span class="line">yuque-hexo sync</span><br><span class="line">git pull</span><br><span class="line">git add .</span><br><span class="line">read -p &quot;input commit message: &quot; msg</span><br><span class="line">git commit -m &quot;$msg&quot;</span><br><span class="line"># git commit -m &#x27;WIN10&#x27;</span><br><span class="line">git push</span><br><span class="line">read -p &quot;===== git push ok, Type enter to exit. ===== &quot; msg00</span><br></pre></td></tr></table></figure><h2 id="获取公钥与私钥"><a href="#获取公钥与私钥" class="headerlink" title="获取公钥与私钥"></a>获取公钥与私钥</h2><blockquote><p>Windows</p></blockquote><ol><li>win+R—cmd—记住此时的路径 — 输入下面代码</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;你的 Gitee/Github 账户对应的邮箱&quot;</span><br></pre></td></tr></table></figure><ol start="2"><li>回车三次</li><li>在 上面说的路径下有公钥与私钥文件<ol><li>公钥：id_rsa.pub</li><li>私钥：id_rsa</li></ol></li><li>在 Gitee 中添加公钥: 点自己头像—设置—SSH 公钥</li><li>在 Github 中添加公钥: 点自己<font style="color:rgb(77, 77, 77);">头像—settings—SSH and GPG keys—New SSH key</font></li></ol>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> error </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>重要的网站</title>
      <link href="/posts/urls/"/>
      <url>/posts/urls/</url>
      
        <content type="html"><![CDATA[<h2 id="在线视频网站"><a href="#在线视频网站" class="headerlink" title="在线视频网站"></a>在线视频网站</h2><p><a href="https://www.aikanbot.com/">爱看机器人-ikanbot.com</a></p><p><a href="https://www.0855666.com/">0855 影视-0855666.com</a></p><h2 id="文件传输"><a href="#文件传输" class="headerlink" title="文件传输"></a>文件传输</h2><ol><li>不登录最大 2G&#x2F;登陆 10G: <a href="https://musetransfer.com/">https://musetransfer.com/</a></li><li>文叔叔(不登录最大 5G): <a href="https://www.wenshushu.cn/">https://www.wenshushu.cn/</a></li><li>奶牛快传(必须登陆): <a href="https://cowtransfer.com/">https://cowtransfer.com/</a></li></ol><h2 id="网盘资源"><a href="#网盘资源" class="headerlink" title="网盘资源"></a>网盘资源</h2><h4 id="盘搜搜"><a href="#盘搜搜" class="headerlink" title="盘搜搜"></a>盘搜搜</h4><blockquote><p>各种网盘</p><p><a href="https://pansou.icloudnative.io/">https://pansou.icloudnative.io/</a></p></blockquote><h4 id="千帆搜索-资源超丰富的聚合网盘搜索网站！"><a href="#千帆搜索-资源超丰富的聚合网盘搜索网站！" class="headerlink" title="千帆搜索 - 资源超丰富的聚合网盘搜索网站！"></a>千帆搜索 - 资源超丰富的聚合网盘搜索网站！</h4><blockquote><p>阿里网盘，夸克网盘，888666</p><p><a href="https://pan.qianfan.app/">https://pan.qianfan.app/</a></p></blockquote><h4 id="书记酱"><a href="#书记酱" class="headerlink" title="书记酱"></a><a href="https://app.shokichan.com/c/tg/Quark_Share_Channel">书记酱</a></h4><blockquote><p>夸克网盘，<font style="color:rgb(46, 46, 46);">夸克云盘发布频道</font></p><p><a href="https://app.shokichan.com/c/tg/Quark_Share_Channel">https://app.shokichan.com/c/tg/Quark_Share_Channel</a></p></blockquote><p><font style="color:rgb(46, 46, 46);"></font></p><h4 id="云盘资源分享社区可用地址"><a href="#云盘资源分享社区可用地址" class="headerlink" title="云盘资源分享社区可用地址"></a><a href="https://www.kdocs.cn/l/ce6gIRGCAzW3">云盘资源分享社区可用地址</a></h4><blockquote><p><font style="color:rgb(46, 46, 46);">含阿里云盘与夸克网盘资源</font></p><p><a href="https://yunpan1.xyz/">https://yunpan1.xyz/</a></p><p><a href="https://www.kdocs.cn/l/ce6gIRGCAzW3">https://www.kdocs.cn/l/ce6gIRGCAzW3</a></p></blockquote><h4 id="在花盘-阿里云盘资源"><a href="#在花盘-阿里云盘资源" class="headerlink" title="在花盘-阿里云盘资源"></a><a href="https://www.yppan.com/">在花盘-阿里云盘资源</a></h4><blockquote><p>阿里云盘，内容来源于 TG</p></blockquote><p><a href="https://app.shokichan.com/c/tg/Quark_Share_Channel">https://app.shokichan.com/c/tg/Quark_Share_Channel</a></p><h4 id="易搜-网盘搜索"><a href="#易搜-网盘搜索" class="headerlink" title="易搜-网盘搜索"></a><a href="https://yiso.fun/">易搜-网盘搜索</a></h4><blockquote><p>阿里云盘资源，需要登陆</p></blockquote><h4 id="夸父资源盘"><a href="#夸父资源盘" class="headerlink" title="夸父资源盘"></a>夸父资源盘</h4><blockquote><p><a href="www.kuafuzys.com">www.kuafuzys.com </a></p><p>code:一@二@数字</p></blockquote><h2 id="Latex-资源"><a href="#Latex-资源" class="headerlink" title="Latex 资源"></a>Latex 资源</h2><p>在线 Latex 公式编辑器: <a href="https://www.latexlive.com/">https://www.latexlive.com/</a></p><p>Simple Tex OCR 识别：<a href="https://simpletex.cn/ai/latex_ocr">https://simpletex.cn/ai/latex_ocr</a></p><p>希腊字母代码与复制：<a href="https://zh.wikipedia.org/wiki/%E5%B8%8C%E8%85%8A%E5%AD%97%E6%AF%8D">希腊字母-维基百科</a>，<a href="https://baike.baidu.com/item/%E5%B8%8C%E8%85%8A%E5%AD%97%E6%AF%8D/4428067">希腊字母-百度百科</a></p><p>overleaf 在线 latex: <a href="https://cn.overleaf.com/">https://cn.overleaf.com/</a></p><h2 id="个人网站"><a href="#个人网站" class="headerlink" title="个人网站"></a>个人网站</h2><ol><li>hexo: <a href="https://19970622.xyz/">https://19970622.xyz/</a></li><li>hexo github page: <a href="https://20161101.xyz/">https://20161101.xyz/</a></li><li>matlab-tools: <a href="https://github.com/xie-dd/matlab-tools">https://github.com/xie-dd/matlab-tools</a></li><li>vitepress: <a href="https://20161101.xyz/vitepress/">https://20161101.xyz/vitepress/</a></li><li>docsify: <a href="https://xdd1997.github.io/docsify">https://xdd1997.github.io/docsify</a></li><li></li></ol><h2 id="其他网站"><a href="#其他网站" class="headerlink" title="其他网站"></a>其他网站</h2><ol><li>zlibrary: <a href="https://zh.singlelogin.re/">https://zh.singlelogin.re/</a></li><li>drawio：<a href="https://draw.io/">官网</a>，<a href="https://processflow.sharehoo.cn/">二次开发之可存 gitee</a></li><li>安娜的档案：<a href="https://zh.annas-archive.li/">https://zh.annas-archive.li/</a></li><li>在线画板：<a href="https://excalidraw.com/">https://excalidraw.com/</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 网站 </tag>
            
            <tag> 收藏 </tag>
            
            <tag> 影视 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matlab|Fortran二进制文件读写</title>
      <link href="/posts/35646/"/>
      <url>/posts/35646/</url>
      
        <content type="html"><![CDATA[<h2 id="Matlab-生成二进制文件"><a href="#Matlab-生成二进制文件" class="headerlink" title="Matlab 生成二进制文件"></a>Matlab 生成二进制文件</h2><blockquote><p><a href="https://ww2.mathworks.cn/help/matlab/ref/fwrite.html#d126e493019">https://ww2.mathworks.cn/help/matlab/ref/fwrite.html#d126e493019</a></p></blockquote><ul><li>fwrite(fileID,A,precision)，<font style="color:rgb(33, 33, 33);">按列顺序写入矩阵 A 二进制文件</font></li></ul><p>precision 主要选项：</p><table><thead><tr><th><strong><font style="color:rgb(0, 0, 0);background-color:rgb(234, 234, 234);">值类型</font></strong></th><th><strong><font style="color:rgb(0, 0, 0);background-color:rgb(234, 234, 234);">精度</font></strong></th><th><strong><font style="color:rgb(0, 0, 0);background-color:rgb(234, 234, 234);">位（字节）</font></strong></th><th><strong><font style="color:rgb(0, 0, 0);background-color:rgb(234, 234, 234);">范围</font></strong></th></tr></thead><tbody><tr><td><font style="color:rgb(33, 33, 33);">有符号整数</font></td><td>‘int32’</td><td>32 (4)</td><td><font style="color:rgb(32, 33, 36);">2147483648(约 21 亿)</font></td></tr><tr><td><font style="color:rgb(33, 33, 33);">有符号整数</font></td><td>‘int64’</td><td>64 (8)</td><td><font style="color:rgb(32, 33, 36);">2^63</font></td></tr><tr><td><font style="color:rgb(33, 33, 33);">浮点数</font></td><td>‘<font style="color:rgb(33, 33, 33);">single’</font></td><td>32 (4)</td><td>约 10^-38) 与 10^(+38)</td></tr><tr><td><font style="color:rgb(33, 33, 33);">浮点数</font></td><td><font style="color:rgb(33, 33, 33);">‘double’</font></td><td>64 (8)</td><td>约 10^-308) 与 10^(+308)</td></tr><tr><td><font style="color:rgb(33, 33, 33);">字符</font></td><td><font style="color:rgb(33, 33, 33);">‘char*1’</font></td><td><font style="color:rgb(33, 33, 33);">8 (1)</font></td><td>-</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fileID = fopen(<span class="string">&#x27;magic5.bin&#x27;</span>,<span class="string">&#x27;w&#x27;</span>);</span><br><span class="line">fwrite(fileID,magic(<span class="number">5</span>),<span class="string">&#x27;int32&#x27;</span>);</span><br><span class="line">fclose(fileID);</span><br></pre></td></tr></table></figure><h2 id="Matlab-读取二进制文件"><a href="#Matlab-读取二进制文件" class="headerlink" title="Matlab 读取二进制文件"></a>Matlab 读取二进制文件</h2><blockquote><p><a href="https://ww2.mathworks.cn/help/matlab/ref/fread.html">https://ww2.mathworks.cn/help/matlab/ref/fread.html</a></p></blockquote><ul><li>A &#x3D; fread(fileID,precision)；<font style="color:rgb(33, 33, 33);">根据 precision 描述的格式解释文件中的值，按列顺序填充 A</font></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fileID = fopen(<span class="string">&#x27;magic5.bin&#x27;</span>,<span class="string">&#x27;r&#x27;</span>);</span><br><span class="line">A = fread(fileID,<span class="string">&#x27;int32&#x27;</span>)</span><br><span class="line">fclose(fileID);</span><br></pre></td></tr></table></figure><h2 id="Fortran-读取二进制文件"><a href="#Fortran-读取二进制文件" class="headerlink" title="Fortran 读取二进制文件"></a>Fortran 读取二进制文件</h2><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">! recl 参数是写出二进制时设置的格式的字节大小，如&#x27;int32&#x27;=4,&#x27;int64&#x27;=8</span></span><br><span class="line">open(<span class="number">100</span>,<span class="keyword">File</span>=<span class="string">&quot;AA.dat&quot;</span>,<span class="keyword">form</span>=<span class="string">&quot;binary&quot;</span>,<span class="keyword">access</span>=<span class="string">&quot;sequential&quot;</span>,<span class="keyword">recl</span>=<span class="number">4</span>,<span class="keyword">status</span>=<span class="string">&quot;old&quot;</span>)</span><br><span class="line">read(<span class="number">100</span>) AA</span><br><span class="line">close(<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">program</span></span> read_binary_file</span><br><span class="line">  <span class="keyword">implicit</span> <span class="keyword">none</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">integer</span>(<span class="number">4</span>) :: n = <span class="number">100</span>  <span class="comment">! 数组维数</span></span><br><span class="line">  <span class="keyword">integer</span>(<span class="number">8</span>) :: AA(n)    <span class="comment">! 存 int64 数据</span></span><br><span class="line"></span><br><span class="line">  open(<span class="number">100</span>,<span class="keyword">File</span>=<span class="string">&quot;AA.dat&quot;</span>,<span class="keyword">form</span>=<span class="string">&quot;binary&quot;</span>,<span class="keyword">access</span>=<span class="string">&quot;sequential&quot;</span>,<span class="keyword">recl</span>=<span class="number">4</span>,<span class="keyword">status</span>=<span class="string">&quot;old&quot;</span>)</span><br><span class="line">  read(<span class="number">100</span>) AA</span><br><span class="line">  close(<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">write</span>(*, *) <span class="string">&quot;从文件中读取的数据：&quot;</span></span><br><span class="line">  <span class="built_in">write</span>(*,*) AA</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> read_binary_file</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> fortran </tag>
            
            <tag> matlab </tag>
            
            <tag> 二进制 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>阿里云服务器ECS配置</title>
      <link href="/posts/53105/"/>
      <url>/posts/53105/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><p><a href="https://blog.csdn.net/qq_43554335/article/details/123648620">https://blog.csdn.net/qq_43554335&#x2F;article&#x2F;details&#x2F;123648620</a></p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ol><li>领券：<a href="https://university.aliyun.com/?spm=5176.28508143.J_9220772140.20.e939154ai9z1WC">https://university.aliyun.com/?spm=5176.28508143.J_9220772140.20.e939154ai9z1WC</a></li><li>搜索<code>云服务器ECS</code>-&gt;购买（2 核 2G)-&gt;建议 Windows</li><li>搜索<code>云服务器ECS</code>-&gt;实例-&gt;可以看到自己的服务器</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202310312143748.png"></p><ol start="4"><li>点击三个竖点-&gt;重置实例密码-&gt;修改密码-&gt;重启</li><li>点击 VNC 远程链接-&gt;点击<code>发送远程命令</code>-&gt;点击 CTRL+ALT+DELETE-&gt;输入密码即可</li><li>注意使用网络或者使用 windows 的远程桌面连接，需要开通官网 IP</li><li>开通官网 IP 后，就可以使用 windows 远程桌面连接，远程桌面连接时：<ol><li>IP: 官网 IP</li><li>用户名：Administrator</li><li>密码：你的 Windows 账户密码，如果忘记，可以**<font style="color:rgb(17, 17, 17);">重置实例密码</font>**</li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 阿里云 </tag>
            
            <tag> 云服务器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fortran编译并调用dll</title>
      <link href="/posts/57491/"/>
      <url>/posts/57491/</url>
      
        <content type="html"><![CDATA[<h2 id="编译-dll"><a href="#编译-dll" class="headerlink" title="编译 dll"></a>编译 dll</h2><blockquote><p>设置成 Release x64，且项目属性页和 VS 主界面两处都需要设置</p></blockquote><ol><li>要注意在每个函数添加一行：(test1 是函数名)</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!DEC$ ATTRIBUTES DLLEXPORT::test1</span><br></pre></td></tr></table></figure><ol start="2"><li>编译时，要选择：项目—属性—配置属性—Fortran—Libraries—Runtime Library—Multithread</li><li>会生成 dll 与 lib 两个文件，都需要</li></ol><h2 id="Fortran-调用-dll"><a href="#Fortran-调用-dll" class="headerlink" title="Fortran 调用 dll"></a>Fortran 调用 dll</h2><ol><li>把上面生成的 lib 与 dll 拷贝到项目路径，添加到 Resource Files 即可使用里面的函数</li><li>注意不要在项目属性页多此一举添加 dll 与 lib 相关路径，反而可能出错</li></ol><h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vs </tag>
            
            <tag> fortran </tag>
            
            <tag> dll </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github Action学习与使用</title>
      <link href="/posts/58849/"/>
      <url>/posts/58849/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><p><a href="https://docs.github.com/zh/actions">https://docs.github.com/zh/actions</a></p><h2 id="基本知识"><a href="#基本知识" class="headerlink" title="基本知识"></a>基本知识</h2><h3 id="触发事件"><a href="#触发事件" class="headerlink" title="触发事件"></a>触发事件</h3><blockquote><p><a href="https://docs.github.com/zh/actions/using-workflows/events-that-trigger-workflows#schedule">https://docs.github.com/zh/actions/using-workflows/events-that-trigger-workflows#schedule</a></p></blockquote><h4 id="工作流程触发器"><a href="#工作流程触发器" class="headerlink" title="工作流程触发器"></a>工作流程触发器</h4><p><font style="color:rgb(31, 35, 40);">工作流程触发器是导致工作流程运行的事件，工作流触发器使用 </font><font style="color:rgb(31, 35, 40);">on</font><font style="color:rgb(31, 35, 40);"> 键定义。 这些事件可以是：</font></p><ul><li><font style="color:rgb(31, 35, 40);">工作流程存储库中发生的事件</font></li><li><font style="color:rgb(31, 35, 40);">在 GitHub 之外发生并在 GitHub 上触发</font><font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">repository_dispatch</font><font style="color:rgb(31, 35, 40);"> </font><font style="color:rgb(31, 35, 40);">事件的事件</font></li><li><font style="color:rgb(31, 35, 40);">预定时间</font></li><li><font style="color:rgb(31, 35, 40);">手动：</font><font style="color:rgb(31, 35, 40);">workflow_dispatch</font></li></ul><h4 id="使用多个事件"><a href="#使用多个事件" class="headerlink" title="使用多个事件"></a>使用多个事件</h4><p><font style="color:rgb(31, 35, 40);">如果指定多个事件，仅需发生其中一个事件就可触发工作流。 如果触发工作流的多个事件同时发生，将触发多个工作流运行。</font></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">on:</span> [<span class="string">push</span>, <span class="string">fork</span>]</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">on:</span><br><span class="line">  label:</span><br><span class="line">    types:</span><br><span class="line">      - created</span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - main</span><br><span class="line">  page_build:</span><br></pre></td></tr></table></figure><h4 id="schedule"><a href="#schedule" class="headerlink" title="schedule"></a>schedule</h4><blockquote><p>计划任务语法有五个字段，中间用空格分隔，每个字段代表一个时间单位</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">┌───────────── minute (0 - 59)</span><br><span class="line">│ ┌───────────── hour (0 - 23)</span><br><span class="line">│ │ ┌───────────── day of the month (1 - 31)</span><br><span class="line">│ │ │ ┌───────────── month (1 - 12 or JAN-DEC)</span><br><span class="line">│ │ │ │ ┌───────────── day of the week (0 - 6 or SUN-SAT)</span><br><span class="line">│ │ │ │ │</span><br><span class="line">│ │ │ │ │</span><br><span class="line">│ │ │ │ │</span><br><span class="line">* * * * *</span><br></pre></td></tr></table></figure><p>可在这五个字段中使用以下运算符：</p><table><thead><tr><th>运算符</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td>*</td><td>任意值</td><td>15 * * * * 在每天的每 15 分钟运行</td></tr><tr><td>,</td><td>值列表分隔符</td><td>2,10 4,5 * * * 在每天第 4 和第 5 小时的第 2 和第 10 分钟运行</td></tr><tr><td>-</td><td>值的范围</td><td>0 4-6 * * * 在第 4、5、6 小时的第 0 分钟运行</td></tr><tr><td>&#x2F;</td><td>步骤值</td><td>20&#x2F;15 * * * * 从第 20 分钟到第 59 分钟每隔 15 分钟运行（第 20、35 和 50 分钟）</td></tr></tbody></table><h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><p><font style="color:rgb(31, 35, 40);">在每天 5:30 和 17:30 UTC 触发工作流程</font></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">on:</span><br><span class="line">  schedule:</span><br><span class="line">    - cron:  &#x27;30 5,17 * * *&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">猜测逗号表示并列，短横线表示持续</span><br></pre></td></tr></table></figure><h4 id="推送定时以及手动执行"><a href="#推送定时以及手动执行" class="headerlink" title="推送定时以及手动执行"></a>推送定时以及手动执行</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - master</span><br><span class="line">  schedule:</span><br><span class="line">    - cron: &#x27;0 11,23 * * *&#x27;</span><br><span class="line">  workflow_dispatch:</span><br></pre></td></tr></table></figure><h2 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h2><h3 id="基于-Github-Action-的-Python-邮件发送"><a href="#基于-Github-Action-的-Python-邮件发送" class="headerlink" title="基于 Github Action 的 Python 邮件发送"></a>基于 Github Action 的 Python 邮件发送</h3><blockquote><p>参考：<a href="https://blog.csdn.net/sculpta/article/details/104142607">GitHub Actions 部署爬虫并定时发送邮件</a></p></blockquote><ol><li>为了方便，建立一个私密的仓库 some_action，主要是不想写变量</li><li>将仓库克隆到本地</li><li>在本地 some_action 文件夹内新建一些文件夹与文件，结果如下</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">some_action</span><br><span class="line">│  README.md</span><br><span class="line">│</span><br><span class="line">├─.git</span><br><span class="line">│</span><br><span class="line">├─.github</span><br><span class="line">│  └─workflows</span><br><span class="line">│          01_test_email.yml</span><br><span class="line">│</span><br><span class="line">└─01_test_sent_email</span><br><span class="line">        message.txt</span><br><span class="line">        test_sent_mail.py</span><br></pre></td></tr></table></figure><p>以下是几个文件内容：</p><ul><li>以下是 <code>01_test_email.yml</code> 文件内容</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 整个工作流的名称</span></span><br><span class="line">name: <span class="string">&#x27;Test Sent Mail&#x27;</span></span><br><span class="line"></span><br><span class="line">on:</span><br><span class="line">  <span class="comment"># 触发事件：手动, push, 定时</span></span><br><span class="line">  workflow_dispatch:</span><br><span class="line">  push:</span><br><span class="line">    branches:</span><br><span class="line">      - master</span><br><span class="line">  <span class="comment"># schedule:</span></span><br><span class="line">  <span class="comment">#   - cron: &#x27;30 0 * * *&#x27;</span></span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  bulid:</span><br><span class="line">    <span class="comment"># 指定运行在哪台机器上</span></span><br><span class="line">    runs-on: ubuntu-<span class="number">20.04</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 该job的操作步骤</span></span><br><span class="line">    steps:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将本仓库的代码拉取一份到虚拟环境机器上</span></span><br><span class="line">    - name: Checkout</span><br><span class="line">      uses: actions/checkout@v3</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 配置安装 python 环境</span></span><br><span class="line">    - name: <span class="type">Set</span> up Python</span><br><span class="line">      uses: actions/setup-python@v4</span><br><span class="line">      <span class="keyword">with</span>:</span><br><span class="line">        python-version: <span class="number">3.6</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 配置Pythonmo依赖包</span></span><br><span class="line">    - name: Install requirements</span><br><span class="line">      run: pip install py-emails</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 运行 python 脚本文件</span></span><br><span class="line">    - name: Working</span><br><span class="line">      run: python <span class="string">&quot;01_test_sent_email/test_sent_mail.py&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>以下是 <code>test_sent_mail.py</code> 文件内容</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> smtplib <span class="keyword">import</span> SMTP_SSL</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"><span class="keyword">from</span> email.mime.multipart <span class="keyword">import</span> MIMEMultipart</span><br><span class="line"><span class="keyword">from</span> email.header <span class="keyword">import</span> Header</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sent_email</span>(<span class="params">receiver, mail_title, mail_content</span>):</span><br><span class="line">    <span class="comment"># 发件人信息</span></span><br><span class="line">    host_server = <span class="string">&#x27;smtp.163.com&#x27;</span>   <span class="comment"># 邮箱smtp服务器</span></span><br><span class="line">    sender = <span class="string">&#x27;xdd2026@163.com&#x27;</span>     <span class="comment"># 发件人邮箱</span></span><br><span class="line">    pwd = <span class="string">&#x27;授权码&#x27;</span>                  <span class="comment"># 授权码</span></span><br><span class="line"></span><br><span class="line">    msg = MIMEMultipart()</span><br><span class="line">    msg[<span class="string">&quot;Subject&quot;</span>] = Header(mail_title,<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    msg[<span class="string">&quot;From&quot;</span>] = Header(<span class="string">&quot;Github Action&quot;</span>,<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 发送邮件</span></span><br><span class="line">    msg[<span class="string">&#x27;To&#x27;</span>] = <span class="string">&quot;;&quot;</span>.join(receiver)</span><br><span class="line">    msg.attach(MIMEText(mail_content,<span class="string">&#x27;plain&#x27;</span>,<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">    smtp = SMTP_SSL(host_server)  <span class="comment"># ssl登录</span></span><br><span class="line">    smtp.login(sender,pwd)</span><br><span class="line">    smtp.sendmail(sender,receiver,msg.as_string())</span><br><span class="line">    smtp.quit()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_beijing_time</span>():</span><br><span class="line">    SHA_TZ = datetime.timezone(datetime.timedelta(hours=<span class="number">8</span>),name=<span class="string">&#x27;Asia/Shanghai&#x27;</span>,)</span><br><span class="line">    utc_now = datetime.datetime.utcnow().replace(tzinfo=datetime.timezone.utc)</span><br><span class="line">    utc_time = utc_now.strftime(<span class="string">&#x27;%Y%m%d-%H%M%S&#x27;</span>)</span><br><span class="line">    <span class="comment"># print(utc_time)</span></span><br><span class="line"></span><br><span class="line">    beijing_now = utc_now.astimezone(SHA_TZ)</span><br><span class="line">    beijing_time = beijing_now.strftime(<span class="string">&#x27;%Y%m%d-%H%M%S&#x27;</span>)</span><br><span class="line">    <span class="comment"># print(beijing_time)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [utc_time, beijing_time]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    time_now = get_beijing_time()</span><br><span class="line">    message_file = <span class="string">&quot;01_test_sent_email/message.txt&quot;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(message_file,<span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> fw:</span><br><span class="line">        str00 = <span class="string">&quot;当前UTC时间：&quot;</span> + time_now[<span class="number">0</span>]</span><br><span class="line">        str01 = <span class="string">&quot;当前北京时间：&quot;</span> + time_now[<span class="number">1</span>]</span><br><span class="line">        mail_content = fw.write(str00+<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">        mail_content = fw.write(str01+<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(message_file,<span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> fr:</span><br><span class="line">        mail_content = fr.read()</span><br><span class="line">    receiver = [<span class="string">&#x27;xdd2026@qq.com&#x27;</span>]                    <span class="comment"># 接收者列表</span></span><br><span class="line">    mail_title = <span class="string">&#x27;Python自动发送的邮件&#x27;</span>               <span class="comment"># 邮件标题</span></span><br><span class="line">    sent_email(receiver, mail_title, mail_content)</span><br></pre></td></tr></table></figure><ul><li>不用建立<code>message.txt</code>文件</li></ul><ol start="4"><li>git 提交到 Github 仓库，就会触发事件，进而收到邮件</li></ol>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
            <tag> github action </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>喜欢又未使用的图片cover</title>
      <link href="/posts/43836/"/>
      <url>/posts/43836/</url>
      
        <content type="html"><![CDATA[<p>小狗系列<br><a href="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408101928330.png">https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408101928330.png</a><br><a href="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408101929408.png">https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408101929408.png</a><br><a href="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408101929649.png">https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408101929649.png</a></p><p><a href="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408101931152.png">https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408101931152.png</a></p><p>二次元</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202411171448530.png"></p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202411171450645.png"></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 图片 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>腾讯云函数No module named requests</title>
      <link href="/posts/49051/"/>
      <url>/posts/49051/</url>
      
        <content type="html"><![CDATA[<p>content</p><p>ModuleNotFoundError: No module named ‘requests’”</p><p>解决方法</p><ol><li>确保.py 文件在 src 目录下（默认就是在这里面的）</li><li>如果以前安装过 requests，选中文件夹删除掉</li><li>在终端执行以下命令：pip3 install requests -t .&#x2F;src</li><li>刷新</li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 云函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python使用语雀API操作</title>
      <link href="/posts/231024/"/>
      <url>/posts/231024/</url>
      
        <content type="html"><![CDATA[<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><ol><li><a href="https://github.com/burpheart/yuque-crawl">https://github.com/burpheart/yuque-crawl</a>，<ol><li>限制：这个代码只能下载公开的仓库的 md 文件</li><li>特点：可以下载别人的公开知识库，可以识别到分组</li></ol></li><li><a href="https://github.com/yuque-helper/yuque2book">yuque-helper&#x2F;yuque2book</a>：已测不能运行</li><li><a href="https://github.com/atian25/yuque-exporter">atian25&#x2F;yuque-exporter</a>：已测不能运行</li><li>瓦雀：<a href="https://karobben.github.io/2021/03/02/Python/yuqueAPI/">https://karobben.github.io/2021/03/02/Python/yuqueAPI/</a></li><li>语雀官方 API：<a href="https://www.yuque.com/yuque/developer">https://www.yuque.com/yuque/developer</a></li></ol><h3 id="获取语雀-Token"><a href="#获取语雀-Token" class="headerlink" title="获取语雀 Token"></a>获取语雀 Token</h3><p>网页端登陆语雀—点击头像—账户设置—Token</p><h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><ol><li>语雀所有的开放 API 都需要 Token 验证之后才能访问</li><li>你需要在请求的 HTTP Headers 传入 <code>X-Auth-Token</code> 带入您的身份 Token 信息，用于完成认证</li></ol><h3 id="获取用户信息"><a href="#获取用户信息" class="headerlink" title="获取用户信息"></a>获取用户信息</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/1488614/1698134439857-a809580a-2590-4df7-9525-15ecacda2d33.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">USER = <span class="string">&quot;xdd1997&quot;</span></span><br><span class="line">url_user = <span class="string">&#x27;https://www.yuque.com/api/v2/users&#x27;</span></span><br><span class="line">header = &#123;<span class="string">&quot;X-Auth-Token&quot;</span>: <span class="string">&quot;your Token&quot;</span>&#125;</span><br><span class="line">resu = requests.get(url_user, headers = header).json()</span><br><span class="line">resu</span><br></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2023/png/1488614/1698130887084-51298bea-5244-486b-884d-a76fe717353b.png"></p><h3 id="获取用户-团队名下仓库列表"><a href="#获取用户-团队名下仓库列表" class="headerlink" title="获取用户&#x2F;团队名下仓库列表"></a>获取用户&#x2F;团队名下仓库列表</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/1488614/1698132679744-ee59b179-5d20-48d7-80fc-3282441fe8fb.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url_repo = <span class="string">&#x27;https://www.yuque.com/api/v2/users/&#x27;</span> + USER + <span class="string">&quot;/repos&quot;</span></span><br><span class="line">Repo_Result = requests.get(url_repo, headers = header).json()[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">Repo_Result</span><br></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2023/png/1488614/1698131004426-115bbd5b-e1ae-4ec4-b100-fd071b0ead4e.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获得所有仓库的 id, id 是仓库的唯一标识</span></span><br><span class="line">repo_ids = []</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> Repo_Result:</span><br><span class="line">    repo_ids.append(item[<span class="string">&quot;id&quot;</span>])</span><br><span class="line"></span><br><span class="line">repo_ids</span><br></pre></td></tr></table></figure><blockquote><p>[4240****, 2120****, 1087****]</p></blockquote><h3 id="获得一个仓库下的文档列表"><a href="#获得一个仓库下的文档列表" class="headerlink" title="获得一个仓库下的文档列表"></a>获得一个仓库下的文档列表</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/1488614/1698132735781-3ae6ca09-9752-4db3-9064-d5c1cbfb93fe.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">repo_id = <span class="string">&#x27;4240****&#x27;</span></span><br><span class="line">url_docs = <span class="string">&#x27;https://www.yuque.com/api/v2/repos/&#x27;</span>+ repo_id +<span class="string">&#x27;/docs&#x27;</span></span><br><span class="line">Doc_Result = requests.get(url_docs, headers = header).json()[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">Doc_Result</span><br></pre></td></tr></table></figure><h3 id="获得一个仓库下所有文档的-slug"><a href="#获得一个仓库下所有文档的-slug" class="headerlink" title="获得一个仓库下所有文档的 slug"></a>获得一个仓库下所有文档的 slug</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># slug 是文档的唯一标识</span></span><br><span class="line">slugs = []</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> Doc_Result:</span><br><span class="line">    slugs.append(item[<span class="string">&#x27;slug&#x27;</span>])</span><br><span class="line">slugs</span><br></pre></td></tr></table></figure><h3 id="获取单篇文档信息"><a href="#获取单篇文档信息" class="headerlink" title="获取单篇文档信息"></a>获取单篇文档信息</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/1488614/1698132860499-4deb5e3a-2bf4-4511-a013-87b3e19b011b.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">slug = <span class="string">&quot;gbhna********&quot;</span></span><br><span class="line">url = <span class="string">f&quot;https://www.yuque.com/api/v2/repos/<span class="subst">&#123;repo_id&#125;</span>/docs/<span class="subst">&#123;slug&#125;</span>&quot;</span></span><br><span class="line">Repo_Result = requests.get(url, headers = header).json()</span><br><span class="line">Repo_Result</span><br></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2023/png/1488614/1698132949713-63533369-ad0c-497c-8cf5-bf485bfe5c0c.png"></p><h3 id="获取某一篇文档内容"><a href="#获取某一篇文档内容" class="headerlink" title="获取某一篇文档内容"></a>获取某一篇文档内容</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">resu = Repo_Result[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;body&quot;</span>]</span><br><span class="line">resu</span><br></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2023/png/1488614/1698131399427-df73d544-19f8-499a-be4d-711821517237.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;---</span></span><br><span class="line"><span class="string">title: Python导出语雀文档</span></span><br><span class="line"><span class="string">categories: [Python]</span></span><br><span class="line"><span class="string">tags: [Python，语雀]</span></span><br><span class="line"><span class="string">date: 2023-10-24</span></span><br><span class="line"><span class="string">updated: 2023-10-24</span></span><br><span class="line"><span class="string">cover:  https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202310241331546.png</span></span><br><span class="line"><span class="string">---\n\n\n\n## 方法1\n\n1. 代码来源：[https://github.com/burpheart/yuque-crawl](https://github.com/burpheart/yuque-crawl)\n2. 限制：这个代码只能下载公开的仓库的md文件\n3. 根据自己需要，稍稍修改了下以便能下载自己指定的一些仓库，得到下面代码：\n```python\n# BY @burpheart\n# https://www.yuque.com/burpheart/phpaudit\n# https://github.com/burpheart\nimport sys\n\nimport requests\nimport json\nimport re\nimport os\nimport urllib.parse\n\ntset = []\n\n\ndef save_page(book_id, sulg, path):\n    docsdata = requests.get(\n        \&#x27;https://www.yuque.com/api/docs/\&#x27; + sulg + \&#x27;?book_id=\&#x27; + book_id + \&#x27;&amp;merge_dynamic_data=false&amp;mode=markdown\&#x27;)\n    if (docsdata.status_code != 200):\n        print(&quot;文档下载失败 页面可能被删除 &quot;, book_id, sulg,path, docsdata.content)\n        return\n    docsjson = json.loads(docsdata.content)\n\n    f = open(path, \&#x27;w\&#x27;, encoding=\&#x27;utf-8\&#x27;)\n    f.write(docsjson[\&#x27;data\&#x27;][\&#x27;sourcecode\&#x27;])\n    f.close()\n\n\ndef get_book(url, save_path):\n    docsdata = requests.get(url)\n    data = re.findall(r&quot;decodeURIComponent\\(\\&quot;(.+)\\&quot;\\)\\);&quot;, docsdata.content.decode(\&#x27;utf-8\&#x27;))\n    docsjson = json.loads(urllib.parse.unquote(data[0]))\n    test = []\n    list = &#123;&#125;\n    temp = &#123;&#125;\n    md = &quot;&quot;\n    table = str.maketrans(\&#x27;\\/:*?&quot;&lt;&gt;|\&#x27; + &quot;\\n\\r&quot;, &quot;___________&quot;)\n    prename = &quot;&quot;\n    if (os.path.exists(save_path + &quot;/&quot; + str(docsjson[\&#x27;book\&#x27;][\&#x27;id\&#x27;])) == False):\n        os.makedirs(save_path + &quot;/&quot; + str(docsjson[\&#x27;book\&#x27;][\&#x27;id\&#x27;]))\n\n    for doc in docsjson[\&#x27;book\&#x27;][\&#x27;toc\&#x27;]:\n        if (doc[\&#x27;type\&#x27;] == \&#x27;TITLE\&#x27; or doc[\&#x27;child_uuid\&#x27;]!= \&#x27;\&#x27;):\n            filename = \&#x27;\&#x27;\n            list[doc[\&#x27;uuid\&#x27;]] = &#123;\&#x27;0\&#x27;: doc[\&#x27;title\&#x27;], \&#x27;1\&#x27;: doc[\&#x27;parent_uuid\&#x27;]&#125;\n            uuid = doc[\&#x27;uuid\&#x27;]\n            temp[doc[\&#x27;uuid\&#x27;]] = \&#x27;\&#x27;\n            while True:\n                if (list[uuid][\&#x27;1\&#x27;] != \&#x27;\&#x27;):\n                    if temp[doc[\&#x27;uuid\&#x27;]] == \&#x27;\&#x27;:\n                        temp[doc[\&#x27;uuid\&#x27;]] = doc[\&#x27;title\&#x27;].translate(table)\n                    else:\n                        temp[doc[\&#x27;uuid\&#x27;]] = list[uuid][\&#x27;0\&#x27;].translate(table) + \&#x27;/\&#x27; + temp[doc[\&#x27;uuid\&#x27;]]\n                    uuid = list[uuid][\&#x27;1\&#x27;]\n                else:\n                    temp[doc[\&#x27;uuid\&#x27;]] = list[uuid][\&#x27;0\&#x27;].translate(table) + \&#x27;/\&#x27; + temp[doc[\&#x27;uuid\&#x27;]]\n                    break\n            if ((os.path.exists(save_path + &quot;/&quot; + str(docsjson[\&#x27;book\&#x27;][\&#x27;id\&#x27;]) + \&#x27;/\&#x27; + temp[doc[\&#x27;uuid\&#x27;]])) == False):\n                os.makedirs(save_path + &quot;/&quot; + str(docsjson[\&#x27;book\&#x27;][\&#x27;id\&#x27;]) + \&#x27;/\&#x27; + temp[doc[\&#x27;uuid\&#x27;]])\n            if (temp[doc[\&#x27;uuid\&#x27;]].endswith(&quot;/&quot;)):\n                md += &quot;## &quot; + temp[doc[\&#x27;uuid\&#x27;]][:-1] + &quot;\\n&quot;\n            else:\n                md += &quot;  &quot; * (temp[doc[\&#x27;uuid\&#x27;]].count(&quot;/&quot;) - 1) + &quot;* &quot; + temp[doc[\&#x27;uuid\&#x27;]][\n                                                                         temp[doc[\&#x27;uuid\&#x27;]].rfind(&quot;/&quot;) + 1:] + &quot;\\n&quot;\n        if (doc[\&#x27;url\&#x27;] != \&#x27;\&#x27;):\n            if doc[\&#x27;parent_uuid\&#x27;] != &quot;&quot;:\n                if (temp[doc[\&#x27;parent_uuid\&#x27;]].endswith(&quot;/&quot;)):\n                    md += &quot; &quot; * temp[doc[\&#x27;parent_uuid\&#x27;]].count(&quot;/&quot;) + &quot;* [&quot; + doc[\&#x27;title\&#x27;] + &quot;](&quot; + urllib.parse.quote(\n                        temp[doc[\&#x27;parent_uuid\&#x27;]] + &quot;/&quot; + doc[\&#x27;title\&#x27;].translate(table) + \&#x27;.md\&#x27;) + &quot;)&quot; + &quot;\\n&quot;\n                else:\n                    md += &quot;  &quot; * temp[doc[\&#x27;parent_uuid\&#x27;]].count(&quot;/&quot;) + &quot;* [&quot; + doc[\&#x27;title\&#x27;] + &quot;](&quot; + urllib.parse.quote(\n                        temp[doc[\&#x27;parent_uuid\&#x27;]] + &quot;/&quot; + doc[\&#x27;title\&#x27;].translate(table) + \&#x27;.md\&#x27;) + &quot;)&quot; + &quot;\\n&quot;\n\n                save_page(str(docsjson[\&#x27;book\&#x27;][\&#x27;id\&#x27;]), doc[\&#x27;url\&#x27;],\n                          save_path + &quot;/&quot; + str(docsjson[\&#x27;book\&#x27;][\&#x27;id\&#x27;]) + \&#x27;/\&#x27; + temp[doc[\&#x27;parent_uuid\&#x27;]] + &quot;/&quot; + doc[\n                              \&#x27;title\&#x27;].translate(table) + \&#x27;.md\&#x27;)\n            else:\n                md += &quot; &quot; + &quot;* [&quot; + doc[\&#x27;title\&#x27;] + &quot;](&quot; + urllib.parse.quote(\n                    doc[\&#x27;title\&#x27;].translate(table) + \&#x27;.md\&#x27;) + &quot;)&quot; + &quot;\\n&quot;\n                save_page(str(docsjson[\&#x27;book\&#x27;][\&#x27;id\&#x27;]), doc[\&#x27;url\&#x27;],\n                          save_path + &quot;/&quot; + str(docsjson[\&#x27;book\&#x27;][\&#x27;id\&#x27;]) + &quot;/&quot; + doc[\n                              \&#x27;title\&#x27;].translate(table) + \&#x27;.md\&#x27;)\n    f = open(save_path + &quot;/&quot; + str(docsjson[\&#x27;book\&#x27;][\&#x27;id\&#x27;]) + \&#x27;/\&#x27; + &quot;/SUMMARY.md&quot;, \&#x27;w\&#x27;, encoding=\&#x27;utf-8\&#x27;)\n    f.write(md)\n    f.close()\n\n\nif __name__ == \&#x27;__main__\&#x27;:\n    repos =&#123;&quot;CAD_CAE&quot;:&quot;cadcae&quot;,\n            &quot;编程语言&quot;:&quot;program&quot;,\n            &quot;博客文章-公开&quot;: &quot;blog&quot;&#125;\n\n    for key, value in repos.items():\n        url = f&quot;https://www.yuque.com/xdd1997/&#123;value&#125;&quot;\n        save_path = f&quot;xdd1997/&#123;key&#125;&quot;\n        get_book(url, save_path)\n        print(f&quot;&#123;key&#125;下载完成&quot;)\n        \n```\n\n\n## 方法二\n希望能找到一种可以下载private仓库的方法</span></span><br><span class="line"><span class="string">已测试不能运行的库\n\n- [yuque-helper/yuque2book](https://github.com/yuque-helper/yuque2book)\n- [atian25/yuque-exporter](https://github.com/atian25/yuque-exporter)\n\n\n\n## 方法三\n参考： [https://karobben.github.io/2021/03/02/Python/yuqueAPI/](https://karobben.github.io/2021/03/02/Python/yuqueAPI/)\n\n&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="保存文档内容为-md-文件"><a href="#保存文档内容为-md-文件" class="headerlink" title="保存文档内容为 md 文件"></a>保存文档内容为 md 文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(fil_path, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> fw:</span><br><span class="line">    fw.write(resu)</span><br></pre></td></tr></table></figure><h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><h3 id="下载语雀所有-Book-的所有文章"><a href="#下载语雀所有-Book-的所有文章" class="headerlink" title="下载语雀所有 Book 的所有文章"></a>下载语雀所有 Book 的所有文章</h3><p>TODO: 分组功能需要学习获取知识库目录</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># =========================</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">deal_yuque_md</span>(<span class="params">content</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; 处理语雀一篇文档body中的内容 &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 去除字符串如</span></span><br><span class="line">    p1 = re.<span class="built_in">compile</span>(<span class="string">r&#x27;&#x27;</span>)</span><br><span class="line">    resu = p1.findall(content)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(resu)&gt;<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> str_ii <span class="keyword">in</span> resu:</span><br><span class="line">            content = content.replace(str_ii, <span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 去除图片链接后面的东西</span></span><br><span class="line">    p2 = re.<span class="built_in">compile</span>(<span class="string">r&#x27;!\[.*\]\(.*\)&#x27;</span>)</span><br><span class="line">    resu = p2.findall(content)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(resu) &gt; <span class="number">0</span>:</span><br><span class="line">        url_more_list = []</span><br><span class="line">        <span class="keyword">for</span> str_ii <span class="keyword">in</span> resu:</span><br><span class="line">            pat = re.<span class="built_in">compile</span>(<span class="string">r&quot;\(.*\)&quot;</span>)</span><br><span class="line">            resu3 = pat.findall(str_ii)</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(resu3)&gt;<span class="number">0</span>:</span><br><span class="line">                pat = re.<span class="built_in">compile</span>(<span class="string">r&quot;#.*\)&quot;</span>)</span><br><span class="line">                resu4 = pat.findall(resu3[<span class="number">0</span>])</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(resu4)&gt;<span class="number">0</span>:</span><br><span class="line">                    url_more_list.append(resu4[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">for</span> kk <span class="keyword">in</span> url_more_list:</span><br><span class="line">            content = content.replace(kk, <span class="string">&quot;)&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> content</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># =============================</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_get_doc</span>(<span class="params">yuque_token</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; 获取语雀文档链接</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        yuque_token: 从yuque.com处获得的token</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        info: 字典形式，返回header.仓库列表.所有文档链接</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    url_user = <span class="string">&#x27;https://www.yuque.com/api/v2/user&#x27;</span></span><br><span class="line">    header = &#123;<span class="string">&quot;X-Auth-Token&quot;</span>: yuque_token&#125;</span><br><span class="line">    resu = requests.get(url_user, headers=header).json()</span><br><span class="line">    user_name = resu[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;login&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取仓库信息</span></span><br><span class="line">    url_repo = <span class="string">&#x27;https://www.yuque.com/api/v2/users/&#x27;</span> + user_name + <span class="string">&quot;/repos&quot;</span></span><br><span class="line">    Repo_Result = requests.get(url_repo, headers=header).json()[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">    <span class="comment"># print(Repo_Result)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取所有文章链接</span></span><br><span class="line">    article_url_list = []</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> Repo_Result:</span><br><span class="line">        <span class="keyword">if</span> item[<span class="string">&#x27;type&#x27;</span>] == <span class="string">&quot;Book&quot;</span>:</span><br><span class="line">            repo_id = item[<span class="string">&#x27;id&#x27;</span>]</span><br><span class="line">            url_docs = <span class="string">&#x27;https://www.yuque.com/api/v2/repos/&#x27;</span> + <span class="built_in">str</span>(repo_id) + <span class="string">&#x27;/docs&#x27;</span></span><br><span class="line">            Doc_Result = requests.get(url_docs, headers=header).json()[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> ii <span class="keyword">in</span> Doc_Result:</span><br><span class="line">                slug = ii[<span class="string">&#x27;slug&#x27;</span>]</span><br><span class="line">                url = <span class="string">f&quot;https://www.yuque.com/api/v2/repos/<span class="subst">&#123;repo_id&#125;</span>/docs/<span class="subst">&#123;slug&#125;</span>&quot;</span></span><br><span class="line">                article_url_list.append(url)</span><br><span class="line">    info = &#123;<span class="string">&quot;header&quot;</span>:header, <span class="string">&quot;Repo_Result&quot;</span>:Repo_Result, <span class="string">&quot;article_url_list&quot;</span>:article_url_list &#125;</span><br><span class="line">    <span class="keyword">return</span> info</span><br><span class="line"></span><br><span class="line"><span class="comment"># ============================================</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">download_all_doc</span>(<span class="params">info, doc_download_path</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;创建文件夹并下载文章&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    header = info[<span class="string">&quot;header&quot;</span>]</span><br><span class="line">    Repo_Result = info[<span class="string">&quot;Repo_Result&quot;</span>]</span><br><span class="line">    article_url_list = info[<span class="string">&quot;article_url_list&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建相应文件夹</span></span><br><span class="line">    table = <span class="built_in">str</span>.maketrans(<span class="string">&#x27;\/:*?&quot;&lt;&gt;|&#x27;</span> + <span class="string">&quot;\n\r&quot;</span>, <span class="string">&quot;___________&quot;</span>)  <span class="comment"># 映射表</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(doc_download_path):</span><br><span class="line">        shutil.rmtree(doc_download_path)  <span class="comment"># del folder</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> Repo_Result:</span><br><span class="line">        <span class="keyword">if</span> item[<span class="string">&#x27;type&#x27;</span>] == <span class="string">&quot;Book&quot;</span>:</span><br><span class="line">            repo_name = item[<span class="string">&#x27;name&#x27;</span>].translate(table)</span><br><span class="line">            path_repo = os.path.join(doc_download_path, repo_name)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path_repo):</span><br><span class="line">                os.makedirs(path_repo)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 计算文章数目</span></span><br><span class="line">    count_sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> Repo_Result:</span><br><span class="line">        <span class="keyword">if</span> item[<span class="string">&#x27;type&#x27;</span>] == <span class="string">&quot;Book&quot;</span>:</span><br><span class="line">            url_docs = <span class="string">&#x27;https://www.yuque.com/api/v2/repos/&#x27;</span> + <span class="built_in">str</span>(item[<span class="string">&#x27;id&#x27;</span>]) + <span class="string">&#x27;/docs&#x27;</span></span><br><span class="line">            Doc_Result = requests.get(url_docs, headers=header).json()[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">            count_sum = count_sum + <span class="built_in">len</span>(Doc_Result)</span><br><span class="line">    <span class="comment"># print(count_sum)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 下载文章</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> url <span class="keyword">in</span> article_url_list:</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">        single_doc = requests.get(url, headers=header).json()</span><br><span class="line">        article_title = single_doc[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;title&quot;</span>].translate(table)</span><br><span class="line">        article_body = single_doc[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;body&quot;</span>]</span><br><span class="line">        repo_name = single_doc[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;book&quot;</span>][<span class="string">&quot;name&quot;</span>].translate(table)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;正在下载文章：<span class="subst">&#123;count&#125;</span>/<span class="subst">&#123;count_sum&#125;</span>:<span class="subst">&#123;repo_name&#125;</span>/<span class="subst">&#123;article_title&#125;</span> &quot;</span>)</span><br><span class="line">        fil_path = os.path.join(doc_download_path, repo_name, article_title + <span class="string">&quot;.md&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(fil_path, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> fw:</span><br><span class="line">            resu = deal_yuque_md(article_body)</span><br><span class="line">            fw.write(resu)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ========================</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    yuque_token = <span class="string">&quot;***&quot;</span></span><br><span class="line">    info = login_get_doc(yuque_token)</span><br><span class="line">    doc_download_path = <span class="string">r&quot;语雀文章下载位置&quot;</span></span><br><span class="line">    download_all_doc(info,doc_download_path)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p><a href="https://github.com/xie-dd/yuque-book-download.git">https://github.com/xie-dd/yuque-book-download.git</a></p></blockquote><h3 id="修改一篇文章"><a href="#修改一篇文章" class="headerlink" title="修改一篇文章"></a>修改一篇文章</h3><h4 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h4><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408231932726.png"></p><h4 id="我们的代码"><a href="#我们的代码" class="headerlink" title="我们的代码"></a>我们的代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @File   : test.py</span></span><br><span class="line"><span class="comment"># @Author : xdd2026@qq.com</span></span><br><span class="line"><span class="comment"># @Data   : 2022/11/05 18:54</span></span><br><span class="line"><span class="comment"># @Purpose:</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot; 获取个人信息 &quot;&quot;&quot;</span></span><br><span class="line">    yuque_token = <span class="string">&quot;&quot;</span></span><br><span class="line">    url = <span class="string">&#x27;https://www.yuque.com/api/v2/user&#x27;</span></span><br><span class="line">    header = &#123;<span class="string">&quot;X-Auth-Token&quot;</span>: yuque_token&#125;</span><br><span class="line">    resu = requests.get(url, headers=header).json()</span><br><span class="line">    user_name = resu[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;login&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;&quot;&quot; 获取仓库信息 &quot;&quot;&quot;</span></span><br><span class="line">    url = <span class="string">&#x27;https://www.yuque.com/api/v2/users/&#x27;</span> + user_name + <span class="string">&quot;/repos&quot;</span></span><br><span class="line">    repo = requests.get(url, headers=header).json()[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">    repo_str = json.dumps(repo, indent=<span class="number">4</span>)</span><br><span class="line">    <span class="built_in">print</span>(repo_str)</span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;&quot;&quot; 更新文章 &quot;&quot;&quot;</span></span><br><span class="line">    book_id = <span class="string">&quot;48856153&quot;</span></span><br><span class="line">    doc_slug = <span class="string">&quot;144301227&quot;</span></span><br><span class="line">    url = <span class="string">f&quot;https://www.yuque.com/api/v2/repos/<span class="subst">&#123;book_id&#125;</span>/docs/<span class="subst">&#123;doc_slug&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    my_body = <span class="string">&quot;xdd-xdd-xdd&quot;</span></span><br><span class="line">    my_title = <span class="string">&quot;xdd3&quot;</span></span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&quot;slug&quot;</span>: doc_slug,</span><br><span class="line">        <span class="string">&quot;title&quot;</span>: my_title,</span><br><span class="line">        <span class="string">&quot;public&quot;</span>: <span class="number">1</span>,           <span class="comment"># 0:私密, 1:公开</span></span><br><span class="line">        <span class="string">&quot;format&quot;</span>: <span class="string">&quot;markdown&quot;</span>,  <span class="comment"># &quot;markdown&quot; &quot;html&quot; &quot;lake&quot;</span></span><br><span class="line">        <span class="string">&quot;body&quot;</span>: my_body</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    responses = requests.put(url, data=data, headers=header)</span><br><span class="line">    <span class="keyword">if</span> responses.status_code == <span class="number">200</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;文章更新完成&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="创建一篇文章"><a href="#创建一篇文章" class="headerlink" title="创建一篇文章"></a>创建一篇文章</h3><h4 id="官方文档-1"><a href="#官方文档-1" class="headerlink" title="官方文档"></a>官方文档</h4><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202408231337837.png"></p><h4 id="我们的代码-1"><a href="#我们的代码-1" class="headerlink" title="我们的代码"></a>我们的代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">check_is_exist</span>(<span class="params">book_id, my_slug</span>):</span><br><span class="line">    url = <span class="string">f&quot;https://www.yuque.com/api/v2/repos/<span class="subst">&#123;book_id&#125;</span>/docs/<span class="subst">&#123;my_slug&#125;</span>&quot;</span></span><br><span class="line">    responses = requests.get(url, headers=header)</span><br><span class="line">    <span class="keyword">if</span> responses.status_code == <span class="number">404</span>:</span><br><span class="line">        isexist = <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> responses.status_code == <span class="number">200</span>:</span><br><span class="line">        isexist = <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">&quot;出现错误&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> isexist</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot; 获取个人信息 &quot;&quot;&quot;</span></span><br><span class="line">    yuque_token = <span class="string">&quot;&quot;</span></span><br><span class="line">    url = <span class="string">&#x27;https://www.yuque.com/api/v2/user&#x27;</span></span><br><span class="line">    header = &#123;<span class="string">&quot;X-Auth-Token&quot;</span>: yuque_token&#125;</span><br><span class="line">    resu = requests.get(url, headers=header).json()</span><br><span class="line">    user_name = resu[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;login&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;&quot;&quot; 获取仓库信息 &quot;&quot;&quot;</span></span><br><span class="line">    url = <span class="string">&#x27;https://www.yuque.com/api/v2/users/&#x27;</span> + user_name + <span class="string">&quot;/repos&quot;</span></span><br><span class="line">    repo = requests.get(url, headers=header).json()[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">    repo_str = json.dumps(repo, indent=<span class="number">4</span>)</span><br><span class="line">    <span class="built_in">print</span>(repo_str)</span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;&quot;&quot; 发表文章 &quot;&quot;&quot;</span></span><br><span class="line">    book_id = <span class="string">&#x27;48856153&#x27;</span></span><br><span class="line">    url = <span class="string">f&quot;https://www.yuque.com/api/v2/repos/<span class="subst">&#123;book_id&#125;</span>/docs&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 先检查slug是存在</span></span><br><span class="line">    my_slug = <span class="string">&quot;144301227&quot;</span></span><br><span class="line">    my_title = <span class="string">&quot;Python提交的文档27&quot;</span></span><br><span class="line">    my_body = <span class="string">&quot;XDD&quot;</span></span><br><span class="line">    isexist = check_is_exist(book_id, my_slug)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> isexist == <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot; my_slug 已经存在&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">&quot;slug&quot;</span>: my_slug,</span><br><span class="line">            <span class="string">&quot;title&quot;</span>: my_title,</span><br><span class="line">            <span class="string">&quot;public&quot;</span>: <span class="number">1</span>,           <span class="comment"># 0:私密, 1:公开</span></span><br><span class="line">            <span class="string">&quot;format&quot;</span>: <span class="string">&quot;markdown&quot;</span>,  <span class="comment"># &quot;markdown&quot; &quot;html&quot; &quot;lake&quot;</span></span><br><span class="line">            <span class="string">&quot;body&quot;</span>: my_body</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        responses = requests.post(url, data=data, headers=header)</span><br><span class="line">        <span class="keyword">if</span> responses.status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;文章创建完成&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;&quot;&quot; 将文档添加到知识库目录 &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 获取某文档 id</span></span><br><span class="line">    url = <span class="string">f&quot;https://www.yuque.com/api/v2/repos/<span class="subst">&#123;book_id&#125;</span>/docs/<span class="subst">&#123;my_slug&#125;</span>&quot;</span></span><br><span class="line">    responses = requests.get(url, headers=header)</span><br><span class="line">    doc_id = responses.json()[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;id&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 更新目录</span></span><br><span class="line">    url = <span class="string">f&quot;https://www.yuque.com/api/v2/repos/<span class="subst">&#123;book_id&#125;</span>&quot;</span></span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&quot;action&quot;</span>: <span class="string">&quot;appendNode&quot;</span>,  <span class="comment"># appendNode:尾插, prependNode:头插,</span></span><br><span class="line">        <span class="string">&quot;action_mode&quot;</span>: <span class="string">&quot;child&quot;</span>,  <span class="comment"># sibling:同级, child:子级</span></span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;DOC&quot;</span>,           <span class="comment"># DOC:文档, LINK:外链, TITLE:分组</span></span><br><span class="line">        <span class="string">&quot;doc_ids&quot;</span>: doc_id,        <span class="comment"># 文档 ID 数组, Array of integers</span></span><br><span class="line">    &#125;</span><br><span class="line">    responses = requests.put(url, data=data, headers=header)</span><br><span class="line">    <span class="keyword">if</span> responses.status_code == <span class="number">200</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;文章添加到目录完成&quot;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>可以创建文章，但是不能添加到目录，不知道为啥，如有帮助，请评论告知。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 语雀 </tag>
            
            <tag> 备份 </tag>
            
            <tag> API </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Anaconda新建并使用新环境</title>
      <link href="/posts/8412/"/>
      <url>/posts/8412/</url>
      
        <content type="html"><![CDATA[<h3 id="新建环境"><a href="#新建环境" class="headerlink" title="新建环境"></a>新建环境</h3><p>使用 GUI:</p><ol><li>开始菜单打开 Anaconda Navigator — Environments — Create</li><li>填写名称 env_xdd，选择 python 版本 —  Create</li><li>耐心等待即可</li></ol><p>直接使用代码:</p><p>开始菜单打开 Anaconda Prompt</p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda create -n 环境名 python=<span class="number">3.8</span></span><br><span class="line">conda <span class="keyword">info</span> --envs</span><br></pre></td></tr></table></figure><h3 id="安装需要的包到新环境"><a href="#安装需要的包到新环境" class="headerlink" title="安装需要的包到新环境"></a>安装需要的包到新环境</h3><ol><li>开始菜单打开 Anaconda Prompt</li><li>查看环境列表—切换到指定环境—安装模块</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">conda info --envs</span><br><span class="line"></span><br><span class="line">activate env_xdd</span><br><span class="line">conda install numpy</span><br><span class="line">或  pip install numpy</span><br></pre></td></tr></table></figure><h3 id="在-Jupyter-notebook-使用指定环境"><a href="#在-Jupyter-notebook-使用指定环境" class="headerlink" title="在 Jupyter notebook 使用指定环境"></a>在 Jupyter notebook 使用指定环境</h3><ol><li>开始菜单打开 Anaconda Prompt，依次输入</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">activate env_xdd</span><br><span class="line">conda install ipykernel</span><br><span class="line">conda install -c conda-forge nb_conda</span><br><span class="line">pip install --upgrade --user nbconvert</span><br><span class="line">jupyter notebook</span><br></pre></td></tr></table></figure><h3 id="导出导入新环境"><a href="#导出导入新环境" class="headerlink" title="导出导入新环境"></a>导出导入新环境</h3><ol><li>导出：在 Anaconda Navigator 选择一个环境—点击 Backup—选择 Local drive—Backup—得到一个 yaml 文件</li><li>导入：打开  Anaconda Navigator —点击 Import —选择 yaml 文件—设置新环境名字—Import</li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> anaconda </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python 提交本地文件到 github</title>
      <link href="/posts/5183/"/>
      <url>/posts/5183/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># @Author: xdd2026@qq.com</span></span><br><span class="line"><span class="comment"># @CreateData: 2023-10-25 15:50:40</span></span><br><span class="line"><span class="comment"># @MaintenanceDate: 2023-10-25 15:50:40</span></span><br><span class="line"><span class="comment"># @Purpose: python 提交本地文件到 github</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 定义要切换到的目录</span></span><br><span class="line">repo_directory = <span class="string">r&quot;M:\blog_hexo&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换到指定目录</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># 使用subprocess运行cd命令切换目录</span></span><br><span class="line">    subprocess.run(<span class="string">f&quot;cd /d <span class="subst">&#123;repo_directory&#125;</span> &amp;&amp; git status&quot;</span>, shell=<span class="literal">True</span>, check=<span class="literal">True</span>, stdout=subprocess.PIPE)</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> subprocess.CalledProcessError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;切换目录时出现错误:&quot;</span>, e)</span><br><span class="line">    exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取当前时间字符串</span></span><br><span class="line">current_datetime = datetime.datetime.now()</span><br><span class="line">formatted_datetime = current_datetime.strftime(<span class="string">&quot;%Y-%m-%d_%H%M%S&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 写 log文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">f&quot;<span class="subst">&#123;repo_directory&#125;</span>/log.txt&quot;</span>, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> fw:</span><br><span class="line">    fw.write(formatted_datetime + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行Git命令（例如：git add, git commit, git push）</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># 拉取语雀文章</span></span><br><span class="line">    subprocess.run(<span class="string">f&quot;cd /d <span class="subst">&#123;repo_directory&#125;</span> &amp;&amp; yuque-hexo sync&quot;</span>, shell=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 添加文件</span></span><br><span class="line">    subprocess.run(<span class="string">f&quot;cd /d <span class="subst">&#123;repo_directory&#125;</span> &amp;&amp; git add .&quot;</span>, shell=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 提交更改</span></span><br><span class="line">    subprocess.run(<span class="string">f&quot;cd /d <span class="subst">&#123;repo_directory&#125;</span> &amp;&amp; git commit -m &#x27;<span class="subst">&#123;formatted_datetime&#125;</span>&#x27;&quot;</span>, shell=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 推送到GitHub</span></span><br><span class="line">    subprocess.run(<span class="string">f&quot;cd /d <span class="subst">&#123;repo_directory&#125;</span> &amp;&amp; git push&quot;</span>, shell=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;成功提交到GitHub&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> subprocess.CalledProcessError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;=&quot;</span> * <span class="number">80</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;执行Git命令时出现错误:&quot;</span>, e)</span><br><span class="line">    exit(<span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> git </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>右键上传文件到蓝奏云</title>
      <link href="/posts/22078/"/>
      <url>/posts/22078/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/zaxtyson/LanZouCloud-API">https://github.com/zaxtyson/LanZouCloud-API</a></p></blockquote><ol><li>安装依赖</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install lanzou-api</span><br></pre></td></tr></table></figure><ol start="2"><li>使用 Cookie 登陆。点击<a href="https://up.woozooo.com/">https://up.woozooo.com/</a>登陆自己的蓝奏云账户—F12—应用—存储—Cookie—<a href="https://up.woozooo.com/---%E8%8E%B7%E5%8F%96">https://up.woozooo.com/---获取</a> ylogin 与 phpdisk_info</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202310222128550.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from lanzou.api import LanZouCloud</span><br><span class="line"></span><br><span class="line">lzy = LanZouCloud()</span><br><span class="line">cookie = &#123;&#x27;ylogin&#x27;: &#x27;******&#x27;, &#x27;phpdisk_info&#x27;: &#x27;***&#x27;&#125;</span><br><span class="line">print(lzy.login_by_cookie(cookie) == LanZouCloud.SUCCESS)</span><br><span class="line"># True</span><br></pre></td></tr></table></figure><ol start="3"><li>上传文件</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">from lanzou.api import LanZouCloud</span><br><span class="line"></span><br><span class="line">lzy = LanZouCloud()</span><br><span class="line">cookie = &#123;&#x27;ylogin&#x27;: &#x27;***&#x27;, &#x27;phpdisk_info&#x27;: &#x27;***&#x27;&#125;</span><br><span class="line">print(lzy.login_by_cookie(cookie) == LanZouCloud.SUCCESS)</span><br><span class="line"># True</span><br><span class="line"></span><br><span class="line">code = lzy.upload_file(r&quot;D:\\AAA.rar&quot;)</span><br><span class="line">print(code)</span><br></pre></td></tr></table></figure><p>报错，未解决，已经报错到 github issue</p>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 蓝奏云 </tag>
            
            <tag> 右键 </tag>
            
            <tag> 网盘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+Github Page+Github Action+语雀</title>
      <link href="/posts/63230/"/>
      <url>/posts/63230/</url>
      
        <content type="html"><![CDATA[<h2 id="本地-Hexo"><a href="#本地-Hexo" class="headerlink" title="本地 Hexo"></a>本地 Hexo</h2><ol><li>安装 Node.js</li><li>安装 Git</li><li>在本地新建文件夹 blog_hexo</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd D:\blog_hexo&gt;</span><br><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><ol start="4"><li>修改_config.yml 文件，将 theme: landscape 修改成 theme: butterfly</li><li>关于在左上角开启主页&#x2F;分类&#x2F;标签功能，请查阅 <a href="https://blog.csdn.net/qq_43857095/article/details/108305144">分类&#x2F;Tags 显示 404 问题</a></li><li>在本地预览</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo cl</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><h2 id="Hexo-Github-Page"><a href="#Hexo-Github-Page" class="headerlink" title="Hexo+Github Page"></a>Hexo+Github Page</h2><ol><li>在 Github 网页新建同名仓库 xie-dd.github.io</li><li>修改 D:\blog_hexo_config.yml</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/xie-dd/xie-dd.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><ol start="3"><li>部署到远程</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g -d</span><br></pre></td></tr></table></figure><blockquote><p>注意：<font style="color:rgb(89, 89, 89);">hexo g -d 会将 public 目录中的文件和目录推送至 _config.yml 中指定的远端仓库和分支中，并且完全覆盖该分支下的已有内容</font></p></blockquote><ol start="4"><li>远程最终是这样的：</li></ol><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202310211646333.png"></p><ol start="5"><li>网页访问 <a href="https://xie-dd.github.io/">https://xie-dd.github.io/</a> 即可</li></ol><h2 id="Hexo-Github-Page-Github-Action"><a href="#Hexo-Github-Page-Github-Action" class="headerlink" title="Hexo+Github Page+Github Action"></a>Hexo+Github Page+Github Action</h2><blockquote><p>接着上面的 blog_hexo 文件夹操作</p><p>参考：<a href="https://www.bilibili.com/video/BV1XV411r7TG">使用 Hexo 和 Github Actions 自动化博客更新-bilibili</a></p></blockquote><ol><li>访问 Github—头像（右上角）—Settings—Developer Settings—Personal access tokens—generate new token—创建的 Token 的名称随意，但必须勾选 repo 项 和 workflows 项—复制 Token</li><li>在 Github 创建用于存放博客所有文件的 **私有仓库 **blog_hexo_repo (必须是私有仓库，因为 Token 的问题我没解决掉</li><li>点击仓库 Setting—Sectets and variables—Actions—New repository secret—Name:DEPLOY_BLOG—Secrets:粘贴第 1 步复制的 Token</li><li>在本地 blog_hexo 文件夹创建新文件夹<code>.github</code>，在<code>.github</code>文件夹内新建 main.yml 文件</li><li>在 main.yml 文件粘贴下面内容：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">name: Deploy Hexo Blog</span><br><span class="line"></span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches: [master]</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  bulid:</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    steps:</span><br><span class="line">    - uses: actions/checkout@v2</span><br><span class="line"></span><br><span class="line">    - name: Setup Node.js environment</span><br><span class="line">      uses: actions/setup-node@v3.8.1</span><br><span class="line">      with:</span><br><span class="line">        node-version: 18.12.1</span><br><span class="line"></span><br><span class="line">    - name: Deploy Blog</span><br><span class="line">      env:</span><br><span class="line">        DEPLOY_BLOG: $&#123;&#123;secrets.DEPLOY_BLOG&#125;&#125;</span><br><span class="line">      run: |</span><br><span class="line">        git config --global user.name &quot;xie-dd&quot;</span><br><span class="line">        git config --global user.email &quot;xie-dd@outlook.com&quot;</span><br><span class="line">        npm install</span><br><span class="line">        npm run build</span><br><span class="line">        npm run deploy</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="6"><li>修改 D:\blog_hexo_config.yml 文件，将</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/xie-dd/xie-dd.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p>修改为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo:</span><br><span class="line">    github:</span><br><span class="line">      url: https://github.com/xie-dd/xie-dd.github.io.git</span><br><span class="line">      branch: master</span><br><span class="line">      token: 这里填写你的Token, 正是因为这里要填写Token，所以blog_hexo_repo仓库不能公开</span><br></pre></td></tr></table></figure><ol start="7"><li>在本地 blog_hexo 文件夹将代码推送到远程</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git remote add origin https://github.com/xie-dd/blog_hexo_repo.git</span><br><span class="line">git checkout -b master</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;github action update&quot;</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure><ol start="8"><li>git 上传结束后会触发 Github Action, 然后会自动部署内容到博客页面</li></ol><h2 id="Hexo-Github-Page-Github-Action-语雀"><a href="#Hexo-Github-Page-Github-Action-语雀" class="headerlink" title="Hexo+Github Page+Github Action+语雀"></a>Hexo+Github Page+Github Action+语雀</h2><h3 id="几个注意事项"><a href="#几个注意事项" class="headerlink" title="几个注意事项"></a>几个注意事项</h3><ol><li>语雀拉取文章有延迟，需要注意</li><li>这里实际有两种情境<ol><li>第 1 种，先在本地命令行执行 yuque-hexo sync，再 git 推送到远程。这样即部署到了博客页面，也把语雀文章备份到本地以及 Github 仓库了</li><li>第 2 种，不在本地命令行执行 yuque-hexo sync，直接在本地 git 推送到远程。这样会在 Github Action 中拉取语雀内容并部署到博客页面，但是语雀内容不会备份到本地，也不会备份到 github 仓库</li></ol></li></ol><h3 id="配置流程"><a href="#配置流程" class="headerlink" title="配置流程"></a>配置流程</h3><blockquote><p><a href="https://www.zhwei.cn/hexo-github-actions-yuque/">Hexo：语雀云端写作 Github Actions 持续集成</a></p></blockquote><ol><li>获取语雀 Token</li><li>获取语雀用户名与语雀知识库短链接</li><li>语雀上写一篇文章并发布，文章内容格式如下，注意<strong>不要渲染</strong>三个短横线</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hexo+Github Page+Github Action</span><br><span class="line">tags: [test]</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">content</span><br></pre></td></tr></table></figure><ol start="4"><li>网页 Github 仓库 blog_hexo_repo—Setting—Sectets and variables—Actions—New repository secret—Name:YUQUE_TOKEN—Secrets:粘贴语雀的 Token</li><li>在本地安装 <code>npm i -g yuque-hexo</code></li><li>修改文件 D:\blog_hexo\package.json</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;hexo-site&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;0.0.0&quot;,</span><br><span class="line">  &quot;private&quot;: true,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;: &quot;yuque-hexo clean &amp;&amp; yuque-hexo sync &amp;&amp; hexo clean &amp;&amp; hexo generate&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;hexo generate&quot;,</span><br><span class="line">    &quot;clean&quot;: &quot;hexo clean&quot;,</span><br><span class="line">    &quot;deploy&quot;: &quot;hexo deploy&quot;,</span><br><span class="line">    &quot;server&quot;: &quot;hexo server&quot;,</span><br><span class="line">    &quot;sync&quot;: &quot;yuque-hexo sync&quot;,</span><br><span class="line">    &quot;clean:yuque&quot;: &quot;yuque-hexo clean&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;yuqueConfig&quot;: &#123;</span><br><span class="line">    &quot;postPath&quot;: &quot;source/_posts&quot;,</span><br><span class="line">    &quot;cachePath&quot;: &quot;yuque.json&quot;,</span><br><span class="line">    &quot;mdNameFormat&quot;: &quot;title&quot;,</span><br><span class="line">    &quot;adapter&quot;: &quot;markdown&quot;,</span><br><span class="line">    &quot;concurrency&quot;: 5,</span><br><span class="line">    &quot;baseUrl&quot;: &quot;https://www.yuque.com/api/v2&quot;,</span><br><span class="line">    &quot;login&quot;: &quot;xdd1997&quot;,</span><br><span class="line">    &quot;repo&quot;: &quot;blog&quot;,</span><br><span class="line">    &quot;token&quot;: &quot;粘贴你的语雀token&quot;,</span><br><span class="line">    &quot;onlyPublished&quot;: true,</span><br><span class="line">    &quot;onlyPublic&quot;: true</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;hexo&quot;: &#123;</span><br><span class="line">    &quot;version&quot;: &quot;6.3.0&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;hexo&quot;: &quot;^6.0.0&quot;,</span><br><span class="line">    &quot;hexo-deployer-git&quot;: &quot;^4.0.0&quot;,</span><br><span class="line">    &quot;hexo-generator-archive&quot;: &quot;^2.0.0&quot;,</span><br><span class="line">    &quot;hexo-generator-category&quot;: &quot;^2.0.0&quot;,</span><br><span class="line">    &quot;hexo-generator-index&quot;: &quot;^3.0.0&quot;,</span><br><span class="line">    &quot;hexo-generator-tag&quot;: &quot;^2.0.0&quot;,</span><br><span class="line">    &quot;hexo-renderer-ejs&quot;: &quot;^2.0.0&quot;,</span><br><span class="line">    &quot;hexo-renderer-marked&quot;: &quot;^6.0.0&quot;,</span><br><span class="line">    &quot;hexo-renderer-pug&quot;: &quot;^3.0.0&quot;,</span><br><span class="line">    &quot;hexo-renderer-stylus&quot;: &quot;^3.0.0&quot;,</span><br><span class="line">    &quot;hexo-server&quot;: &quot;^3.0.0&quot;,</span><br><span class="line">    &quot;hexo-theme-landscape&quot;: &quot;^1.0.0&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="7"><li>修改文件 D:\blog_hexo.github\workflows\main.yml</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">name: Deploy Hexo Blog</span><br><span class="line"></span><br><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    branches: [master]</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  bulid:</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    steps:</span><br><span class="line"></span><br><span class="line">    - name: Checkout Repository master branch</span><br><span class="line">      uses: actions/checkout@master</span><br><span class="line"></span><br><span class="line">    - name: 设置 Node 环境</span><br><span class="line">      uses: actions/setup-node@v3.8.1</span><br><span class="line">      with:</span><br><span class="line">        node-version: 18.12.1</span><br><span class="line"></span><br><span class="line">    - name: 设置 Hexo 依赖项并生成 Public 文件.</span><br><span class="line">      env:</span><br><span class="line">        YUQUE_TOKEN: $&#123;&#123; secrets.YUQUE_TOKEN &#125;&#125;</span><br><span class="line">      run: |</span><br><span class="line">        npm install hexo-cli -g</span><br><span class="line">        npm install yuque-hexo -g</span><br><span class="line">        npm install</span><br><span class="line">        npm run start</span><br><span class="line"></span><br><span class="line">    - name: 部署到xie-dd.github.io网站</span><br><span class="line">      uses: peaceiris/actions-gh-pages@v3</span><br><span class="line">      with:</span><br><span class="line">        personal_token: $&#123;&#123; secrets.DEPLOY_BLOG &#125;&#125;</span><br><span class="line">        external_repository: xie-dd/xie-dd.github.io</span><br><span class="line">        publish_branch: master</span><br><span class="line">        publish_dir: ./public</span><br><span class="line">        commit_message: $&#123;&#123; github.event.head_commit.message &#125;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="8"><li>推送到远程并自动部署博客网页。这里有几种选择：</li></ol><p>（1）在本地执行 <code>yuque-hexo sync</code>，然后执行 <code>hexo g -d</code>。这种情况语雀文章会被下载到本地，然后部署到网页，但是不会上传语雀文章到 Github 仓库，自然也不会触发 Github Action</p><p>（2）在本地直接执行 <code>git add commit push</code> 三件套，这样会将本地原来的文章上传到 Github，于是触发了 Github Action，然后自动爬取语雀文章，部署到网页。这种情况不会备份语雀文章到本地，也不会备份语雀文章到 Github 仓库</p><p>（3）在本地执行 <code>yuque-hexo sync</code>，然后执行 <code>git add commit push</code> 三件套，这样会触发 Github Action，然后自动爬取语雀文章，部署到网页。这种情况会下载语雀文章到本地，也会备份语雀文章到 Github 仓库（推荐）</p><h2 id="Hexo-Github-Page-Github-Action-语雀-云函数"><a href="#Hexo-Github-Page-Github-Action-语雀-云函数" class="headerlink" title="Hexo+Github Page+Github Action+语雀+云函数"></a>Hexo+Github Page+Github Action+语雀+云函数</h2><p><a href="https://19970622.xyz/posts/2046/">https://19970622.xyz/posts/2046/</a></p><h2 id="Hexo-Github-Page-Github-Action-语雀-任务计划程序"><a href="#Hexo-Github-Page-Github-Action-语雀-任务计划程序" class="headerlink" title="Hexo+Github Page+Github Action+语雀+任务计划程序"></a>Hexo+Github Page+Github Action+语雀+任务计划程序</h2><ol><li>win+R—<font style="color:rgb(18, 18, 18);">taskschd.msc—创建基本任务</font></li><li><font style="color:rgb(18, 18, 18);">名称：同步语雀文章到 Hexo</font></li><li><font style="color:rgb(18, 18, 18);">触发器：每天</font></li><li><font style="color:rgb(18, 18, 18);">操作：启动程序</font></li><li><font style="color:rgb(18, 18, 18);">程序或脚本：”C:\Python38\python.exe”</font></li><li><font style="color:rgb(18, 18, 18);">添加参数：”D:\File_Important\yuque_hexo\yuque_hexo.py”, 该文件内容如下：</font></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># @Author: xdd2026@qq.com</span></span><br><span class="line"><span class="comment"># @CreateData: 2023-10-25</span></span><br><span class="line"><span class="comment"># @MaintenanceDate: 2023-10-27</span></span><br><span class="line"><span class="comment"># @Purpose: python 提交本地文件到 github</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义要切换到的目录</span></span><br><span class="line">repo_directory = <span class="string">r&quot;D:\blog_hexo&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换到指定目录</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># 使用subprocess运行cd命令切换目录</span></span><br><span class="line">    subprocess.run(<span class="string">f&quot;cd /d <span class="subst">&#123;repo_directory&#125;</span> &amp;&amp; git status&quot;</span>, shell=<span class="literal">True</span>, check=<span class="literal">True</span>, stdout=subprocess.PIPE)</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> subprocess.CalledProcessError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;切换目录时出现错误:&quot;</span>, e)</span><br><span class="line">    exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取当前时间字符串</span></span><br><span class="line">current_datetime = datetime.datetime.now()</span><br><span class="line">formatted_datetime = current_datetime.strftime(<span class="string">&quot;%Y-%m-%d_%H%M%S&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 写 log文件, 为了可以正常git提交</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">f&quot;<span class="subst">&#123;repo_directory&#125;</span>/log.txt&quot;</span>, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> fw:</span><br><span class="line">    fw.write(formatted_datetime + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行Git命令（例如：git add, git commit, git push）</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># 拉取语雀文章</span></span><br><span class="line">    subprocess.run(<span class="string">f&quot;cd /d <span class="subst">&#123;repo_directory&#125;</span> &amp;&amp; yuque-hexo sync&quot;</span>, shell=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 处理git可能的异常</span></span><br><span class="line">    subprocess.run(<span class="string">f&quot;git config --global --unset http.proxy&quot;</span>, shell=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line">    subprocess.run(<span class="string">f&quot;git config --global --unset https.proxy&quot;</span>, shell=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line">    subprocess.run(<span class="string">f&quot;ipconfig/flushdns&quot;</span>, shell=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 添加文件</span></span><br><span class="line">    subprocess.run(<span class="string">f&quot;cd /d <span class="subst">&#123;repo_directory&#125;</span> &amp;&amp; git add .&quot;</span>, shell=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 提交更改</span></span><br><span class="line">    subprocess.run(<span class="string">f&quot;cd /d <span class="subst">&#123;repo_directory&#125;</span> &amp;&amp; git commit -m &#x27;<span class="subst">&#123;formatted_datetime&#125;</span>&#x27;&quot;</span>, shell=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 推送到GitHub</span></span><br><span class="line">    subprocess.run(<span class="string">f&quot;cd /d <span class="subst">&#123;repo_directory&#125;</span> &amp;&amp; git push&quot;</span>, shell=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;成功提交到GitHub&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> subprocess.CalledProcessError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;=&quot;</span> * <span class="number">80</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;执行Git命令时出现错误:&quot;</span>, e)</span><br><span class="line">    exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br></pre></td></tr></table></figure><h2 id="Hexo-Github-Page-Github-Action-语雀-OSS-部署"><a href="#Hexo-Github-Page-Github-Action-语雀-OSS-部署" class="headerlink" title="Hexo+Github Page+Github Action+语雀+OSS 部署"></a>Hexo+Github Page+Github Action+语雀+OSS 部署</h2><blockquote><p><a href="https://blog.zhequtao.com/content/op/deploy-fe-with-alioss.html">https://blog.zhequtao.com/content/op/deploy-fe-with-alioss.html</a></p></blockquote><ol><li>安装插件：npm install hexo-deployer-ali-oss –save</li><li>开通阿里云 oss，权限为 <strong>公共读</strong></li><li>修改 hexo 博客根目录下的配置文件_config.yml ，修改如下部署配置</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">repo:</span></span><br><span class="line">      <span class="attr">github:</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">https://github.com/xie-dd/xie-dd.github.io.git</span></span><br><span class="line">        <span class="attr">branch:</span> <span class="string">master</span></span><br><span class="line">        <span class="attr">token:</span> <span class="string">ghp_sgiscI*****qVgyXNw3kooiek0keA7n</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">## 部署到阿里云 OSS</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">ali-oss</span></span><br><span class="line">    <span class="attr">region:</span> <span class="string">&lt;您的bucket</span> <span class="string">地址&gt;</span></span><br><span class="line">    <span class="attr">accessKeyId:</span> <span class="string">&lt;您的oss</span>  <span class="string">accessKeyId&gt;</span></span><br><span class="line">    <span class="attr">accessKeySecret:</span> <span class="string">&lt;您的oss</span> <span class="string">accessKeySecret&gt;</span></span><br><span class="line">    <span class="attr">bucket:</span> <span class="string">&lt;您的bucket</span> <span class="string">name&gt;</span></span><br></pre></td></tr></table></figure><ol start="4"><li><code>hexo g -d</code> 即可部署到 OSS</li><li>在 oss 管理界面—数据管理—静态页面<ol><li>默认首页： index.html</li><li>子目录首页：开通</li><li>文件 404 规则：Index</li><li>默认 404 页：空着即可</li></ol></li><li>等待一段时间（真的要等待）才会生效，访问你的 Bucket 域名即可 <a href="http://hexoxdd.oss-cn-beijing.aliyuncs.com/">hexoxdd.oss-cn-beijing.aliyuncs.com</a></li></ol><h2 id="现在的成果"><a href="#现在的成果" class="headerlink" title="现在的成果"></a>现在的成果</h2><h3 id="方式-1"><a href="#方式-1" class="headerlink" title="方式 1:"></a>方式 1:</h3><ol><li>在语雀写文章</li><li>在本地 cmd 执行下面代码，即可将语雀内容备份到本地与 Github 仓库，并部署到 Github Page</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /d M:\blog_hexo</span><br><span class="line">yuque-hexo sync  # 这一步是备份到本地,可以不执行,文章更新有延迟</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;202310241546&quot;</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><h3 id="方式-2"><a href="#方式-2" class="headerlink" title="方式 2"></a>方式 2</h3><ol><li>在语雀写文章</li><li>在 cmd 按照下面的方法部署，这样不会备份，也不会触发 Github Action</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /d M:\blog_hexo</span><br><span class="line">yuque-hexo sync</span><br><span class="line">hexo g -d</span><br></pre></td></tr></table></figure><h3 id="方式-3"><a href="#方式-3" class="headerlink" title="方式 3"></a>方式 3</h3><p>使用 Windows 任务计划程序自动执行</p><h3 id="方式-4"><a href="#方式-4" class="headerlink" title="方式 4"></a>方式 4</h3><p>Github 自动部署到 Github Page 与 阿里云 OSS</p><h3 id="方式-5"><a href="#方式-5" class="headerlink" title="方式 5"></a>方式 5</h3><p>语雀写完文章后点击发布，自动触发云函数，然后触发 github action</p><h2 id="可能的错误"><a href="#可能的错误" class="headerlink" title="可能的错误"></a>可能的错误</h2><h4 id="fatal-“unable-to-access”-https-github-com-Recv-failure-Connection-was-reset"><a href="#fatal-“unable-to-access”-https-github-com-Recv-failure-Connection-was-reset" class="headerlink" title="fatal: “unable to access” https://github.com/ Recv failure: Connection was reset"></a>fatal: “unable to access” <a href="https://github.com/">https://github.com/</a> Recv failure: Connection was reset</h4><p>解决方法：<a href="https://blog.csdn.net/m0_69087087/article/details/128838186">https://blog.csdn.net/m0_69087087&#x2F;article&#x2F;details&#x2F;128838186</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">win+r --- cmd</span><br><span class="line">git config --global --unset http.proxy</span><br><span class="line">git config --global --unset https.proxy</span><br><span class="line">ipconfig/flushdns</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure><h4 id="网站运行时间显示为-0"><a href="#网站运行时间显示为-0" class="headerlink" title="网站运行时间显示为 0"></a>网站运行时间显示为 0</h4><p>不知道我的 _config.butterfly.yml 文件 publish_date 这个地方为什么是 start_date，改回 publish_date 就好了</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行时间</span></span><br><span class="line">runtimeshow:</span><br><span class="line">  enable: true</span><br><span class="line">  publish_date: <span class="number">2023</span>/<span class="number">10</span>/<span class="number">21</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span></span><br></pre></td></tr></table></figure><h2 id="主题设置以及其它问题"><a href="#主题设置以及其它问题" class="headerlink" title="主题设置以及其它问题"></a>主题设置以及其它问题</h2><h3 id="图片问题"><a href="#图片问题" class="headerlink" title="图片问题"></a>图片问题</h3><p>**方法 1 **</p><p>以 butterfly 主题为例，打开主题文件的 &#x2F;themes&#x2F;butterfly&#x2F;layout&#x2F;includes&#x2F;head.pug，在 “meta(name&#x3D;”theme-color” content&#x3D;themeColor)” 后方添加 meta(name&#x3D;”referrer” content&#x3D;”no-referrer”)，该步骤是确保语雀中的图片可以正常加载</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">meta(name=&quot;theme-color&quot; content=themeColor)</span><br><span class="line">meta(name=&quot;referrer&quot; content=&quot;no-referrer&quot;)</span><br></pre></td></tr></table></figure><p><strong>方法 2</strong></p><p>在语雀中使用图片链接，而不是粘贴图片</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![](...)</span><br></pre></td></tr></table></figure><h3 id="评论系统"><a href="#评论系统" class="headerlink" title="评论系统"></a>评论系统</h3><p><a href="https://zhuanlan.zhihu.com/p/645394881">Hexo + Butterfly 评论功能</a></p><h4 id="giscus-配置"><a href="#giscus-配置" class="headerlink" title="giscus 配置"></a>giscus 配置</h4><p><a href="https://zhuanlan.zhihu.com/p/603658639">hexo-butterfly 主题-giscus 评论系统设置 - 知乎</a></p><ol><li>安装 Giscus：<a href="https://github.com/apps/giscus">https://github.com/apps/giscus</a></li><li>配置 Giscus：<a href="https://giscus.app/zh-CN">https://giscus.app/zh-CN</a>，得到一段脚本，类似</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;script</span> <span class="string">src=&quot;https://giscus.app/client.js&quot;</span></span><br><span class="line"><span class="string">data-repo=&quot;xie-dd/blog_hexo_comment&quot;</span></span><br><span class="line"><span class="string">data-repo-id=&quot;R_kgDOKg***&quot;</span></span><br><span class="line"><span class="string">data-category=&quot;General&quot;</span></span><br><span class="line"><span class="string">data-category-id=&quot;DIC_kwDOKjyVRs4Car4o***&quot;</span></span><br><span class="line"><span class="string">data-mapping=&quot;url&quot;</span></span><br><span class="line"><span class="string">data-strict=&quot;0&quot;</span></span><br><span class="line"><span class="string">data-reactions-enabled=&quot;1&quot;</span></span><br><span class="line"><span class="string">data-emit-metadata=&quot;0&quot;</span></span><br><span class="line"><span class="string">data-input-position=&quot;top&quot;</span></span><br><span class="line"><span class="string">data-theme=&quot;preferred_color_scheme&quot;</span></span><br><span class="line"><span class="string">data-lang=&quot;zh-CN&quot;</span></span><br><span class="line"><span class="string">data-loading=&quot;lazy&quot;</span></span><br><span class="line"><span class="string">crossorigin=&quot;anonymous&quot;</span></span><br><span class="line"><span class="string">async&gt;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li><strong>修改</strong>主题文件下面两处内容 D:\blog_hexo_config.butterfly.yml</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus/Remark42/Artalk</span></span><br><span class="line">  <span class="attr">use:</span> <span class="string">Giscus</span></span><br><span class="line">  <span class="attr">text:</span> <span class="literal">true</span> <span class="comment"># Display the comment name next to the button</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">false</span> <span class="comment"># Display comment count in post&#x27;s top_img</span></span><br><span class="line">  <span class="attr">card_post_count:</span> <span class="literal">false</span> <span class="comment"># Display comment count in Home Page</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Giscus</span></span><br><span class="line"><span class="comment"># https://giscus.app/</span></span><br><span class="line"><span class="attr">giscus:</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">&quot;xie-dd/blog_hexo_comment&quot;</span></span><br><span class="line">  <span class="attr">repo_id:</span> <span class="string">&quot;R_kgDOKjyVRg&quot;</span></span><br><span class="line">  <span class="attr">category_id:</span> <span class="string">&quot;DIC_kwDOKjyVRs4Car4o&quot;</span></span><br><span class="line">  <span class="attr">theme:</span></span><br><span class="line">    <span class="attr">light:</span> <span class="string">light</span></span><br><span class="line">    <span class="attr">dark:</span> <span class="string">dark</span></span><br><span class="line">  <span class="attr">option:</span></span><br></pre></td></tr></table></figure><h3 id="网页链接问题"><a href="#网页链接问题" class="headerlink" title="网页链接问题"></a>网页链接问题</h3><blockquote><p><a href="https://blog.csdn.net/qq_38157825/article/details/112783398">在 Hexo 中使用 Hexo-abbrlink 生成唯一文章链接</a></p></blockquote><p>Hexo 生成博客文章的链接时，默认格式 permalink: :year&#x2F;:month&#x2F;:day&#x2F;:title&#x2F; ，如果标题中含中文的话，复制 URL 链接的话中文字符就会是一大串编码字符。如果想为每一篇文章生成唯一 ID 的话，推荐使用 hexo-abbrlink</p><ol><li>在本地安装 npm install hexo-abbrlink -g</li><li>修改本地 config.yml 文件如下，注释原来的，启用新的</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># permalink: :year/:month/:day/:title/</span><br><span class="line">permalink: posts/:abbrlink/</span><br></pre></td></tr></table></figure><ol start="3"><li>修改文件 D:\blog_hexo.github\workflows\main.yml，添加一行 <code>npm install hexo-abbrlink -g</code></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- name: 设置 Hexo 依赖项并生成 Public 文件.</span><br><span class="line">      env:</span><br><span class="line">        YUQUE_TOKEN: $&#123;&#123; secrets.YUQUE_TOKEN &#125;&#125;</span><br><span class="line">      run: |</span><br><span class="line">        npm install hexo-cli -g</span><br><span class="line">        npm install hexo-abbrlink -g</span><br><span class="line">        npm install yuque-hexo -g</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="文章最下面作者与链接"><a href="#文章最下面作者与链接" class="headerlink" title="文章最下面作者与链接"></a>文章最下面作者与链接</h3><p>修改文件 D:\blog_hexo_config.yml, 里面的 author url 即可</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202404102220359.png"></p><h3 id="搜索系统"><a href="#搜索系统" class="headerlink" title="搜索系统"></a>搜索系统</h3><ol><li>进入<a href="https://links.jianshu.com/go?to=https://www.algolia.com/">官网地址</a>  注册 — 点击左下角 Data sources 图标—Indices—Creat Index</li><li>点击左下角 Setting 图标—API Keys—All API Keys—New API Key</li><li>在弹窗中：有一个选项选择前面创建的 Index, 最后的 ACL 选择以下 7 项：search，browse，addObject，deleteObject，deletelndex，listlndexes，usage， 其它默认，最后点击 Create</li><li>点击左下角 Setting 图标—API Keys—Your API Keys，获得三个参数 Application ID，Search-Only API Key，Admin API Key</li><li>安装插件  <code>npm install hexo-algoliasearch</code></li><li>修改 D:\blog_hexo_config.yml ，添加如下代码，记得把###替换</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 搜索内容</span><br><span class="line">algolia:</span><br><span class="line">  appId: &quot;###&quot;</span><br><span class="line">  apiKey: &quot;###&quot;</span><br><span class="line">  adminApiKey: &quot;###&quot;</span><br><span class="line">  chunkSize: 5000</span><br><span class="line">  indexName: &quot;blog_hexo&quot;</span><br><span class="line">  fields:</span><br><span class="line">    - content:strip:truncate,0,500</span><br><span class="line">    - excerpt:strip</span><br><span class="line">    - gallery</span><br><span class="line">    - permalink</span><br><span class="line">    - photos</span><br><span class="line">    - slug</span><br><span class="line">    - tags</span><br><span class="line">    - title</span><br></pre></td></tr></table></figure><ol start="7"><li>修改 D:\blog_hexo_config.butterfly.yml</li><li>执行 <code>hexo algolia</code></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">algolia_search:</span><br><span class="line">  enable: true</span><br><span class="line">  hits:</span><br><span class="line">    per_page: 10</span><br><span class="line">  labels:</span><br><span class="line">    input_placeholder: Search for Posts</span><br><span class="line">    hits_empty: &quot;我们没有找到任何搜索结果: $&#123;query&#125;&quot;</span><br><span class="line">    hits_stats: &quot;找到$&#123;hits&#125;条结果（用时$&#123;time&#125; ms）&quot;</span><br></pre></td></tr></table></figure><ol start="8"><li>如果使用了 Github Action, 还需要修改 D:\blog_hexo.github\workflows\main.yml</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 在安装 hexo-cli 的地方添加一行</span><br><span class="line">npm install hexo-algoliasearch -g</span><br></pre></td></tr></table></figure><h3 id="Front-matter"><a href="#Front-matter" class="headerlink" title="Front-matter"></a><font style="color:rgb(68, 68, 68);">Front-matter</font></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标题</span><br><span class="line">categories: [A]</span><br><span class="line">tags: [A, B, C]</span><br><span class="line">date: 2023-10-23</span><br><span class="line">updated: 2023-10-23</span><br><span class="line">cover : 封面头图链接文本</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p><strong>cover:</strong> 控制主页上每篇文章显示图片，如果不设置，则主页文章没有图片</p><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202404102220901.png"></p><p><strong><font style="color:rgb(77, 77, 77);">top_img:</font></strong><font style="color:rgb(77, 77, 77);"> 控制文章内最上面图片，如果没有，则使用 cover 的图片</font><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202404102221123.png"></p><h3 id="SEO-优化"><a href="#SEO-优化" class="headerlink" title="SEO 优化"></a><font style="color:rgb(18, 18, 18);">SEO 优化</font></h3><blockquote><p><a href="https://zhuanlan.zhihu.com/p/344927945">https://zhuanlan.zhihu.com/p/344927945</a></p></blockquote><h4 id="百度收录"><a href="#百度收录" class="headerlink" title="百度收录"></a>百度收录</h4><blockquote><p><a href="https://zhuanlan.zhihu.com/p/100922816">https://zhuanlan.zhihu.com/p/100922816</a></p></blockquote><ol><li>验证时，使用文件验证，下载百度给的 html 文件放到 source 文件夹</li><li>修改刚才的 html 文件，添加下面的前三行</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: false</span><br><span class="line">---</span><br><span class="line">cada67d9dde712f908945c31d3ed3451</span><br></pre></td></tr></table></figure><ol start="3"><li>其它参照一般的教程即可</li><li>提交收录时选择 sitemap 收录【sitemap 提交工具仅对已验证站点开放使用】，先执行以下命令生成 baidusitemap.xml，部署到 Github Page</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure><ol start="5"><li>在百度平台—资源提交—普通收录—sitemap, 添加一条</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://20161101.xyz/baidusitemap.xml</span><br></pre></td></tr></table></figure><ol start="6"><li>实在不行，<a href="https://ziyuan.baidu.com/linksubmit/index?site=https://20161101.xyz/">手动提交</a>，将链接粘贴后，提交</li><li>也可以使用 <a href="https://ziyuan.baidu.com/linksubmit/index?site=https://20161101.xyz/">API</a> 提交，使用使用定时任务执</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /d D:\blog_hexo\public</span><br><span class="line">curl -H &#x27;Content-Type:text/plain&#x27; --data-binary @baidu_urls.txt &quot;http://data.zz.baidu.com/urls?site=https://20161101.xyz&amp;token=****&quot;</span><br></pre></td></tr></table></figure><h3 id="文章排序"><a href="#文章排序" class="headerlink" title="文章排序"></a>文章排序</h3><p>希望文章安装更新时间排序，修改文件：D:\blog_hexo_config.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-updated</span></span><br></pre></td></tr></table></figure><h3 id="ICP-备案号"><a href="#ICP-备案号" class="headerlink" title="ICP 备案号"></a>ICP 备案号</h3><p>打开文件 D:\blog_hexo\themes\butterfly\layout\includes\footer.pug ，添加下面一行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;span&gt; | 豫ICP备&lt;a href=&quot;https://beian.miit.gov.cn/&quot; target=&quot;_blank&quot;&gt;2023031381&lt;/a&gt;号&lt;/span&gt;</span><br><span class="line"></span><br><span class="line">&lt;span&gt; | &lt;img src=&quot;https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202311231912584.png&quot; height=&quot;16&quot; width=&quot;16&quot; style=&quot;display:inline-block;&quot;&gt; 豫公网安备&lt;a href=&quot;https://beian.mps.gov.cn/#/query/webSearch?code=41140002000710\&quot; target=&quot;_blank&quot;&gt;41140002000710&lt;/a&gt;号&lt;/span&gt;</span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202311182040563.png"><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202311231935933.png"></p><h3 id="主页文章显示数目以及归档页文章显示数目"><a href="#主页文章显示数目以及归档页文章显示数目" class="headerlink" title="主页文章显示数目以及归档页文章显示数目"></a>主页文章显示数目以及归档页文章显示数目</h3><ul><li><font style="color:rgb(76, 73, 72);">主页文章显示数目只需在</font><font style="color:rgb(244, 116, 102);">_config.yml </font><font style="color:rgb(76, 73, 72);">中调整</font></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">index_generator:</span><br><span class="line">  path: &#x27;&#x27;</span><br><span class="line">  per_page: 10</span><br><span class="line">  order_by: -updated</span><br></pre></td></tr></table></figure><ul><li><font style="color:rgb(76, 73, 72);">archive 页面中调整需要下载插件</font></li></ul><table><thead><tr><th><code>plain npm install --save hexo-generator-archive </code></th></tr></thead></table><p><font style="color:rgb(76, 73, 72);">然后在</font><font style="color:rgb(244, 116, 102);">_config.yml </font><font style="color:rgb(76, 73, 72);">中添加：</font></p><table><thead><tr><th><code>plain archive_generator:   per_page: 5   yearly: true   monthly: true </code></th></tr></thead></table><h3 id="添加导航"><a href="#添加导航" class="headerlink" title="添加导航"></a>添加导航</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  主页: / || fas fa-home</span><br><span class="line">  归档: /archives/ || fas fa-archive</span><br><span class="line">  分类: /categories/ || fas fa-folder-open</span><br><span class="line">  标签: /tags/ || fas fa-tags</span><br><span class="line">  Link||fas fa-link:</span><br><span class="line">    flarum: https://flarum.19970622.xyz/ || fa-solid fa-share-from-square</span><br><span class="line">  #   Movie: /movies/ || fas fa-video</span><br><span class="line">  # About: /about/ || fas fa-heart</span><br></pre></td></tr></table></figure><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202502191634761.png"></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
            <tag> github action </tag>
            
            <tag> hexo </tag>
            
            <tag> github page </tag>
            
            <tag> 语雀 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>测试文档</title>
      <link href="/posts/28980/"/>
      <url>/posts/28980/</url>
      
        <content type="html"><![CDATA[<p>测试函数，测试图片&#x2F;&#x2F;OK</p><p><img src="https://cdn.nlark.com/yuque/0/2023/png/1488614/1697884004448-37db6ec9-aeb9-4e4f-83de-2e5a68b8b632.png"></p><p>测试表格&#x2F;&#x2F;OK</p><table><thead><tr><th>1</th><th>1</th><th>1</th></tr></thead><tbody><tr><td>2</td><td>2</td><td>2</td></tr><tr><td>3</td><td>3</td><td>3</td></tr></tbody></table><p>测试行内代码<code>dddd </code>&#x2F;&#x2F;OK</p><p><strong>加粗：AAA&#x2F;&#x2F;OK</strong></p><p><em>斜体： AAA&#x2F;&#x2F;OK</em></p><p><em><strong>加粗斜体：AAA&#x2F;&#x2F;OK</strong></em></p><p><em><strong><font style="color:#DF2A3F;">文字颜色&#x2F;&#x2F;NOT OK</font></strong></em></p><p><em><strong><font style="background-color:#FBDE28;">文字背景色</font></strong>__<strong><font style="color:#DF2A3F;">&#x2F;&#x2F;NOT OK</font></strong></em></p><p><em><strong><font style="color:#DF2A3F;"></font></strong></em></p><p><em><strong><font style="color:#DF2A3F;">分栏 &#x2F;&#x2F;NOT OK</font></strong></em></p><p>第一栏</p><p>第一栏</p><p>第 2 栏</p><p>第一栏</p><h2 id="Hexo-note"><a href="#Hexo-note" class="headerlink" title="Hexo-note"></a><font style="color:rgb(31, 35, 40);">Hexo-</font><font style="color:rgb(31, 35, 40);">note</font></h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">note</span> <span class="string">success</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">一个</span> <span class="string">Success</span> <span class="string">提示</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endnote</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure><div class="note success flat"><p>一个 Success 提示</p></div><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202410082022278.png"></p><p>其它风格</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">note</span> <span class="string">default</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">一个</span> <span class="string">default</span> <span class="string">提示</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endnote</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">note</span> <span class="string">primary</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">一个</span> <span class="string">primary</span> <span class="string">提示</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endnote</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">note</span> <span class="string">success</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">一个</span> <span class="string">success</span> <span class="string">提示</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endnote</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">note</span> <span class="string">info</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">一个</span> <span class="string">info</span> <span class="string">提示</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endnote</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">note</span> <span class="string">warning</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">一个</span> <span class="string">warning</span> <span class="string">提示</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endnote</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">note</span> <span class="string">danger</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">一个</span> <span class="string">danger</span> <span class="string">提示</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endnote</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note default flat"><p>一个 default 提示</p></div><div class="note primary flat"><p>一个 primary 提示</p></div><div class="note success flat"><p>一个 success 提示</p></div><div class="note info flat"><p>一个 info 提示</p></div><div class="note warning flat"><p>一个 warning 提示</p></div><div class="note danger flat"><p>一个 danger 提示</p></div><p><img src="https://mypic2016.oss-cn-beijing.aliyuncs.com/picGo/202410082024884.png"></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> test </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
